/*! For license information please see main.f9329291.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case E:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(cg){}}return null}var D=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function B(e,t){F++,M[F]=e.current,e.current=t}var z=U(null),H=U(null),q=U(null),W=U(null);function K(e,t){switch(B(q,t),B(H,e),B(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(z),B(z,e)}function G(){V(z),V(H),V(q)}function Q(e){null!==e.memoizedState&&B(W,e);var t=z.current,n=sh(t,e.type);t!==n&&(B(H,e),B(z,n))}function Y(e){H.current===e&&(V(z),V(H)),W.current===e&&(V(W),Qh._currentValue=L)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ke(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Pe=Math.random().toString(36).slice(2),Re="__reactFiber$"+Pe,De="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,je="__reactEvents$"+Pe,Le="__reactListeners$"+Pe,Me="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,Ue="__reactMarker$"+Pe;function Ve(e){delete e[Re],delete e[De],delete e[je],delete e[Le],delete e[Me]}function Be(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Re])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Re]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(cg){var t=cg.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<cg.stack.indexOf("\n    at")?" (<anonymous>)":-1<cg.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(cg){var r=cg}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(cg){return"\nError generating stack: "+cg.message+"\n"+cg.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Dt=null;function Ot(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[De]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Lt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Rt||null!==Dt)&&(Bc(),Rt&&(t=Rt,e=Dt,Dt=Rt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Dd){Ut=!1}var Bt=null,zt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=zt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Qt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Qt(nn),sn=Qt(d({},nn,{dataTransfer:0})),an=Qt(d({},en,{relatedTarget:0})),on=Qt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(d({},Jt,{newState:0,oldState:0})),En=[9,13,27,32],xn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var _n=Ft&&"TextEvent"in window&&!Sn,kn=Ft&&(!xn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),Cn=!1;function An(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Dn(e,t,n,r){Rt?Dt?Dt.push(r):Dt=[r]:Rt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,jn=null;function Ln(e){Lu(e,0)}function Mn(e){if(dt(He(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Bn="function"===typeof zn.oninput}Vn=Bn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function Hn(){On&&(On.detachEvent("onpropertychange",qn),jn=On=null)}function qn(e){if("value"===e.propertyName&&Mn(jn)){var t=[];Dn(t,jn,e,Pt(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),jn=n,(On=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(jn)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Xn(sr,r)||(sr=r,0<(r=qu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){wr.set(e,t),Qe(t,[e])}Er.push("scrollEnd");var Sr=new WeakMap;function _r(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var kr=[],Tr=0,Cr=0;function Ar(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var s=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Rr(n,i,s)}}function Nr(e,t,n,r){kr[Tr++]=e,kr[Tr++]=t,kr[Tr++]=n,kr[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Nr(e,t,n,r),Dr(e)}function Pr(e,t){return Nr(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Dr(e){if(50<Rc)throw Rc=0,Dc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new jr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Lr(31,n,t,i)).elementType=C,e.lanes=s,e;case g:return Br(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case S:return(e=Lr(13,n,t,i)).elementType=S,e.lanes=s,e;case _:return(e=Lr(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case E:o=10;break e;case w:o=9;break e;case x:o=11;break e;case k:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Br(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function zr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Wr=0,Kr=null,Gr=0,Qr=[],Yr=0,Xr=null,$r=1,Jr="";function Zr(e,t){qr[Wr++]=Gr,qr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$r=1<<32-fe(t)+i|n<<i|r,Jr=s+e}else $r=1<<s|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Wr],qr[Wr]=null,Gr=qr[--Wr],qr[Wr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,$r=Qr[--Yr],Qr[Yr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(_r(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[De]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Mu(Ou[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),Et(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=vh,vh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,V(gi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ei(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ei(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Si(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qh):e=[Qh])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function _i(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ai(yi,e)}function Ci(e,t){return null===yi&&ki(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Ri={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Di(){return{controller:new Ni,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ii(Pi,function(){e.controller.abort()})}var ji=null,Li=0,Mi=0,Fi=null;function Ui(){if(0===--Li&&null!==ji){null!==Fi&&(Fi.status="fulfilled");var e=ji;ji=null,Mi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Li=0,Mi=Nu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Ui,Ui)}(0,t),null!==Vi&&Vi(e,t)};var Bi=U(null);function zi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Hi(e,t){B(Bi,null===t?Bi.current:t.pool)}function qi(){var e=zi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Wi=Error(a(460)),Ki=Error(a(474)),Gi=Error(a(542)),Qi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Ji=t,Wi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function es(e){if(e===Wi||e===Gi)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Nr(e,r,t,n),Dr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fi)throw Fi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Mi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=U(null),ps=U(0);function ms(e,t){B(ps,e=hc),B(fs,t),hc=e|t.baseLanes}function gs(){B(ps,hc),B(fs,fs.current)}function ys(){hc=ps.current,V(fs),V(ps)}var vs=0,bs=null,ws=null,Es=null,xs=!1,Ss=!1,_s=!1,ks=0,Ts=0,Cs=null,As=0;function Ns(){throw Error(a(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Wa:Ka,_s=!1,s=n(r,i),_s=!1,Ss&&(s=Ds(t,n,r,i)),Rs(e),s}function Rs(e){O.H=qa;var t=null!==ws&&null!==ws.next;if(vs=0,Es=ws=bs=null,xs=!1,Ts=0,Cs=null,t)throw Error(a(300));null===e||Co||null!==(e=e.dependencies)&&_i(e)&&(Co=!0)}function Ds(e,t,n,r){bs=e;var i=0;do{if(Ss&&(Cs=null),Ts=0,Ss=!1,25<=i)throw Error(a(301));if(i+=1,Es=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Ga,s=t(n,r)}while(Ss);return s}function Os(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Vs(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(bs.flags|=1024),t}function js(){var e=0!==ks;return ks=0,e}function Ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ms(e){if(xs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xs=!1}vs=0,Es=ws=bs=null,Ss=!1,Ts=ks=0,Cs=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Es?bs.memoizedState=Es=e:Es=Es.next=e,Es}function Us(){if(null===ws){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===Es?bs.memoizedState:Es.next;if(null!==t)Es=t,ws=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===Es?bs.memoizedState=Es=e:Es=Es.next=e}return Es}function Vs(e){var t=Ts;return Ts+=1,null===Cs&&(Cs=[]),e=$i(Cs,e,t),t=bs,null===(null===Es?t.memoizedState:Es.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Wa:Ka),e}function Bs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vs(e);if(e.$$typeof===E)return Ti(e)}throw Error(a(438,String(e)))}function zs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function qs(e){return Ws(Us(),ws,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(sc&d)===d:(vs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Mi&&(h=!0);else{if((vs&f)===f){u=u.next,f===Mi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,bs.lanes|=f,fc|=f}d=u.action,_s&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Yn(s,e.memoizedState)&&(Co=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Us(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Yn(s,t.memoizedState)||(Co=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gs(e,t,n){var r=bs,i=Us(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((ws||i).memoizedState,n);if(o&&(i.memoizedState=n,Co=!0),i=i.queue,ga(2048,8,Xs.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Es&&1&Es.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));s||0!==(124&vs)||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,$s(t)&&Js(e)}function Xs(e,t,n){return n(function(){$s(t)&&Js(e)})}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Js(e){var t=Pr(e,2);null!==t&&Lc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),_s){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Ws(e,ws,"function"===typeof r?r:Hs)}function ta(e,t,n,r,i){if(Ba(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{O.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return sa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Va.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Us(),ws,e)}function ua(e,t,n){if(t=Ws(e,t,oa)[0],e=qs(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vs(t)}catch(cg){if(cg===Wi)throw Gi;throw cg}else r=t;var i=(t=Us()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},ha.bind(null,i,n),null)),[r,s,e]}function ha(e,t){e.action=t}function da(e){var t=Us(),n=ws;if(null!==n)return ua(t,n,e);Us(),t=t.memoizedState;var r=(n=Us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Us().memoizedState}function ma(e,t,n,r){var i=Fs();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var i=Us();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ws&&null!==r&&Is(r,ws.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function wa(e,t){return ga(4,4,e,t)}function Ea(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,Ea.bind(null,t,e),n)}function Sa(){}function _a(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Is(t,r[1]))return r[0];if(r=e(),_s){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ta(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=jc(),bs.lanes|=e,fc|=e,n)}function Ca(e,t,n,r){return Yn(n,t)?n:null!==fs.current?(e=Ta(e,n,r),Yn(e,t)||(Co=!0),e):0===(42&vs)?(Co=!0,e.memoizedState=n):(e=jc(),bs.lanes|=e,fc|=e,t)}function Aa(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,Va(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Oc());else Ua(e,t,r,Oc())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{j.p=s,O.T=a}}function Na(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Pa(e).queue;Aa(e,i,t,L,null===n?Na:function(){return Ra(e),n(r)})}function Pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ra(e){Ua(e,Pa(e).next.queue,{},Oc())}function Da(){return Ti(Qh)}function Oa(){return Us().memoizedState}function ja(){return Us().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ss(t,e=is(n),n);return null!==r&&(Lc(r,t,n),as(r,t,n)),t={cache:Di()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ba(e)?za(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),Ha(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Oc())}function Ua(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ba(e))za(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,a))return Nr(e,t,i,0),null===rc&&Ar(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Lc(n,e,r),Ha(n,t,r),!0}return!1}function Va(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ba(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function Ba(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function za(e,t){Ss=xs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qa={readContext:Ti,use:Bs,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useLayoutEffect:Ns,useInsertionEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useSyncExternalStore:Ns,useId:Ns,useHostTransitionStatus:Ns,useFormState:Ns,useActionState:Ns,useOptimistic:Ns,useMemoCache:Ns,useCacheRefresh:Ns},Wa={readContext:Ti,use:Bs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(_s){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(_s){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ma.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Fa.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return Ta(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Aa.bind(null,bs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Fs();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&sc)||Qs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Xs.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,s,n,t),null),n},useId:function(){var e=Fs(),t=rc.identifierPrefix;if(si){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=As++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Da,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:zs,useCacheRefresh:function(){return Fs().memoizedState=La.bind(null,bs)}},Ka={readContext:Ti,use:Bs,useCallback:_a,useContext:Ti,useEffect:va,useImperativeHandle:xa,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:ka,useReducer:qs,useRef:pa,useState:function(){return qs(Hs)},useDebugValue:Sa,useDeferredValue:function(e,t){return Ca(Us(),ws.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Gs,useId:Oa,useHostTransitionStatus:Da,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Us(),0,e,t)},useMemoCache:zs,useCacheRefresh:ja},Ga={readContext:Ti,use:Bs,useCallback:_a,useContext:Ti,useEffect:va,useImperativeHandle:xa,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:ka,useReducer:Ks,useRef:pa,useState:function(){return Ks(Hs)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=Us();return null===ws?Ta(n,e,t):Ca(n,ws.memoizedState,e,t)},useTransition:function(){var e=Ks(Hs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Gs,useId:Oa,useHostTransitionStatus:Da,useFormState:da,useActionState:da,useOptimistic:function(e,t){var n=Us();return null!==ws?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zs,useCacheRefresh:ja},Qa=null,Ya=0;function Xa(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),$i(Qa,e,t)}function $a(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&Za(s)===t.type)?($a(t=i(t,n.props),n),t.return=e,t):($a(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return $a(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(D(t)||I(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Xa(t),n);if(t.$$typeof===E)return d(e,Ci(e,t),n);Ja(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(D(n)||I(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xa(n),r);if(n.$$typeof===E)return f(e,t,Ci(e,n),r);Ja(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(D(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Xa(r),i);if(r.$$typeof===E)return y(e,t,n,Ci(t,r),i);Ja(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&Za(b)===c.type){n(l,c.sibling),$a(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Br(u.props.children,l.mode,h,u.key)).return=l,l=h):($a(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Hr(u,l.mode,h)).return=l,l=h}return o(l);case T:return v(l,c,u=(b=u._init)(u._payload),h)}if(D(u))return function(i,a,o,l){for(var c=null,u=null,h=a,p=a=0,m=null;null!==h&&p<o.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,o[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===o.length)return n(i,h),si&&Zr(i,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(a=s(h,a,p),null===u?c=h:u.sibling=h,u=h);return si&&Zr(i,p),c}for(h=r(h);p<o.length;p++)null!==(m=y(h,i,p,o[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,h);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===h?u=b:h.sibling=b,h=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,m),null===h?u=v:h.sibling=v,h=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,Xa(u),h);if(u.$$typeof===E)return v(l,c,Ci(l,u),h);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=zr(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var i=v(e,t,n,r);return Qa=null,i}catch(cg){if(cg===Wi||cg===Gi)throw cg;var s=Lr(29,cg,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=U(null),io=null;function so(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){V(ro),io===e&&(io=null),V(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Lc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function wo(e){yo(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function _o(e){return(e=is(e)).tag=3,e}function ko(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){xo(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){xo(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var To=Error(a(461)),Co=!1;function Ao(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return ki(t),r=Ps(e,t,n,a,s,i),o=js(),null===e||Co?(si&&o&&ti(t),t.flags|=1,Ao(e,t,r,i),t.child):(Ls(e,t,i),Yo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Po(e,t,s,r,i))}if(s=e.child,!Xo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(a,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,!Xo(e,i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return jo(e,t,n,r,i)}function Ro(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?(Hi(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),gs(),oo());return Ao(e,t,i,n),t.child}function Do(e,t,n,r){var i=zi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),gs(),ao(t),null!==e&&Si(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function jo(e,t,n,r,i){return ki(t),n=Ps(e,t,n,r,void 0,i),r=js(),null===e||Co?(si&&r&&ti(t),t.flags|=1,Ao(e,t,n,i),t.child):(Ls(e,t,i),Yo(e,t,i))}function Lo(e,t,n,r,i,s){return ki(t),t.updateQueue=null,n=Ds(t,r,n,i),Rs(e),r=js(),null===e||Co?(si&&r&&ti(t),t.flags|=1,Ao(e,t,n,s),t.child):(Ls(e,t,s),Yo(e,t,s))}function Mo(e,t,n,r,i){if(ki(t),null===t.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ti(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Ti(a):Or,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&mo(t,s,r,a),ts=!1;var d=t.memoizedState;s.state=d,us(t,r,s,i),cs(),c=t.memoizedState,o||d!==c||ts?("function"===typeof h&&(ho(t,n,h,r),c=t.memoizedState),(l=ts||po(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&mo(t,s,r,l),ts=!1,d=t.memoizedState,s.state=d,us(t,r,s,i),cs();var f=t.memoizedState;a!==h||d!==f||ts||null!==e&&null!==e.dependencies&&_i(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&_i(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Oo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Ao(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Yo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,Ao(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:qi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function zo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=qo({mode:"hidden",children:c},s=t.mode),i=Br(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Vo(n),s.childLanes=Bo(e,r,n),t.memoizedState=Uo,i):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=qo({mode:"visible",children:i.children},c),(s=Br(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Vo(n),i.childLanes=Bo(e,r,n),t.memoizedState=Uo,t=s);else if(so(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(Co||Si(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ae(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Lc(r,e,i),To;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yh(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Qr[Yr++]=$r,Qr[Yr++]=Jr,Qr[Yr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=Br(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Ri._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Bo(e,r,n),t.memoizedState=Uo,i):(so(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=qo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qo(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Go(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ao(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,s);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_i(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ri,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(so(t),null!==(e=Yo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n);case 24:bi(0,Ri,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,si&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===x){t.tag=11,t=No(null,t,r,e,n);break e}if(i===k){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=R(r)||r,Error(a(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=jo(null,t,r,e,n))}return t;case 0:return jo(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Ri,r),r!==s.cache&&xi(t,[Ri],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=_r(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Yo(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Ah(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rh(q.current).createElement(n))[Re]=t,r[De]=e,eh(r,n,e),We(r),t.stateNode=r):t.memoizedState=Ah(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&si&&(r=t.stateNode=wh(t.type,t.pendingProps,q.current),ri=t,oi=!0,i=ii,fh(t.type)?(vh=i,ii=yh(r.firstChild)):ii=i),Ao(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,ah(i,s)?r=null:null!==o&&ah(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ps(e,t,Os,null,null,n),Qh._currentValue=i),Oo(e,t),Ao(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return zo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return No(e,t,t.type,t.pendingProps,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ao(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ki(t),r=r(i=Ti(i)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ro(e,t,n);case 24:return ki(t),r=Ti(Ri),null===e?(null===(i=zi())&&(i=rc,s=Di(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Ri,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ri,r)):(r=s.cache,bi(0,Ri,r),r!==i.cache&&xi(t,[Ri],n,!0))),Ao(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bh(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Ji=Qi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Ri),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=z.current,di(t)?ui(t):(e=wh(i,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=z.current,di(t))ui(t);else{switch(i=rh(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Re]=t,e[De]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Re]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(V(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Ri),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Ri),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&V(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Ri),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Ri),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:wi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&V(Bi);break;case 24:wi(Ri)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Ju(e,t,f,p,r,d)}}return void gt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Ju(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Ju(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Ju(e,t,o,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(e,t,d,f,r,p)}(r,e.type,n,t),r[De]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Re]=e,t[De]=n}catch(s){uu(e,e.return,s)}}var bl=!1,wl=!1,El=!1,xl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var s=wl;bl=r,(wl=t)&&!s?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=i,wl=s}break;case 30:break;default:Ml(e,n)}}function kl(e){var t=e.alternate;null!==t&&(e.alternate=null,kl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function Al(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Tl,i=Cl;fh(n.type)&&(Tl=n.stateNode,Cl=!1),Al(e,t,n),Eh(n.stateNode),Tl=r,Cl=i;break;case 5:wl||hl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,Al(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Tl&&(Cl?(ph(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Cd(e)):ph(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,Al(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:wl||ol(2,n,t),wl||ol(4,n,t),Al(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Al(e,t,n),wl=r;break;default:Al(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cd(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Nl(s,o,i),Tl=null,Cl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Dl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),jl(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Rl(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Dl;if(Rl(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[Re]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),eh(s,r,n),s[Re]=e,We(s),r=s;break e;case"link":var o=Uh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Uh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Re]=e,We(s),r=s}e.stateNode=r}else Vh(i,e.type,e.stateNode);else e.stateNode=Oh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Vh(i,e.type,e.stateNode):Oh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(El=!0);break;case 6:if(Rl(t,e),jl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fh=null,i=Dl,Dl=_h(t.containerInfo),Rl(t,e),Dl=i,jl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Cd(t.containerInfo)}catch(p){uu(e,e.return,p)}El&&(El=!1,Ll(e));break;case 4:r=Dl,Dl=_h(e.stateNode.containerInfo),Rl(t,e),jl(e),Dl=r;break;case 12:default:Rl(t,e),jl(e);break;case 13:Rl(t,e),jl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ec=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=wl;if(bl=u||i,wl=h||c,Rl(t,e),wl=h,bl=u,jl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Rl(t,e),jl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function jl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(xt(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:Eh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(i,s,n),al(4,s);break;case 1:if(Ul(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)hs(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Ul(i,s,n),n&&null===r&&4&a&&dl(s),ul(s,s.return);break;case 12:Ul(i,s,n);break;case 13:Ul(i,s,n),n&&4&a&&Il(i,s);break;case 22:null===s.memoizedState&&Ul(i,s,n),ul(s,s.return);break;case 30:break;default:Ul(i,s,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:zl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:zl(e,t,n,r);break;case 3:zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?zl(e,t,n,r):Wl(e,t):2&s._visibility?zl(e,t,n,r):(s._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(a,t);break;case 24:zl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(s,a,o,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(s,a,o,l,i):Wl(s,a):(u._visibility|=2,ql(s,a,o,l,i)),i&&2048&c&&Vl(a.alternate,a);break;case 24:ql(s,a,o,l,i),i&&2048&c&&Bl(a.alternate,a);break;default:ql(s,a,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===zh)throw Error(a(475));var r=zh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nh(n.href),s=e.querySelector(Ih(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Ph(n),(i=xh.get(i))&&Lh(n,i),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eh(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Dl;Dl=_h(e.stateNode.containerInfo),Gl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Xl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,s=r.return;if(kl(r),r===n){Sl=null;break e}if(null!==i){i.return=s,Sl=i;break e}Sl=s}}}var ec={getCacheForType:function(e){var t=Ti(Ri),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,Ec=0,xc=1/0,Sc=null,_c=null,kc=0,Tc=null,Cc=null,Ac=0,Nc=0,Ic=null,Pc=null,Rc=0,Dc=null;function Oc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==O.T){return 0!==Mi?Mi:Nu()}return Ie()}function jc(){0===gc&&(gc=0===(536870912&sc)||si?xe():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),Vc(e,sc,gc,!1)),ke(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&Vc(e,sc,gc,!1)),xu(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||sc!==t?(Sc=null,xc=te()+500,Hc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var s=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Yi(s)){ac=0,oc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),xu(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yi(s)?(ac=0,oc=null,Jc(t)):(ac=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Bh(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,oc=null,Zc(e,t,s,5);break;case 6:ac=0,oc=null,Zc(e,t,s,6);break;case 8:zc(),dc=6;break e;default:throw Error(a(462))}}Xc();break}catch(h){qc(e,h)}return vi=yi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Ar(),dc)}(e,t):Qc(e,t,!0),s=r;;){if(0===i){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||Uc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Qc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=bc,bc=i,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Ec+300-te())){if(Vc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,bc,Sc,wc,t,gc,pc,yc,lc,s,2,-0,0),i)}else Fc(r,n,bc,Sc,wc,t,gc,pc,yc,lc,s,0,-0,0)}break}i=Qc(e,t,!1),s=!1}xu(e)}function Fc(e,t,n,r,i,s,o,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(zh={stylesheets:null,count:0,unsuspend:Hh},Ql(t),null!==(d=function(){if(null===zh)throw Error(a(475));var e=zh;return e.stylesheets&&0===e.count&&Kh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,s,n,r,i,o,l,c,h,1,f,p)),void Vc(e,s,o,!u);nu(e,t,s,n,r,i,o,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&nc)||(Su(0,!1),!1)}function zc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,Ms(e=ic),Qa=null,Ya=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),rc=e,ic=n=Fr(e.current,null),sc=t,ac=0,oc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=dc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hc=t,Ar(),n}function qc(e,t){bs=null,O.H=qa,t===Wi||t===Gi?(t=Zi(),ac=3):t===Ki?(t=Zi(),ac=4):ac=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(dc=1,Eo(e,_r(t,e.current)))}function Wc(){var e=O.H;return O.H=qa,null===e?qa:e}function Kc(){var e=O.A;return O.A=ec,e}function Gc(){dc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Vc(rc,sc,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var i=Wc(),s=Kc();rc===e&&sc===t||(Sc=null,Hc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var o=ic,l=oc;switch(ac){case 8:zc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Yc(),a=dc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,O.H=i,O.A=s,null===ic&&(rc=null,sc=0,Ar()),a}function Yc(){for(;null!==ic;)$c(ic)}function Xc(){for(;null!==ic&&!Z();)$c(ic)}function $c(e){var t=$o(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ms(t);default:sl(n,t),t=$o(n,t=ic=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Ms(t),Qa=null,Ya=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Gc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(_r(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(_r(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=_r(r,n),os(e,i=So(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var s=Error(a(520),{cause:r});if(s=_r(s,n),null===vc?vc=[s]:vc.push(s),4!==dc&&(dc=2),null===t)return!0;r=_r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===_c||!_c.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,ko(i=_o(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return dc=1,Eo(e,_r(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return dc=1,Eo(e,_r(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==kc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Cr,o,l,c),e===rc&&(ic=rc=null,sc=0),Cc=t,Tc=e,Ac=n,Nc=s,Ic=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=j.p,j.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(s=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=o,j.p=i,O.T=r}}kc=1,ru(),iu(),su()}}function ru(){if(1===kc){kc=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=nc;nc|=4;try{Ol(t,e);var s=nh,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nd=!!th,nh=th=null}finally{nc=i,j.p=r,O.T=n}}e.current=t,kc=2}}function iu(){if(2===kc){kc=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=nc;nc|=4;try{_l(e,t.alternate,t)}finally{nc=i,j.p=r,O.T=n}}kc=3}}function su(){if(4===kc||3===kc){kc=0,ee();var e=Tc,t=Cc,n=Ac,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?kc=5:(kc=0,Cc=Tc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=j.p,j.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,j.p=i}}0!==(3&Ac)&&ou(),xu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Dc?Rc++:(Rc=0,Dc=e):Rc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function ou(e){return ru(),iu(),su(),lu()}function lu(){if(5!==kc)return!1;var e=Tc,t=Nc;Nc=0;var n=Ne(Ac),r=O.T,i=j.p;try{j.p=32>n?32:n,O.T=null,n=Ic,Ic=null;var s=Tc,o=Ac;if(kc=0,Cc=Tc=null,Ac=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,$l(s.current),Hl(s,s.current,o,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{j.p=i,O.T=r,au(e,t)}}function cu(e,t,n){t=_r(n,t),null!==(e=ss(e,t=So(e.stateNode,t,2),2))&&(ke(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=ss(t,n=_o(2),2))&&(ko(n,r,t,e),ke(r,2),xu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===dc||3===dc&&(62914560&sc)===sc&&300>te()-Ec?0===(2&nc)&&Hc(e,0):mc|=n,yc===sc&&(yc=0)),xu(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(ke(e,t),xu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,Eu=0;function xu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,hh(function(){0!==(6&nc)?$(re,_u):ku()}))}function Su(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Au(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,Au(r,s));r=r.next}}while(n);wu=!1}}function _u(){ku()}function ku(){bu=vu=!1;var e=0;0!==Eu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==oh&&(oh=e,!0);return oh=null,!1}()&&(e=Eu),Eu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}Su(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ee(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==kc&&5!==kc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Au(e,t){if(ou())return null;Mc(e,t,!0)}function Nu(){return 0===Eu&&(Eu=xe()),Eu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ru=0;Ru<Er.length;Ru++){var Du=Er[Ru];xr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}xr(fr,"onAnimationEnd"),xr(pr,"onAnimationIteration"),xr(mr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(gr,"onTransitionRun"),xr(yr,"onTransitionStart"),xr(vr,"onTransitionCancel"),xr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Mu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(ju.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=sd}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Be(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Lt(function(){var r=s,i=Pt(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&h.push(Hu(m,g,p)),d)break;m=m.return}0<h.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?o:He(c),p=null==u?o:He(u),(o=new h(g,m+"leave",c,n,i)).target=d,o.relatedTarget=p,g=null,Be(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)h=Wu(h),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Wu(h),f=Wu(f)}h=null}else h=null;null!==c&&Ku(a,o,c,h,!1),null!==u&&null!==d&&Ku(a,d,u,h,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Rn(o))if(Un)y=Qn;else{y=Kn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?Dn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?He(r):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(xn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?An(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(kn&&"ko"!==n.locale&&(In||"onCompositionStart"!==w?"onCompositionEnd"===w&&In&&(b=qt()):(zt="value"in(Bt=i)?Bt.value:Bt.textContent,In=!0)),0<(v=qu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Nn(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!xn&&An(e,t)?(e=qt(),Ht=zt=Bt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Iu((i[De]||null).action),a=r.submitter;a&&null!==(t=(t=a[De]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Eu){var e=a?Pu(i,a):new FormData(i);Ia(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Pu(i,a):new FormData(i),Ia(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(Hu(e,i,s)),null!=(i=Mt(e,t))&&r.push(Hu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,s))&&a.unshift(Hu(n,c,l)):i||null!=(c=Mt(n,s))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function $u(){}function Ju(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":kt(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":kt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[De]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,r,o,n,null)}}return s&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Ju(e,t,i,h,n,null)}}return yt(e,r,l,c,u,o,s,!1),void ht(e);case"select":for(s in Mu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Ju(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Mu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,o,l,n,null)}return Et(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Mu(Ou[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Zu(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&Eh(a.documentElement),2&n&&Eh(a.body),4&n)for(Eh(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Cd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Cd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Eh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var xh=new Map,Sh=new Set;function _h(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var kh=j.d;j.d={f:function(){var e=kh.f(),t=Bc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Ra(t):kh.r(e)},D:function(e){kh.D(e),Ch("dns-prefetch",e,null)},C:function(e,t){kh.C(e,t),Ch("preconnect",e,t)},L:function(e,t,n){kh.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Nh(e);break;case"script":s=Rh(e)}xh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ih(s))||"script"===t&&r.querySelector(Dh(s))||(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){kh.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Rh(e)}if(!xh.has(s)&&(e=d({rel:"modulepreload",href:e},t),xh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dh(s)))return}eh(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){kh.X(e,t);var n=Th;if(n&&e){var r=qe(n).hoistableScripts,i=Rh(e),s=r.get(i);s||((s=n.querySelector(Dh(i)))||(e=d({src:e,async:!0},t),(t=xh.get(i))&&Mh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){kh.S(e,t,n);var r=Th;if(r&&e){var i=qe(r).hoistableStyles,s=Nh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ih(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xh.get(s))&&Lh(e,n);var l=a=r.createElement("link");We(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,jh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){kh.M(e,t);var n=Th;if(n&&e){var r=qe(n).hoistableScripts,i=Rh(e),s=r.get(i);s||((s=n.querySelector(Dh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=xh.get(i))&&Mh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Th="undefined"===typeof document?null:document;function Ch(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Ah(e,t,n,r){var i,s,o,l,c=(c=q.current)?_h(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ih(e)))&&!u._p&&(h.instance=u,h.state.loading=5),xh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),eh(s,"link",o),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rh(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nh(e){return'href="'+mt(e)+'"'}function Ih(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Rh(e){return'[src="'+mt(e)+'"]'}function Dh(e){return"script[async]"+e}function Oh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nh(n.href);var s=e.querySelector(Ih(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Ph(n),(i=xh.get(i))&&Lh(r,i),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eh(s,"link",r),t.state.loading|=4,jh(s,n.precedence,e),t.instance=s;case"script":return s=Rh(n.src),(i=e.querySelector(Dh(s)))?(t.instance=i,We(i),i):(r=n,(i=xh.get(s))&&Mh(r=d({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,jh(r,n.precedence,e));return t.instance}function jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function Uh(e,t,n){if(null===Fh){var r=new Map,i=Fh=new Map;i.set(n,r)}else(r=(i=Fh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[Re]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Vh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zh=null;function Hh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wh=null;function Kh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wh=new Map,t.forEach(Gh,e),Wh=null,qh.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Wh.get(e);if(n)var r=n.get(null);else{n=new Map,Wh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=qh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qh={$$typeof:E,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Yh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xh(e,t,n,r,i,s,a,o,l,c,u,h){return e=new Yh(e,t,n,a,o,l,c,h),t=1,!0===s&&(t|=24),s=Lr(3,null,null,t),e.current=s,s.stateNode=e,(t=Di()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function $h(e){return e?e=Or:Or}function Jh(e,t,n,r,i,s){i=$h(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Lc(n,0,t),as(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Lc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=2,sd(e,t,n,r)}finally{j.p=s,O.T=i}}function id(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=8,sd(e,t,n,r)}finally{j.p=s,O.T=i}}function sd(e,t,n,r){if(nd){var i=ad(r);if(null===i)zu(e,t,r,od,n),vd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=bd(hd,e,t,n,r,i),!0;case"dragenter":return dd=bd(dd,e,t,n,r,i),!0;case"mouseover":return fd=bd(fd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,bd(pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,bd(md.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var s=ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}xu(s),0===(6&nc)&&(xc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Pr(s,2))&&Lc(o,0,2),Bc(),ed(s,2)}if(null===(s=ad(r))&&zu(e,t,r,od,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else zu(e,t,r,null,n)}}function ad(e){return ld(e=Pt(e))}var od=null;function ld(e){if(od=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return od=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,gd=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function bd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=ze(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wd(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ae(e);var t=Pr(n,e);null!==t&&Lc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ed(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function xd(e,t,n){Ed(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&Ed(hd)&&(hd=null),null!==dd&&Ed(dd)&&(dd=null),null!==fd&&Ed(fd)&&(fd=null),pd.forEach(xd),md.forEach(xd)}function _d(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sd)))}var kd=null;function Td(e){kd!==e&&(kd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kd===e&&(kd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var s=ze(n);null!==s&&(e.splice(t,3),t-=3,Ia(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Cd(e){function t(t){return _d(t,e)}null!==hd&&_d(hd,e),null!==dd&&_d(dd,e),null!==fd&&_d(fd,e),pd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)wd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[De]||null;if("function"===typeof s)a||Td(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[De]||null)o=a.formAction;else if(null!==ld(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Td(n)}}}function Ad(e){this._internalRoot=e}function Nd(e){this._internalRoot=e}Nd.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jh(t.current,Oc(),e,t,null,null)},Nd.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&wd(e)}};var Id=i.version;if("19.1.0"!==Id)throw Error(a(527,Id,"19.1.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{ue=Rd.inject(Pd),he=Rd}catch(Od){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xh(e,1,!1,null,0,n,r,i,s,l,0,null),e[Oe]=t.current,Vu(e),new Ad(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=$h(null),n=t.current,(i=is(r=Ae(r=Oc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,ke(t,n),xu(t),e[Oe]=t.current,Vu(e),new Nd(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var E=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function _(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,E(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=_(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===s?".":s+":";if(E(e))for(var m=0;m<e.length;m++)u+=N(s=e[m],t,i,o=p+C(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,o=p+C(s,m++),a);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return _(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,R)}catch(s){R(s)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,E(e),!m)if(null!==r(c))m=!0,_||(_=!0,S());else{var t=r(u);null!==t&&R(x,t.startTime-e)}}var S,_=!1,k=-1,T=5,C=-1;function A(){return!!y||!(t.unstable_now()-C<T)}function N(){if(y=!1,_){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var s=f;try{t:{for(E(e),d=r(c);null!==d&&!(d.expirationTime>e&&A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,E(e),n=!0;break t}d===r(c)&&i(c),E(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(x,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){v(N,0)};function R(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(k),k=-1):g=!0,R(x,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{Decoder:()=>TN,Encoder:()=>_N,PacketType:()=>SN,protocol:()=>xN});var i=n(43),s=n(391);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(358);const d=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function b(){return T(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:_(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function E(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,a.replaceState(h(h({},a.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,d),l=e,()=>{i.removeEventListener(v,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=S(p.location,e,t);n&&n(r,e),c=u()+1;let h=x(r,c),d=p.createHref(r);try{a.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=S(p.location,e,t);n&&n(r,e),c=u();let i=x(r,c),h=p.createHref(r);a.replaceState(i,"",h),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>a.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:_(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function A(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=q(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let s=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=H(i);a=V(s[o],e,r)}return a}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(w(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let o=Y([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),I(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))i(e,t,r);else i(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=P(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,D=3,O=2,j=1,L=10,M=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=O),n.filter(e=>!F(e)).reduce((e,t)=>e+(R.test(t)?D:""===t?j:L),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Y([s,u.pathname]),pathnameBase:X(Y([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=Y([s,u.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];E("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return E(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function G(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=h({},e),w(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?k(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:$(r),hash:J(i)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=i.createContext(null);ne.displayName="DataRouter";var re=i.createContext(null);re.displayName="DataRouterState";var ie=i.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var se=i.createContext(new Map);se.displayName="Fetchers";var ae=i.createContext(null);ae.displayName="Await";var oe=i.createContext(null);oe.displayName="Navigation";var le=i.createContext(null);le.displayName="Location";var ce=i.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=i.createContext(null);ue.displayName="RouteError";function he(){return null!=i.useContext(le)}function de(){return w(he(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){i.useContext(oe).static||i.useLayoutEffect(e)}function me(){let{isDataRoute:e}=i.useContext(ce);return e?function(){let{router:e}=ke("useNavigate"),t=Ce("useNavigate"),n=i.useRef(!1);pe(()=>{n.current=!0});let r=i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))},[e,t]);return r}():function(){w(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(ne),{basename:t,navigator:n}=i.useContext(oe),{matches:r}=i.useContext(ce),{pathname:s}=de(),a=JSON.stringify(G(r)),o=i.useRef(!1);pe(()=>{o.current=!0});let l=i.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(E(o.current,fe),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,s,e]);return l}()}i.createContext(null);function ge(){let{matches:e}=i.useContext(ce),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(ce),{pathname:r}=de(),s=JSON.stringify(G(n));return i.useMemo(()=>Q(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function ve(e,t,n,r){w(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(oe),{matches:a}=i.useContext(ce),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let e=d&&d.path||"";Ie(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=de();if(t){var m;let e="string"===typeof t?k(t):t;w("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=A(e,{pathname:y});E(d||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),E(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Se(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Y([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Y([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&b?i.createElement(le.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},b):b}function be(){let e=Ae(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:a},"ErrorBoundary")," or"," ",i.createElement("code",{style:a},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,o)}var we=i.createElement(be,null),Ee=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(ce.Provider,{value:this.props.routeContext},i.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(ne);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ce.Provider,{value:t},r)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=r.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,o=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=i),e.route.id){let{loaderData:t,errors:i}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||s){a=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,d=l.route.errorElement||we,a&&(o<0&&0===c?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):o===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?d:h?f:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(xe,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let t=i.useContext(ne);return w(t,_e(e)),t}function Te(e){let t=i.useContext(re);return w(t,_e(e)),t}function Ce(e){let t=function(e){let t=i.useContext(ce);return w(t,_e(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ae(){var e;let t=i.useContext(ue),n=Te("useRouteError"),r=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ne={};function Ie(e,t,n){t||Ne[e]||(Ne[e]=!0,E(!1,n))}i.memo(function(e){let{routes:t,future:n,state:r}=e;return ve(t,void 0,r,n)});function Pe(e){let{to:t,replace:n,state:r,relative:s}=e;w(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=i.useContext(oe);E(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(ce),{pathname:l}=de(),c=me(),u=Q(t,G(o),l,"path"===s),h=JSON.stringify(u);return i.useEffect(()=>{c(JSON.parse(h),{replace:n,state:r,relative:s})},[c,h,s,n,r]),null}function Re(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:a,static:o=!1}=e;w(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);"string"===typeof r&&(r=k(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=i.useMemo(()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}},[l,u,h,d,f,p,s]);return E(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(oe.Provider,{value:c},i.createElement(le.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return ve(je(t),n)}i.Component;function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,je(e.props.children,s));w(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=je(e.props.children,s)),n.push(a)}),n}var Le="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Ve.has(e)?e:(E(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function ze(e,t){let n,r,i,s,a;if(Fe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?q(a,t):null,n=e.getAttribute("method")||Le,i=Be(e.getAttribute("enctype"))||Me,s=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?q(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Le,i=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||Me,s=new FormData(a,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Le,r=null,i=Me,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function We(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ye(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!We(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Xe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var $e=new Set([100,101,204,205]);function Je(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===q(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}i.Component;function Ze(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return i.createElement(et,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(et,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function et(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:a}=e,{routeModules:o}=st();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?a:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?i.createElement(dt,null):null)))}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=i.useContext(ne);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=i.useContext(re);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=i.createContext(void 0);function st(){let e=i.useContext(it);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function lt(e){let{page:t}=e,n=a(e,f),{router:r}=nt(),s=i.useMemo(()=>A(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?i.createElement(ut,h({page:t,matches:s},n)):null}function ct(e){let{manifest:t,routeModules:n}=st(),[r,s]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){return Ye((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),r}function ut(e){let{page:t,matches:n}=e,r=a(e,p),s=de(),{manifest:o,routeModules:l}=st(),{basename:c}=nt(),{loaderData:u,matches:d}=rt(),f=i.useMemo(()=>Ge(t,n,d,o,s,"data"),[t,n,d,o,s]),m=i.useMemo(()=>Ge(t,n,d,o,s,"assets"),[t,n,d,o,s]),g=i.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=o.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Je(t,c);return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,s,o,f,n,t,l]),y=i.useMemo(()=>Qe(m,o),[m,o]),v=ct(m);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},r))),y.map(e=>i.createElement("link",h({key:e,rel:"modulepreload",href:e},r))),v.map(e=>{let{key:t,link:n}=e;return i.createElement("link",h({key:t},n))}))}it.displayName="FrameworkContext";var ht=!1;function dt(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:s,routeDiscovery:o,ssr:l}=st(),{router:c,static:u,staticContext:f}=nt(),{matches:p}=rt(),m=tt(o,l);s&&(s.didRenderScripts=!0);let g=ot(p,null,r);i.useEffect(()=>{ht=!0},[]);let y=i.useMemo(()=>{var r;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];He(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach(e=>{let n=A(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(s),type:void 0})),i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(o),type:"module",async:!0})))},[]),v=ht?[]:(b=t.entry.imports.concat(Qe(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return ht?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.6.3")}catch(VI){}function mt(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=b({window:r,v5Compat:!0}));let a=s.current,[o,l]=i.useState({action:a.action,location:a.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>a.listen(c),[a,c]),i.createElement(De,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=i.forwardRef(function(e,t){let n,{onClick:r,discover:s="render",prefetch:o="none",relative:l,reloadDocument:c,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y}=e,v=a(e,m),{basename:b}=i.useContext(oe),x="string"===typeof p&&gt.test(p),S=!1;if("string"===typeof p&&x&&(n=p,pt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=q(t.pathname,b);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:S=!0}catch(VI){E(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(oe),{hash:s,pathname:a,search:o}=ye(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Y([n,a])),r.createHref({pathname:l,search:o,hash:s})}(p,{relative:l}),[T,C,A]=function(e,t){let n=i.useContext(it),[r,s]=i.useState(!1),[a,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:at(l,p),onBlur:at(c,m),onMouseEnter:at(u,p),onMouseLeave:at(h,m),onTouchStart:at(d,p)}]:[!1,f,{}]}(o,v),N=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ye(e,{relative:a});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:_(c)===_(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,r,t,e,s,a,o])}(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let I=i.createElement("a",h(h(h({},v),A),{},{href:n||k,onClick:S||c?r:function(e){r&&r(e),e.defaultPrevented||N(e)},ref:ft(t,C),target:f,"data-discover":x||"render"!==s?void 0:"true"}));return T&&!x?i.createElement(i.Fragment,null,I,i.createElement(lt,{page:k})):I});yt.displayName="Link";var vt=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,f=a(e,g),p=ye(c,{relative:f.relative}),m=de(),y=i.useContext(re),{navigator:v,basename:b}=i.useContext(oe),E=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(ie);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Et("useViewTransitionState"),s=ye(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=q(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=q(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=B(s.pathname,o)||null!=B(s.pathname,a)}(p)&&!0===u,x=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=m.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=q(_,b)||_);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let T,C=S===x||!o&&S.startsWith(x)&&"/"===S.charAt(k),A=null!=_&&(_===x||!o&&_.startsWith(x)&&"/"===_.charAt(x.length)),N={isActive:C,isPending:A,isTransitioning:E},I=C?n:void 0;T="function"===typeof s?s(N):[s,C?"active":null,A?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(N):l;return i.createElement(yt,h(h({},f),{},{"aria-current":I,className:T,ref:t,style:P,to:c,viewTransition:u}),"function"===typeof d?d(N):d)});vt.displayName="NavLink";var bt=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:o,replace:l,state:c,method:u=Le,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g}=e,v=a(e,y),b=_t(),E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(oe),r=i.useContext(ce);w(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=h({},ye(e||".",{relative:t})),o=de();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Y([n,a.pathname]));return _(a)}(d,{relative:p}),x="get"===u.toLowerCase()?"get":"post",S="string"===typeof d&&gt.test(d);return i.createElement("form",h(h({ref:t,method:x,action:E,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})}},v),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Et(e){let t=i.useContext(ne);return w(t,wt(e)),t}bt.displayName="Form";var xt=0,St=()=>"__".concat(String(++xt),"__");function _t(){let{router:e}=Et("useSubmit"),{basename:t}=i.useContext(oe),n=Ce("useRouteId");return i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=ze(r,t);if(!1===i.navigate){let t=i.fetcherKey||St();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var kt=n(579);const Tt=(0,i.createContext)({});function Ct(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const At="undefined"!==typeof window,Nt=At?i.useLayoutEffect:i.useEffect,It=(0,i.createContext)(null);function Pt(e){return"object"===typeof e&&null!==e}function Rt(e){return Pt(e)&&"offsetHeight"in e}const Dt=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Ot extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Rt(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jt(e){let{children:t,isPresent:n,anchorX:r,root:s}=e;const a=(0,i.useId)(),o=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,i.useContext)(Dt);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:u,right:h}=l.current;if(n||!o.current||!e||!t)return;const d="left"===r?"left: ".concat(u):"right: ".concat(h);o.current.dataset.motionPopId=a;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==s&&void 0!==s?s:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{p.removeChild(f),p.contains(f)&&p.removeChild(f)}},[n]),(0,kt.jsx)(Ot,{isPresent:n,childRef:o,sizeRef:l,children:i.cloneElement(t,{ref:o})})}const Lt=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l,anchorX:c,root:u}=e;const d=Ct(Mt),f=(0,i.useId)();let p=!0,m=(0,i.useMemo)(()=>(p=!1,{id:f,initial:n,isPresent:r,custom:a,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;s&&s()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[r,d,s]);return o&&p&&(m=h({},m)),(0,i.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[r]),i.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),"popLayout"===l&&(t=(0,kt.jsx)(jt,{isPresent:r,anchorX:c,root:u,children:t})),(0,kt.jsx)(It.Provider,{value:m,children:t})};function Mt(){return new Map}function Ft(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(It);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return s(a)},[e]);const o=(0,i.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const Ut=e=>e.key||"";function Vt(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const Bt=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[h,d]=Ft(l),f=(0,i.useMemo)(()=>Vt(t),[t]),p=l&&!h?[]:f.map(Ut),m=(0,i.useRef)(!0),g=(0,i.useRef)(f),y=Ct(()=>new Map),[v,b]=(0,i.useState)(f),[w,E]=(0,i.useState)(f);Nt(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=Ut(w[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[w,p.length,p.join("-")]);const x=[];if(f!==v){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=Ut(n);p.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===o&&x.length&&(e=x),E(Vt(e)),b(f),null}const{forceRender:S}=(0,i.useContext)(Tt);return(0,kt.jsx)(kt.Fragment,{children:w.map(e=>{const t=Ut(e),i=!(l&&!h)&&(f===w||p.includes(t));return(0,kt.jsx)(Lt,{isPresent:i,initial:!(m.current&&!r)&&void 0,custom:n,presenceAffectsLayout:a,mode:o,root:u,onExitComplete:i?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===S||void 0===S||S(),E(g.current),l&&(null===d||void 0===d||d()),s&&s())},anchorX:c,children:e},t)})})};function zt(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Ht(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function qt(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Wt(e,t,n,r){if("function"===typeof t){const[i,s]=qt(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=qt(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Kt(e,t,n){const r=e.getProps();return Wt(r,t,void 0!==n?n:r.custom,e)}function Gt(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Qt=e=>e,Yt={},Xt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$t={value:null,addProjectionMetrics:null};function Jt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Xt.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,i?s=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&$t.value&&$t.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:d,render:f,postRender:p}=a,m=()=>{const s=Yt.useManualTiming?i.timestamp:performance.now();n=!1,Yt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Xt.reduce((t,s)=>{const o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),o.schedule(t,s,a)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<Xt.length;t++)a[Xt[t]].cancel(e)},state:i,steps:a}}const{schedule:Zt,cancel:en,state:tn,steps:nn}=Jt("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Qt,!0),rn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sn=(()=>new Set(rn))(),an=new Set(["width","height","top","left","right","bottom",...rn]);function on(e,t){-1===e.indexOf(t)&&e.push(t)}function ln(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cn{constructor(){this.subscriptions=[]}add(e){return on(this.subscriptions,e),()=>ln(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function un(e,t){return t?e*(1e3/t):0}let hn;function dn(){hn=void 0}const fn={now:()=>(void 0===hn&&fn.set(tn.isProcessing||Yt.useManualTiming?tn.timestamp:performance.now()),hn),set:e=>{hn=e,queueMicrotask(dn)}},pn={current:void 0};class mn{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=fn.now();var i,s;if((t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(i=t.events.change)||void 0===i||i.notify(t.current),t.dependents))for(const a of t.dependents)a.dirty();n&&(null===(s=t.events.renderRequest)||void 0===s||s.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fn.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cn);const n=this.events[e].add(t);return"change"===e?()=>{n(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return pn.current&&pn.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=fn.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return un(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gn(e,t){return new mn(e,t)}const yn=e=>Array.isArray(e),vn=["transitionEnd","transition"];function bn(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gn(n))}function wn(e){return yn(e)?e[e.length-1]||0:e}const En=e=>Boolean(e&&e.getVelocity);function xn(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(En(e)&&e.add)}(n))return n.add(t);if(!n&&Yt.WillChange){const n=new Yt.WillChange("auto");e.addValue("willChange",n),n.add(t)}}const Sn=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),_n="data-"+Sn("framerAppearId");function kn(e){return e.props[_n]}const Tn=(e,t)=>n=>t(e(n)),Cn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Tn)},An=(e,t,n)=>n>t?t:n<e?e:n,Nn=e=>1e3*e,In=e=>e/1e3,Pn={layout:0,mainThread:0,waapi:0};const Rn=e=>t=>"string"===typeof t&&t.startsWith(e),Dn=Rn("--"),On=Rn("var(--"),jn=e=>!!On(e)&&Ln.test(e.split("/*")[0].trim()),Ln=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Mn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Fn=h(h({},Mn),{},{transform:e=>An(0,1,e)}),Un=h(h({},Mn),{},{default:1}),Vn=e=>Math.round(1e5*e)/1e5,Bn=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const zn=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Hn=(e,t)=>n=>Boolean("string"===typeof n&&zn.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),qn=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,a,o]=r.match(Bn);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},Wn=h(h({},Mn),{},{transform:e=>Math.round((e=>An(0,255,e))(e))}),Kn={test:Hn("rgb","red"),parse:qn("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Wn.transform(t)+", "+Wn.transform(n)+", "+Wn.transform(r)+", "+Vn(Fn.transform(i))+")"}};const Gn={test:Hn("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Kn.transform},Qn=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Yn=Qn("deg"),Xn=Qn("%"),$n=Qn("px"),Jn=Qn("vh"),Zn=Qn("vw"),er=(()=>h(h({},Xn),{},{parse:e=>Xn.parse(e)/100,transform:e=>Xn.transform(100*e)}))(),tr={test:Hn("hsl","hue"),parse:qn("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Xn.transform(Vn(n))+", "+Xn.transform(Vn(r))+", "+Vn(Fn.transform(i))+")"}},nr={test:e=>Kn.test(e)||Gn.test(e)||tr.test(e),parse:e=>Kn.test(e)?Kn.parse(e):tr.test(e)?tr.parse(e):Gn.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Kn.transform(e):tr.transform(e),getAnimatableNone:e=>{const t=nr.parse(e);return t.alpha=0,nr.transform(t)}},rr=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const ir="number",sr="color",ar=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function or(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(ar,e=>(nr.test(e)?(r.color.push(s),i.push(sr),n.push(nr.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(ir),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:r,types:i}}function lr(e){return or(e).values}function cr(e){const{split:t,types:n}=or(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===ir?Vn(e[s]):t===sr?nr.transform(e[s]):e[s]}return i}}const ur=e=>"number"===typeof e?0:nr.test(e)?nr.getAnimatableNone(e):e;const hr={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Bn))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(rr))||void 0===n?void 0:n.length)||0)>0},parse:lr,createTransformer:cr,getAnimatableNone:function(e){const t=lr(e);return cr(e)(t.map(ur))}};function dr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fr(e,t){return n=>n>0?t:e}const pr=(e,t,n)=>e+(t-e)*n,mr=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gr=[Gn,Kn,tr];function yr(e){const t=(n=e,gr.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===tr&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=dr(i,e,t+1/3),a=dr(i,e,t),o=dr(i,e,t-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(r)),r}const vr=(e,t)=>{const n=yr(e),r=yr(t);if(!n||!r)return fr(e,t);const i=h({},n);return e=>(i.red=mr(n.red,r.red,e),i.green=mr(n.green,r.green,e),i.blue=mr(n.blue,r.blue,e),i.alpha=pr(n.alpha,r.alpha,e),Kn.transform(i))},br=new Set(["none","hidden"]);function wr(e,t){return n=>pr(e,t,n)}function Er(e){return"number"===typeof e?wr:"string"===typeof e?jn(e)?fr:nr.test(e)?vr:_r:Array.isArray(e)?xr:"object"===typeof e?nr.test(e)?vr:Sr:fr}function xr(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>Er(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Sr(e,t){const n=h(h({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Er(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const _r=(e,t)=>{const n=hr.createTransformer(t),r=or(e),i=or(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?br.has(e)&&!i.values.length||br.has(t)&&!r.values.length?function(e,t){return br.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Cn(xr(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){var i;const a=t.types[s],o=e.indexes[a][r[a]],l=null!==(i=e.values[o])&&void 0!==i?i:0;n[s]=l,r[a]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),fr(e,t))};function kr(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return pr(e,t,n);return Er(e)(e,t)}const Tr=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Zt.update(t,e)},stop:()=>en(t),now:()=>tn.isProcessing?tn.timestamp:fn.now()}},Cr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Ar=2e4;function Nr(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ar;)t+=50,n=e.next(t);return t>=Ar?1/0:t}function Ir(e,t,n){const r=Math.max(t-5,0);return un(n-e(r),t-r)}const Pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rr=.001;function Dr(e){let t,n,{duration:r=Pr.duration,bounce:i=Pr.bounce,velocity:s=Pr.velocity,mass:a=Pr.mass}=e;Nn(Pr.maxDuration);let o=1-i;o=An(Pr.minDamping,Pr.maxDamping,o),r=An(Pr.minDuration,Pr.maxDuration,In(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-s,a=jr(e,o),l=Math.exp(-n);return Rr-i/a*l},n=e=>{const n=e*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=jr(Math.pow(e,2),o);return(-t(e)+Rr>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Or;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Nn(r),isNaN(l))return{stiffness:Pr.stiffness,damping:Pr.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const Or=12;function jr(e,t){return e*Math.sqrt(1-t*t)}const Lr=["duration","bounce"],Mr=["stiffness","damping","mass"];function Fr(e,t){return t.some(t=>void 0!==e[t])}function Ur(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t=h({velocity:Pr.velocity,stiffness:Pr.stiffness,damping:Pr.damping,mass:Pr.mass,isResolvedFromDuration:!1},e);if(!Fr(e,Mr)&&Fr(e,Lr))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*An(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=h(h({},t),{},{mass:Pr.mass,stiffness:i,damping:s})}else{const n=Dr(e);t=h(h(h({},t),n),{},{mass:Pr.mass}),t.isResolvedFromDuration=!0}return t}(h(h({},n),{},{velocity:-In(n.velocity||0)})),m=f||0,g=c/(2*Math.sqrt(l*u)),y=a-s,v=In(Math.sqrt(l/u)),b=Math.abs(y)<5;let w;if(r||(r=b?Pr.restSpeed.granular:Pr.restSpeed.default),i||(i=b?Pr.restDelta.granular:Pr.restDelta.default),g<1){const e=jr(v,g);w=t=>{const n=Math.exp(-g*v*t);return a-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)w=e=>a-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return a-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const E={calculatedDuration:p&&d||null,next:e=>{const t=w(e);if(p)o.done=e>=d;else{let n=0===e?m:0;g<1&&(n=0===e?Nn(m):Ir(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(a-t)<=i;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Nr(E),Ar),t=Cr(t=>E.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return E}function Vr(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,y=void 0===o?g:o(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let E,x;const S=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(E=e,x=Ur({keyframes:[f.value,p(f.value)],velocity:Ir(b,e,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==E||(t=!0,w(e),S(e)),void 0!==E&&e>=E?x.next(e-E):(!t&&w(e),f)}}}Ur.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(h(h({},e),{},{keyframes:[0,t]})),r=Math.min(Nr(n),Ar);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:In(r)}}(e,100,Ur);return e.ease=t.ease,e.duration=Nn(t.duration),e.type="keyframes",e};const Br=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function zr(e,t,n,r){if(e===t&&n===r)return Qt;const i=t=>function(e,t,n,r,i){let s,a,o=0;do{a=t+(n-t)/2,s=Br(a,r,i)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Br(i(e),t,r)}const Hr=zr(.42,0,1,1),qr=zr(0,0,.58,1),Wr=zr(.42,0,.58,1),Kr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gr=e=>t=>1-e(1-t),Qr=zr(.33,1.53,.69,.99),Yr=Gr(Qr),Xr=Kr(Yr),$r=e=>(e*=2)<1?.5*Yr(e):.5*(2-Math.pow(2,-10*(e-1))),Jr=e=>1-Math.sin(Math.acos(e)),Zr=Gr(Jr),ei=Kr(Jr),ti=e=>Array.isArray(e)&&"number"===typeof e[0],ni={linear:Qt,easeIn:Hr,easeInOut:Wr,easeOut:qr,circIn:Jr,circInOut:ei,circOut:Zr,backIn:Yr,backInOut:Xr,backOut:Qr,anticipate:$r},ri=e=>{if(ti(e)){e.length;const[t,n,r,i]=e;return zr(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),ni[e]):e},ii=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function si(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||Yt.mix||kr,s=e.length-1;for(let a=0;a<s;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Qt:t;n=Cn(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=ii(e[r],e[r+1],n);return o[r](i)};return n?t=>c(An(e[0],e[s-1],t)):c}function ai(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ii(0,t,r);e.push(pr(n,1,i))}}(t,e.length-1),t}function oi(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(ri):ri(i),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:ai(n),t),l=si(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map(()=>u||Wr).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const li=e=>null!==e;function ci(e,t,n){let{repeat:r,repeatType:i="loop"}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(li),o=s<0||r&&"loop"!==i&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}const ui={decay:Vr,inertia:Vr,tween:oi,keyframes:oi,spring:Ur};function hi(e){"string"===typeof e.type&&(e.type=ui[e.type])}class di{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const fi=e=>e/100;class pi extends di{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Pn.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;hi(e);const{type:t=oi,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:a}=e;const o=t||oi;o!==oi&&"number"!==typeof a[0]&&(this.mixKeyframes=Cn(fi,kr(a[0],a[1])),a=[0,100]);const l=o(h(h({},e),{},{keyframes:a}));"mirror"===i&&(this.mirroredGenerator=o(h(h({},e),{},{keyframes:[...a].reverse(),velocity:-s}))),null===l.calculatedDuration&&(l.calculatedDuration=Nr(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/a)):"mirror"===h&&(b=s)),v=An(0,1,n)*a}const w=y?{done:!1,value:c[0]}:b.next(v);i&&(w.value=i(w.value));let{done:E}=w;y||null===o||(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&E);return x&&f!==Vr&&(w.value=ci(c,this.options,m,this.speed)),p&&p(w.value),x&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return In(this.calculatedDuration)}get time(){return In(this.currentTime)}set time(e){var t;e=Nn(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=In(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Tr,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Pn.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const mi=e=>180*e/Math.PI,gi=e=>{const t=mi(Math.atan2(e[1],e[0]));return vi(t)},yi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gi,rotateZ:gi,skewX:e=>mi(Math.atan(e[1])),skewY:e=>mi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vi=e=>((e%=360)<0&&(e+=360),e),bi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ei={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bi,scaleY:wi,scale:e=>(bi(e)+wi(e))/2,rotateX:e=>vi(mi(Math.atan2(e[6],e[5]))),rotateY:e=>vi(mi(Math.atan2(-e[2],e[0]))),rotateZ:gi,rotate:gi,skewX:e=>mi(Math.atan(e[4])),skewY:e=>mi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xi(e){return e.includes("scale")?1:0}function Si(e,t){if(!e||"none"===e)return xi(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=Ei,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=yi,i=t}if(!i)return xi(t);const s=r[t],a=i[1].split(",").map(_i);return"function"===typeof s?s(a):a[s]}function _i(e){return parseFloat(e.trim())}const ki=e=>e===Mn||e===$n,Ti=new Set(["x","y","z"]),Ci=rn.filter(e=>!Ti.has(e));const Ai={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Si(n,"x")},y:(e,t)=>{let{transform:n}=t;return Si(n,"y")}};Ai.translateX=Ai.x,Ai.translateY=Ai.y;const Ni=new Set;let Ii=!1,Pi=!1,Ri=!1;function Di(){if(Pi){const e=Array.from(Ni).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Ci.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Pi=!1,Ii=!1,Ni.forEach(e=>e.complete(Ri)),Ni.clear()}function Oi(){Ni.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pi=!0)})}class ji{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ni.add(this),Ii||(Ii=!0,Zt.read(Oi),Zt.resolveKeyframes(Di))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ni.delete(this)}cancel(){"scheduled"===this.state&&(Ni.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function Li(e){let t;return()=>(void 0===t&&(t=e()),t)}const Mi=Li(()=>void 0!==window.ScrollTimeline),Fi={};function Ui(e,t){const n=Li(e);return()=>{var e;return null!==(e=Fi[t])&&void 0!==e?e:n()}}const Vi=Ui(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(VI){return!1}return!0},"linearEasing"),Bi=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},zi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bi([0,.65,.55,1]),circOut:Bi([.55,0,1,.45]),backIn:Bi([.31,.01,.66,-.59]),backOut:Bi([.33,1.53,.69,.99])};function Hi(e,t){return e?"function"===typeof e?Vi()?Cr(e,t):"ease-out":ti(e)?Bi(e):Array.isArray(e)?e.map(e=>Hi(e,t)||zi.easeOut):zi[e]:void 0}function qi(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const h=Hi(o,i);Array.isArray(h)&&(u.easing=h),$t.value&&Pn.waapi++;const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};c&&(d.pseudoElement=c);const f=e.animate(u,d);return $t.value&&f.finished.finally(()=>{Pn.waapi--}),f}function Wi(e){return"function"===typeof e&&"applyToOptions"in e}const Ki=["type"];class Gi extends di{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const c=function(e){let{type:t}=e,n=a(e,Ki);return Wi(t)&&Vi()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=qi(t,n,r,c,i),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=ci(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(VI){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return In(Number(n))}get time(){return In(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Mi()?(this.animation.timeline=t,Qt):n(this)}}const Qi={anticipate:$r,backInOut:Xr,circInOut:ei};function Yi(e){"string"===typeof e.ease&&e.ease in Qi&&(e.ease=Qi[e.ease])}const Xi=["motionValue","onUpdate","onComplete","element"];class $i extends Gi{constructor(e){Yi(e),hi(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:s,element:o}=n,l=a(n,Xi);if(!r)return;if(void 0!==e)return void r.set(e);const c=new pi(h(h({},l),{},{autoplay:!1})),u=Nn(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10),c.stop()}}const Ji=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!hr.test(e)&&"0"!==e||e.startsWith("url(")));const Zi=new Set(["opacity","clipPath","filter","transform"]),es=Li(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const ts=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class ns extends di{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:f}=e,p=a(e,ts);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=fn.now();const m=h({autoplay:n,delay:r,type:i,repeat:s,repeatDelay:o,repeatType:l,name:u,motionValue:d,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||ji;this.keyframeResolver=new g(c,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),u,d,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=fn.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=Ji(i,t),o=Ji(s,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(s,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(s," via the `style` property."),!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Wi(n))&&r)}(e,i,s,a)||(!Yt.instantAnimations&&o||null===c||void 0===c||c(ci(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u=h(h({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!Rt(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return es()&&r&&Zi.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==s&&0!==a&&"inertia"!==o}(u)?new $i(h(h({},u),{},{element:u.motionValue.owner.current})):new pi(u);d.finished.then(()=>this.notifyFinished()).catch(Qt),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Ri=!0,Oi(),Di(),Ri=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const rs=e=>null!==e;const is={type:"spring",stiffness:500,damping:25,restSpeed:10},ss={type:"keyframes",duration:.8},as={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},os=(e,t)=>{let{keyframes:n}=t;return n.length>2?ss:sn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:is:as},ls=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const cs=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const l=Gt(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=Nn(c);const d=h(h({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:h}=e,d=a(e,ls);return!!Object.keys(d).length})(l)||Object.assign(d,os(e,d)),d.duration&&(d.duration=Nn(d.duration)),d.repeatDelay&&(d.repeatDelay=Nn(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let f=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(f=!0)),(Yt.instantAnimations||Yt.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(rs),a=r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}(d.keyframes,l);if(void 0!==e)return void Zt.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new pi(d):new ns(d)}},us=["transition","transitionEnd"];function hs(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function ds(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o}=t,l=a(t,us);r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const a in l){var d;const t=e.getValue(a,null!==(d=e.latestValues[a])&&void 0!==d?d:null),r=l[a];if(void 0===r||u&&hs(u,a))continue;const i=h({delay:n},Gt(s||{},a)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=kn(e);if(t){const e=window.MotionHandoffAnimation(t,a,Zt);null!==e&&(i.startTime=e,f=!0)}}xn(e,a),t.start(cs(a,t,r,e.shouldReduceMotion&&an.has(a)?{type:!1}:i,e,f));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{Zt.update(()=>{o&&function(e,t){let n=Kt(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=a(n,vn);s=h(h({},s),r);for(const a in s)bn(e,a,wn(s[a]))}(e,o)})}),c}function fs(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Kt(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>Promise.all(ds(e,i,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(ps).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(fs(e,t,h(h({},s),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+n,a,o,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(r.delay)])}function ps(e,t){return e.sortNodePosition(t)}function ms(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function gs(e){return"string"===typeof e||Array.isArray(e)}const ys=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vs=["initial",...ys],bs=vs.length;function ws(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ws(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<bs;n++){const r=vs[n],i=e.props[r];(gs(i)||!1===i)&&(t[r]=i)}return t}const Es=["transition","transitionEnd"],xs=[...ys].reverse(),Ss=ys.length;function _s(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>fs(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=fs(e,t,r);else{const i="function"===typeof t?Kt(e,t,r.custom):t;n=Promise.all(ds(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function ks(e){let t=_s(e),n=As(),r=!0;const i=t=>(n,r)=>{var i;const s=Kt(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=a(s,Es);n=h(h(h({},n),r),t)}return n};function s(s){const{props:a}=e,o=ws(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Ss;t++){const f=xs[t],p=n[f],m=void 0!==a[f]?a[f]:o[f],g=gs(m),y=f===s?p.isActive:null;!1===y&&(d=t);let v=m===o[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=h({},u),!p.isActive&&null===y||!m&&!p.prevProp||Ht(m)||"boolean"===typeof m)continue;const b=Ts(p.prevProp,m);let w=b||f===s&&p.isActive&&!v&&g||t>d&&g,E=!1;const x=Array.isArray(m)?m:[m];let S=x.reduce(i(f),{});!1===y&&(S={});const{prevResolvedValues:_={}}=p,k=h(h({},_),S),T=t=>{w=!0,c.has(t)&&(E=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=S[e],n=_[e];if(u.hasOwnProperty(e))continue;let r=!1;r=yn(t)&&yn(n)?!ms(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u=h(h({},u),S)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(v&&b)||E)&&l.push(...x.map(e=>({animation:e,options:{type:f}})))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Kt(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=As(),r=!0}}}function Ts(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!ms(t,e)}function Cs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function As(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class Ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Is=0;const Ps={animation:{Feature:class extends Ns{constructor(e){super(e),e.animationState||(e.animationState=ks(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ht(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Ns{constructor(){super(...arguments),this.id=Is++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Rs={x:!1,y:!1};function Ds(){return Rs.x||Rs.y}function Os(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const js=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Ls(e){return{point:{x:e.pageX,y:e.pageY}}}function Ms(e,t,n,r){return Os(e,t,(e=>t=>js(t)&&e(t,Ls(t)))(n),r)}function Fs(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Us(e){return e.max-e.min}function Vs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=Us(n)/Us(t),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Bs(e,t,n,r){Vs(e.x,t.x,n.x,r?r.originX:void 0),Vs(e.y,t.y,n.y,r?r.originY:void 0)}function zs(e,t,n){e.min=n.min+t.min,e.max=e.min+Us(t)}function Hs(e,t,n){e.min=t.min-n.min,e.max=e.min+Us(t)}function qs(e,t,n){Hs(e.x,t.x,n.x),Hs(e.y,t.y,n.y)}const Ws=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ks(e){return[e("x"),e("y")]}function Gs(e){return void 0===e||1===e}function Qs(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Gs(t)||!Gs(n)||!Gs(r)}function Ys(e){return Qs(e)||Xs(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xs(e){return $s(e.x)||$s(e.y)}function $s(e){return e&&"0%"!==e}function Js(e,t,n){return n+t*(e-n)}function Zs(e,t,n,r,i){return void 0!==i&&(e=Js(e,i,r)),Js(e,n,r)+t}function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Zs(e.min,t,n,r,i),e.max=Zs(e.max,t,n,r,i)}function ta(e,t){let{x:n,y:r}=t;ea(e.x,n.translate,n.scale,n.originPoint),ea(e.y,r.translate,r.scale,r.originPoint)}const na=.999999999999,ra=1.0000000000001;function ia(e,t){e.min=e.min+t,e.max=e.max+t}function sa(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;ea(e,t,n,pr(e.min,e.max,i),r)}function aa(e,t){sa(e.x,t.x,t.scaleX,t.scale,t.originX),sa(e.y,t.y,t.scaleY,t.scale,t.originY)}function oa(e,t){return Fs(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const la=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function ca(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const ua=(e,t)=>Math.abs(e-t);class ha{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=pa(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ua(e.x,t.x),r=ua(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=tn;this.history.push(h(h({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=da(t,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=pa("pointercancel"===e.type?this.lastMoveEventInfo:da(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!js(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=da(Ls(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=tn;this.history=[h(h({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,pa(s,this.history)),this.removeListeners=Cn(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),en(this.updatePoint)}}function da(e,t){return t?{point:t(e.point)}:e}function fa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pa(e,t){let{point:n}=e;return{point:n,delta:fa(n,ga(t)),offset:fa(n,ma(t)),velocity:ya(t,.1)}}function ma(e){return e[0]}function ga(e){return e[e.length-1]}function ya(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ga(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Nn(t)));)n--;if(!r)return{x:0,y:0};const s=In(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function va(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ba(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const wa=.35;function Ea(e,t,n){return{min:xa(e,t),max:xa(e,n)}}function xa(e,t){return"number"===typeof e?e:e[t]||0}const Sa=new WeakMap;class _a{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ha(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ls(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Rs[s]?null:(Rs[s]=!0,()=>{Rs[s]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Xn.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Us(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Zt.postRender(()=>i(e,t)),xn(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ks(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:la(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Zt.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ka(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?pr(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?pr(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&ca(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:va(e.x,r,s),y:va(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa;return!1===e?e=0:!0===e&&(e=wa),{x:Ea(e,"left","right"),y:Ea(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ks(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ca(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=oa(e,n),{scroll:i}=t;return i&&(ia(r.x,i.offset.x),ia(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:ba(e.x,t.x),y:ba(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Fs(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Ks(a=>{if(!ka(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=h(h({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return xn(this.visualElement,e),n.start(cs(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ks(t=>{const{drag:n}=this.getProps();if(!ka(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-pr(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ca(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ks(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Us(e),i=Us(t);return i>r?n=ii(t.min,t.max-r,e.min):r>i&&(n=ii(e.min,e.max-i,t.min)),An(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ks(t=>{if(!ka(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(pr(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;Sa.set(this.visualElement,this);const e=Ms(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();ca(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Zt.read(t);const i=Os(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ks(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=wa,dragMomentum:a=!0}=e;return h(h({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function ka(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ta=e=>(t,n)=>{e&&Zt.postRender(()=>e(t,n))};const{schedule:Ca,cancel:Aa}=Jt(queueMicrotask,!1),Na=(0,i.createContext)({}),Ia={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pa(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ra={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!$n.test(e))return e;e=parseFloat(e)}const n=Pa(e,t.target.x),r=Pa(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Da={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=hr.parse(e);if(s.length>5)return i;const a=hr.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=pr(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),a(s)}},Oa={};class ja extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)Oa[t]=e[t],Dn(t)&&(Oa[t].isCSSVariable=!0)}(Ma),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(h(h({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Ia.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Zt.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ca.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function La(e){const[t,n]=Ft(),r=(0,i.useContext)(Tt);return(0,kt.jsx)(ja,h(h({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Na),isPresent:t,safeToRemove:n}))}const Ma={borderRadius:h(h({},Ra),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomLeftRadius:Ra,borderBottomRightRadius:Ra,boxShadow:Da};function Fa(e){return Pt(e)&&"ownerSVGElement"in e}const Ua=(e,t)=>e.depth-t.depth;class Va{constructor(){this.children=[],this.isDirty=!1}add(e){on(this.children,e),this.isDirty=!0}remove(e){ln(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ua),this.isDirty=!1,this.children.forEach(e)}}function Ba(e,t){const n=fn.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=t&&(en(r),e(a-t))};return Zt.setup(r,!0),()=>en(r)}function za(e){return En(e)?e.get():e}const Ha=["TopLeft","TopRight","BottomLeft","BottomRight"],qa=Ha.length,Wa=e=>"string"===typeof e?parseFloat(e):e,Ka=e=>"number"===typeof e||$n.test(e);function Ga(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Qa=Xa(0,.5,Zr),Ya=Xa(.5,.95,Qt);function Xa(e,t,n){return r=>r<e?0:r>t?1:n(ii(e,t,r))}function $a(e,t){e.min=t.min,e.max=t.max}function Ja(e,t){$a(e.x,t.x),$a(e.y,t.y)}function Za(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function eo(e,t,n,r,i){return e=Js(e-=t,1/n,r),void 0!==i&&(e=Js(e,1/i,r)),e}function to(e,t,n,r,i){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Xn.test(t)&&(t=parseFloat(t),t=pr(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=pr(s.min,s.max,r);e===s&&(o-=t),e.min=eo(e.min,t,n,o,i),e.max=eo(e.max,t,n,o,i)}(e,t[s],t[a],t[o],t.scale,r,i)}const no=["x","scaleX","originX"],ro=["y","scaleY","originY"];function io(e,t,n,r){to(e.x,t,no,n?n.x:void 0,r?r.x:void 0),to(e.y,t,ro,n?n.y:void 0,r?r.y:void 0)}function so(e){return 0===e.translate&&1===e.scale}function ao(e){return so(e.x)&&so(e.y)}function oo(e,t){return e.min===t.min&&e.max===t.max}function lo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function co(e,t){return lo(e.x,t.x)&&lo(e.y,t.y)}function uo(e){return Us(e.x)/Us(e.y)}function ho(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class fo{constructor(){this.members=[]}add(e){on(this.members,e),e.scheduleRender()}remove(e){if(ln(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const po={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},mo=["","X","Y","Z"],go={visibility:"hidden"};let yo=0;function vo(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function bo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kn(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Zt,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&bo(r)}function wo(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=yo++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$t.value&&(po.nodes=po.calculatedTargetDeltas=po.calculatedProjections=0),this.nodes.forEach(So),this.nodes.forEach(Io),this.nodes.forEach(Po),this.nodes.forEach(_o),$t.addProjectionMetrics&&$t.addProjectionMetrics(po)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Va)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new cn),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Fa(e)&&!(Fa(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Ba(r,250),Ia.hasAnimatedSinceResize&&(Ia.hasAnimatedSinceResize=!1,this.nodes.forEach(No))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||s.getDefaultTransition()||Mo,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!co(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=h(h({},Gt(a,"layout")),{},{onPlay:o,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||No(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),en(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ro),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(To);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Co);this.isUpdating||this.nodes.forEach(Co),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(Ao),this.nodes.forEach(Eo),this.nodes.forEach(xo),this.clearAllSnapshots();const e=fn.now();tn.delta=An(0,1e3/60,e-tn.timestamp),tn.timestamp=e,tn.isProcessing=!0,nn.update.process(tn),nn.preRender.process(tn),nn.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ca.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ko),this.sharedNodes.forEach(Do)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Us(this.snapshot.measuredBox.x)||Us(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ao(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ys(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Vo((r=n).x),Vo(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(zo))){const{scroll:e}=this.root;e&&(ia(n.x,e.offset.x),ia(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Ja(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&Ja(n,e),ia(n.x,i.offset.x),ia(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Ja(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&aa(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ys(e.latestValues)&&aa(n,e.latestValues)}return Ys(this.latestValues)&&aa(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ja(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ys(e.latestValues))continue;Qs(e.latestValues)&&e.updateSnapshot();const r=Ws();Ja(r,e.measurePageBox()),io(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ys(this.latestValues)&&io(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=h(h(h({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qs(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,zs(a.x,o.x,l.x),zs(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ja(this.target,this.layout.layoutBox),ta(this.target,this.targetDelta)):Ja(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qs(this.relativeTargetOrigin,this.target,e.target),Ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$t.value&&po.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Qs(this.parent.latestValues)&&!Xs(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;Ja(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,a;t.x=t.y=1;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&aa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ta(e,a)),r&&Ys(s.latestValues)&&aa(e,s.latestValues))}t.x<ra&&t.x>na&&(t.x=1),t.y<ra&&t.y>na&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Za(this.prevProjectionDelta.x,this.projectionDelta.x),Za(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Bs(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&ho(this.projectionDelta.x,this.prevProjectionDelta.x)&&ho(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),$t.value&&po.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=h({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Lo));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;Oo(s.x,e.x,n),Oo(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,jo(f.x,p.x,m.x,g),jo(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,oo(l.x,h.x)&&oo(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Ja(d,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,r,i,s){var a,o;if(i)e.opacity=pr(0,null!==(a=n.opacity)&&void 0!==a?a:1,Qa(r)),e.opacityExit=pr(null!==(o=t.opacity)&&void 0!==o?o:1,0,Ya(r));else if(s){var l,c;e.opacity=pr(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<qa;u++){const i="border".concat(Ha[u],"Radius");let s=Ga(t,i),a=Ga(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Ka(s)===Ka(a)?(e[i]=Math.max(pr(Wa(s),Wa(a),r),0),(Xn.test(a)||Xn.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(en(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{Ia.hasAnimatedSinceResize=!0,Pn.layout++,this.motionValue||(this.motionValue=gn(0)),this.currentAnimation=function(e,t,n){const r=En(e)?e:gn(e);return r.start(cs("",r,t,n)),r.animation}(this.motionValue,[0,1e3],h(h({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Pn.layout--},onComplete:()=>{Pn.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Bo(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Us(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Us(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Ja(t,n),aa(t,i),Bs(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new fo);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&vo("z",e,r,this.animationValues);for(let i=0;i<mo.length;i++)vo("rotate".concat(mo[i]),e,r,this.animationValues),vo("skew".concat(mo[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return go;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=za(null===e||void 0===e?void 0:e.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=za(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||s||a)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:a,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));const{x:s,y:a}=this.projectionDelta;var o,l;(t.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?t.opacity=r===this?null!==(o=null!==(l=i.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in Oa){if(void 0===i[c])continue;const{correct:e,applyTo:n,isCSSVariable:s}=Oa[c],a="none"===t.transform?i[c]:e(i[c],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=a}else s?this.options.visualElement.renderState.vars[c]=a:t[c]=a}return this.options.layoutId&&(t.pointerEvents=r===this?za(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(To),this.root.sharedNodes.clear()}}}function Eo(e){e.updateLayout()}function xo(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Ks(e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Us(r);r.min=t[e].min,r.max=r.min+i}):Bo(i,n.layoutBox,t)&&Ks(r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],a=Us(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Bs(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Bs(o,e.applyTransform(r,!0),n.measuredBox):Bs(o,t,n.layoutBox);const l=!ao(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};qs(a,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};qs(o,t,s.layoutBox),co(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function So(e){$t.value&&po.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _o(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ko(e){e.clearSnapshot()}function To(e){e.clearMeasurements()}function Co(e){e.isLayoutDirty=!1}function Ao(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function No(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Io(e){e.resolveTargetDelta()}function Po(e){e.calcProjection()}function Ro(e){e.resetSkewAndRotation()}function Do(e){e.removeLeadSnapshot()}function Oo(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jo(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function Lo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Mo={duration:.45,ease:[.4,0,.1,1]},Fo=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Uo=Fo("applewebkit/")&&!Fo("chrome/")?Math.round:Qt;function Vo(e){e.min=Uo(e.min),e.max=Uo(e.max)}function Bo(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(uo(t),uo(n),.2)}function zo(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ho=wo({attachResizeListener:(e,t)=>Os(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qo={current:void 0},Wo=wo({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qo.current){const e=new Ho({});e.mount(window),e.setOptions({layoutScroll:!0}),qo.current=e}return qo.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ko={pan:{Feature:class extends Ns{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new ha(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:la(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ta(e),onStart:Ta(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Zt.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Ns{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new _a(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Wo,MeasureLayout:La}};function Go(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const s=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,h(h({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function Qo(e){return!("touch"===e.pointerType||Ds())}function Yo(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Zt.postRender(()=>i(t,Ls(t)))}const Xo=(e,t)=>!!t&&(e===t||Xo(e,t.parentElement)),$o=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Jo=new WeakSet;function Zo(e){return t=>{"Enter"===t.key&&e(t)}}function el(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function tl(e){return js(e)&&!Ds()}function nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Go(e,n),a=e=>{const r=e.currentTarget;if(!tl(e))return;Jo.add(r);const s=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Jo.has(r)&&Jo.delete(r),tl(e)&&"function"===typeof s&&s(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||Xo(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),Rt(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Zo(()=>{if(Jo.has(n))return;el(n,"down");const e=Zo(()=>{el(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>el(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,$o.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function rl(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Zt.postRender(()=>i(t,Ls(t)))}const il=["root"],sl=new WeakMap,al=new WeakMap,ol=e=>{const t=sl.get(e.target);t&&t(e)},ll=e=>{e.forEach(ol)};function cl(e,t,n){const r=function(e){let{root:t}=e,n=a(e,il);const r=t||document;al.has(r)||al.set(r,{});const i=al.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(ll,h({root:t},n))),i[s]}(t);return sl.set(e,n),r.observe(e),()=>{sl.delete(e),r.unobserve(e)}}const ul={some:0,all:1};const hl={inView:{Feature:class extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:ul[r]};return cl(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Ns{mount(){const{current:e}=this.node;e&&(this.unmount=nl(e,(e,t)=>(rl(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return rl(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(VI){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cn(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Ns{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,s]=Go(e,n),a=e=>{if(!Qo(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{Qo(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),s}(e,(e,t)=>(Yo(this.node,t,"Start"),e=>Yo(this.node,e,"End"))))}unmount(){}}}},dl={layout:{ProjectionNode:Wo,MeasureLayout:La}},fl=(0,i.createContext)({strict:!1}),pl=(0,i.createContext)({});function ml(e){return Ht(e.animate)||vs.some(t=>gs(e[t]))}function gl(e){return Boolean(ml(e)||e.variants)}function yl(e){const{initial:t,animate:n}=function(e,t){if(ml(e)){const{initial:t,animate:n}=e;return{initial:!1===t||gs(t)?t:void 0,animate:gs(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(pl));return(0,i.useMemo)(()=>({initial:t,animate:n}),[vl(t),vl(n)])}function vl(e){return Array.isArray(e)?e.join(" "):e}const bl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const HI in bl)wl[HI]={isEnabled:e=>bl[HI].some(t=>!!e[t])};const El=Symbol.for("motionComponentSymbol");function xl(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):ca(n)&&(n.current=r))},[t])}function Sl(e,t,n,r,s){var a,o,l,c;const{visualElement:u}=(0,i.useContext)(pl),h=(0,i.useContext)(fl),d=(0,i.useContext)(It),f=(0,i.useContext)(Dt).reducedMotion,p=(0,i.useRef)(null);r=r||h.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));const m=p.current,g=(0,i.useContext)(Na);!m||m.projection||!s||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_l(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(a)||o&&ca(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,s,g);const y=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{m&&y.current&&m.update(n,d)});const v=n[_n],b=(0,i.useRef)(Boolean(v)&&!(null!==(a=(o=window).MotionHandoffIsComplete)&&void 0!==a&&a.call(o,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return Nt(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ca.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,i.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1))}),m}function _l(e){if(e)return!1!==e.options.allowProjection?e.projection:_l(e.parent)}function kl(e){var t,n;let{preloadedFeatures:r,createVisualElement:s,useRender:a,useVisualState:o,Component:l}=e;function c(e,t){let n;const r=h(h(h({},(0,i.useContext)(Dt)),e),{},{layoutId:Tl(e)}),{isStatic:c}=r,u=yl(e),d=o(e,c);if(!c&&At){!function(){(0,i.useContext)(fl).strict;0}();const e=function(e){const{drag:t,layout:n}=wl;if(!t&&!n)return{};const r=h(h({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(r);n=e.MeasureLayout,u.visualElement=Sl(l,d,r,s,e.ProjectionNode)}return(0,kt.jsxs)(pl.Provider,{value:u,children:[n&&u.visualElement?(0,kt.jsx)(n,h({visualElement:u.visualElement},r)):null,a(l,e,xl(d,u.visualElement,t),d,c,u.visualElement)]})}r&&function(e){for(const t in e)wl[t]=h(h({},wl[t]),e[t])}(r),c.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(t=null!==(n=l.displayName)&&void 0!==n?n:l.name)&&void 0!==t?t:"",")"));const u=(0,i.forwardRef)(c);return u[El]=l,u}function Tl(e){let{layoutId:t}=e;const n=(0,i.useContext)(Tt).id;return n&&void 0!==t?n+"-"+t:t}function Cl(e,t){let{layout:n,layoutId:r}=t;return sn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Oa[e]||"opacity"===e)}const Al=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Nl=h(h({},Mn),{},{transform:Math.round}),Il=h(h({borderWidth:$n,borderTopWidth:$n,borderRightWidth:$n,borderBottomWidth:$n,borderLeftWidth:$n,borderRadius:$n,radius:$n,borderTopLeftRadius:$n,borderTopRightRadius:$n,borderBottomRightRadius:$n,borderBottomLeftRadius:$n,width:$n,maxWidth:$n,height:$n,maxHeight:$n,top:$n,right:$n,bottom:$n,left:$n,padding:$n,paddingTop:$n,paddingRight:$n,paddingBottom:$n,paddingLeft:$n,margin:$n,marginTop:$n,marginRight:$n,marginBottom:$n,marginLeft:$n,backgroundPositionX:$n,backgroundPositionY:$n},{rotate:Yn,rotateX:Yn,rotateY:Yn,rotateZ:Yn,scale:Un,scaleX:Un,scaleY:Un,scaleZ:Un,skew:Yn,skewX:Yn,skewY:Yn,distance:$n,translateX:$n,translateY:$n,translateZ:$n,x:$n,y:$n,z:$n,perspective:$n,transformPerspective:$n,opacity:Fn,originX:er,originY:er,originZ:$n}),{},{zIndex:Nl,fillOpacity:Fn,strokeOpacity:Fn,numOctaves:Nl}),Pl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rl=rn.length;function Dl(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(sn.has(l))a=!0;else if(Dn(l))i[l]=e;else{const t=Al(e,Il[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<Rl;s++){const a=rn[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Al(o,Il[a]);l||(i=!1,r+="".concat(Pl[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Ol=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jl(e,t,n){for(const r in t)En(t[r])||Cl(r,n)||(e[r]=t[r])}function Ll(e,t){const n={};return jl(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Dl(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function Ml(e,t){const n={},r=Ll(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fl={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ul={offset:"strokeDashoffset",array:"strokeDasharray"};const Vl=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Bl(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=t;if(Dl(e,a(t,Vl),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;var p,m;(d.transform&&(f.transform=d.transform,delete d.transform),f.transform||d.transformOrigin)&&(f.transformOrigin=null!==(p=d.transformOrigin)&&void 0!==p?p:"50% 50%",delete d.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===i||void 0===i?void 0:i.transformBox)&&void 0!==m?m:"fill-box",delete d.transformBox);void 0!==s&&(d.x=s),void 0!==o&&(d.y=o),void 0!==l&&(d.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Fl:Ul;e[s.offset]=$n.transform(-r);const a=$n.transform(t),o=$n.transform(n);e[s.array]="".concat(a," ").concat(o)}(d,c,u,h,!1)}const zl=()=>h(h({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Hl=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ql(e,t,n,r){const s=(0,i.useMemo)(()=>{const n=zl();return Bl(n,t,Hl(r),e.transformTemplate,e.style),h(h({},n.attrs),{},{style:h({},n.style)})},[t]);if(e.style){const t={};jl(t,e.style,e),s.style=h(h({},t),s.style)}return s}const Wl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wl.has(e)}let Gl=e=>!Kl(e);try{"function"===typeof(Ql=require("@emotion/is-prop-valid").default)&&(Gl=e=>e.startsWith("on")?!Kl(e):Ql(e))}catch(BI){}var Ql;const Yl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xl(e){return"string"===typeof e&&!e.includes("-")&&!!(Yl.indexOf(e)>-1||/[A-Z]/.test(e))}function $l(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,a)=>{let{latestValues:o}=s;const l=(Xl(t)?ql:Ml)(n,o,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Gl(i)||!0===n&&Kl(i)||!t&&!Kl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?h(h(h({},c),l),{},{ref:r}):{},{children:d}=n,f=(0,i.useMemo)(()=>En(d)?d.get():d,[d]);return(0,i.createElement)(t,h(h({},u),{},{children:f}))}}const Jl=["transitionEnd","transition"];const Zl=e=>(t,n)=>{const r=(0,i.useContext)(pl),s=(0,i.useContext)(It),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s}=e;return{latestValues:ec(t,n,r,i),renderState:s()}}(e,t,r,s);return n?a():Ct(a)};function ec(e,t,n,r){const i={},s=r(e,{});for(const a in s)i[a]=za(s[a]);let{initial:o,animate:l}=e;const c=ml(e),u=gl(e);t&&u&&!c&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===o;const d=h?l:o;if(d&&"boolean"!==typeof d&&!Ht(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Wt(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=a(r,Jl);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function tc(e,t,n){const{style:r}=e,i={};for(const a in r){var s;(En(r[a])||t.style&&En(t.style[a])||Cl(a,e)||void 0!==(null===n||void 0===n||null===(s=n.getValue(a))||void 0===s?void 0:s.liveStyle))&&(i[a]=r[a])}return i}const nc={useVisualState:Zl({scrapeMotionValuesFromProps:tc,createRenderState:Ol})};function rc(e,t,n){const r=tc(e,t,n);for(const i in e)if(En(e[i])||En(t[i])){r[-1!==rn.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const ic={useVisualState:Zl({scrapeMotionValuesFromProps:rc,createRenderState:zl})};function sc(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return kl(h(h({},Xl(n)?ic:nc),{},{preloadedFeatures:e,useRender:$l(r),createVisualElement:t,Component:n}))}}const ac=e=>t=>t.test(e),oc=[Mn,$n,Xn,Yn,Zn,Jn,{test:e=>"auto"===e,parse:e=>e}],lc=e=>oc.find(ac(e)),cc=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),uc=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=uc.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return cc(e)?parseFloat(e):e}return jn(i)?hc(i,t,n+1):i}const dc=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function fc(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||dc(e))}const pc=new Set(["brightness","contrast","saturate","opacity"]);function mc(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Bn)||[];if(!r)return e;const i=n.replace(r,"");let s=pc.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const gc=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,yc=h(h({},hr),{},{getAnimatableNone:e=>{const t=e.match(gc);return t?t.map(mc).join(" "):e}}),vc=h(h({},Il),{},{color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:yc,WebkitFilter:yc}),bc=e=>vc[e];function wc(e,t){let n=bc(e);return n!==yc&&(n=hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ec=new Set(["auto","none","0"]);class xc extends ji{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),jn(n))){const r=hc(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!an.has(n)||2!==e.length)return;const[r,i]=e,s=lc(r),a=lc(i);if(s!==a)if(ki(s)&&ki(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else Ai[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||fc(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Ec.has(t)&&or(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=wc(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ai[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Ai[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Sc=[...oc,nr,hr],_c={current:null},kc={current:!1};const Tc=new WeakMap;const Cc=["willChange"],Ac=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nc{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ji,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=fn.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Zt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget=h({},c),this.initialValues=n.initial?h({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=ml(n),this.isVariantNode=gl(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=d,p=a(d,Cc);for(const a in p){const e=p[a];void 0!==c[a]&&En(e)&&e.set(c[a],!1)}}mount(e){this.current=e,Tc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),kc.current||function(){if(kc.current=!0,At)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_c.current=e.matches;e.addListener(t),t()}else _c.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||_c.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),en(this.notifyUpdate),en(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=sn.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in wl){const t=wl[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ac.length;n++){const t=Ac[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(En(i))e.addValue(r,i);else if(En(s))e.addValue(r,gn(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,gn(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=gn(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(cc(r)||dc(r))?r=parseFloat(r):(i=r,!Sc.find(ac(i))&&hr.test(t)&&(r=wc(e,t))),this.setBaseTarget(e,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=Wt(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||En(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new cn),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Ic extends Nc{constructor(){super(...arguments),this.KeyframeResolver=xc}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function Pc(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}class Rc extends Ic{constructor(){super(...arguments),this.type="html",this.renderInstance=Pc}readValueFromInstance(e,t){var n,r;if(sn.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?xi(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Si(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Dn(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return oa(e,n)}build(e,t,n){Dl(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return tc(e,t,n)}}const Dc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Oc extends Ic{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ws}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sn.has(t)){const e=bc(t);return e&&e.default||0}return t=Dc.has(t)?t:Sn(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return rc(e,t,n)}build(e,t,n){Bl(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Pc(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Dc.has(i)?i:Sn(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=Hl(e.tagName),super.mount(e)}}const jc=(e,t)=>Xl(e)?new Oc(t):new Rc(t,{allowProjection:e!==i.Fragment}),Lc=zt(sc(h(h(h(h({},Ps),hl),Ko),dl),jc));class Mc extends i.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.handleReportError=()=>{var e,t,n;const r={error:null===(e=this.state.error)||void 0===e?void 0:e.toString(),stack:null===(t=this.state.error)||void 0===t?void 0:t.stack,componentStack:null===(n=this.state.errorInfo)||void 0===n?void 0:n.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",r),navigator.clipboard.writeText(JSON.stringify(r,null,2)).then(()=>alert("Error report copied to clipboard")).catch(()=>alert("Unable to copy error report"))},this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static getDerivedStateFromError(e){return{hasError:!0,errorId:Date.now()}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,kt.jsx)("div",{className:"error-boundary",children:(0,kt.jsxs)(Lc.div,{className:"error-container",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,kt.jsx)(Lc.div,{className:"error-icon",animate:{rotate:[0,10,-10,0],color:["#DC143C","#FFD700","#FF6347","#DC143C"]},transition:{rotate:{duration:2,repeat:1/0},color:{duration:3,repeat:1/0}},children:"\ud83d\udca5"}),(0,kt.jsx)(Lc.h1,{className:"error-title",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Oops! Something went wrong"}),(0,kt.jsxs)(Lc.div,{className:"error-message",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,kt.jsx)("p",{children:"We're sorry, but something unexpected happened in the chat support system. Don't worry - your data is safe and the issue has been logged."}),(0,kt.jsxs)("details",{className:"error-details",children:[(0,kt.jsx)("summary",{children:"Technical Details"}),(0,kt.jsxs)("div",{className:"error-technical",children:[(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Error ID:"})," ",this.state.errorId]}),this.state.error&&(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Error:"})," ",this.state.error.toString()]}),(0,kt.jsxs)("p",{children:[(0,kt.jsx)("strong",{children:"Time:"})," ",(new Date).toLocaleString()]})]})]})]}),(0,kt.jsxs)(Lc.div,{className:"error-actions",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,kt.jsx)(Lc.button,{className:"btn btn-primary",onClick:this.handleReload,whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(220, 20, 60, 0.3)"},whileTap:{scale:.95},children:"\ud83d\udd04 Reload Page"}),(0,kt.jsx)(Lc.button,{className:"btn btn-secondary",onClick:this.handleGoHome,whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(255, 215, 0, 0.3)"},whileTap:{scale:.95},children:"\ud83c\udfe0 Go Home"}),(0,kt.jsx)(Lc.button,{className:"btn btn-outline",onClick:this.handleReportError,whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ud83d\udccb Report Issue"})]}),!1,(0,kt.jsxs)(Lc.div,{className:"error-tips",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[(0,kt.jsx)("h3",{children:"\ud83d\udca1 Quick Fixes"}),(0,kt.jsxs)("ul",{children:[(0,kt.jsx)("li",{children:"Try refreshing the page"}),(0,kt.jsx)("li",{children:"Clear your browser cache and cookies"}),(0,kt.jsx)("li",{children:"Check your internet connection"}),(0,kt.jsx)("li",{children:"Contact support if the issue persists"})]})]})]})}):this.props.children}}const Fc=Mc,Uc=e=>{let{size:t="medium",text:n="Loading...",showText:r=!0,type:i="spinner",color:s="primary"}=e;const a={small:{width:"24px",height:"24px",fontSize:"0.875rem"},medium:{width:"48px",height:"48px",fontSize:"1rem"},large:{width:"72px",height:"72px",fontSize:"1.25rem"},xlarge:{width:"96px",height:"96px",fontSize:"1.5rem"}}[t],o={primary:{gradient:"linear-gradient(135deg, #DC143C, #FFD700)",color:"#DC143C",secondary:"#FFD700"},secondary:{gradient:"linear-gradient(135deg, #FFD700, #FF6347)",color:"#FFD700",secondary:"#FF6347"},accent:{gradient:"linear-gradient(135deg, #FF6347, #DC143C)",color:"#FF6347",secondary:"#DC143C"}}[s],l=()=>(0,kt.jsx)(Lc.div,{className:"loading-spinner-ring",style:{width:a.width,height:a.height,border:"4px solid rgba(220, 20, 60, 0.1)",borderTop:"4px solid ".concat(o.color),borderRadius:"50%"},animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),c=()=>(0,kt.jsx)("div",{className:"loading-dots",style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center"},children:[0,1,2].map(e=>(0,kt.jsx)(Lc.div,{style:{width:parseInt(a.width)/4+"px",height:parseInt(a.width)/4+"px",borderRadius:"50%",background:o.gradient},animate:{scale:[1,1.5,1],opacity:[.7,1,.7]},transition:{duration:.8,repeat:1/0,delay:.2*e,ease:"easeInOut"}},e))}),u=()=>(0,kt.jsx)(Lc.div,{className:"loading-pulse",style:{width:a.width,height:a.height,borderRadius:"50%",background:o.gradient},animate:{scale:[1,1.2,1],opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),h=()=>(0,kt.jsx)("div",{className:"loading-wave",style:{display:"flex",gap:"4px",alignItems:"flex-end",height:a.height},children:[0,1,2,3,4].map(e=>(0,kt.jsx)(Lc.div,{style:{width:parseInt(a.width)/8+"px",background:e%2===0?o.color:o.secondary,borderRadius:"2px"},animate:{height:[parseInt(a.height)/4,parseInt(a.height),parseInt(a.height)/4]},transition:{duration:1.2,repeat:1/0,delay:.1*e,ease:"easeInOut"}},e))}),d=()=>(0,kt.jsx)("div",{className:"loading-chat-bubbles",style:{display:"flex",gap:"8px"},children:[0,1,2].map(e=>(0,kt.jsx)(Lc.div,{style:{width:parseInt(a.width)/3+"px",height:parseInt(a.width)/4+"px",background:o.gradient,borderRadius:"12px 12px 12px 4px"},animate:{y:[0,-8,0],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.3*e,ease:"easeInOut"}},e))});return(0,kt.jsxs)(Lc.div,{className:"loading-spinner-container",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",padding:"20px"},children:[(0,kt.jsx)("div",{className:"spinner-wrapper",children:(()=>{switch(i){case"dots":return(0,kt.jsx)(c,{});case"pulse":return(0,kt.jsx)(u,{});case"wave":return(0,kt.jsx)(h,{});case"chat":return(0,kt.jsx)(d,{});default:return(0,kt.jsx)(l,{})}})()}),r&&(0,kt.jsx)(Lc.div,{className:"loading-text",style:{fontSize:a.fontSize,fontWeight:"600",background:o.gradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textAlign:"center"},animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:n})]})},Vc=Uc;function Bc(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)([{id:1,text:"Hello! Welcome to our support chat. How can I help you today?",sender:"agent",timestamp:(new Date).toLocaleTimeString(),avatar:"\ud83d\udc68\u200d\ud83d\udcbc"}]),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!0),[h,d]=(0,i.useState)(247),[f,p]=(0,i.useState)([]),m=me(),g=(0,i.useRef)(null),y=["Need help with login? \ud83d\udcac","Customer support is online! \u2705","Response time: < 30 seconds \u26a1","24/7 Live Support \ud83c\udf1f","How can we assist you? \ud83e\udd1d"];(0,i.useEffect)(()=>{const e=setInterval(()=>{if(f.length<3){const e=y[Math.floor(Math.random()*y.length)],t={id:Date.now(),text:e,x:300*Math.random(),y:200*Math.random()};p(e=>[...e,t]),setTimeout(()=>{p(e=>e.filter(e=>e.id!==t.id))},4e3)}},2e3),t=setInterval(()=>{d(e=>e+Math.floor(3*Math.random())-1)},5e3);return()=>{clearInterval(e),clearInterval(t)}},[f.length]);const v=()=>{t(!e)};return(0,kt.jsxs)("div",{className:"landing-page",children:[(0,kt.jsx)("div",{className:"background-animation",children:[...Array(20)].map((e,t)=>(0,kt.jsx)(Lc.div,{className:"floating-circle",animate:{y:[-20,20,-20],x:[-10,10,-10],opacity:[.1,.3,.1]},transition:{duration:4+.2*t,repeat:1/0,delay:.3*t},style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")}},t))}),(0,kt.jsx)(Lc.header,{className:"landing-header",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:(0,kt.jsx)("div",{className:"container",children:(0,kt.jsxs)("div",{className:"header-content",children:[(0,kt.jsxs)(Lc.h1,{className:"logo",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[(0,kt.jsx)("span",{className:"logo-icon",children:"\ud83d\udcac"}),"ChatSupport Pro"]}),(0,kt.jsxs)("nav",{className:"nav-menu",children:[(0,kt.jsx)(Lc.a,{href:"#features",whileHover:{scale:1.1},children:"Features"}),(0,kt.jsx)(Lc.a,{href:"#about",whileHover:{scale:1.1},children:"About"}),(0,kt.jsx)(Lc.a,{href:"#contact",whileHover:{scale:1.1},children:"Contact"})]})]})})}),(0,kt.jsx)("section",{className:"hero-section",children:(0,kt.jsx)("div",{className:"container",children:(0,kt.jsxs)("div",{className:"hero-content",children:[(0,kt.jsxs)(Lc.div,{className:"hero-text",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.2},children:[(0,kt.jsxs)("h2",{className:"hero-title",children:["Real-Time Customer Support",(0,kt.jsx)(Lc.span,{className:"highlight",animate:{color:["#007bff","#28a745","#ffc107","#007bff"]},transition:{duration:3,repeat:1/0},children:" Made Simple"})]}),(0,kt.jsx)("p",{className:"hero-description",children:"Connect with your customers instantly through our advanced chat support system. Provide exceptional service with real-time messaging, agent management, and seamless transfers."}),(0,kt.jsxs)("div",{className:"hero-stats",children:[(0,kt.jsxs)(Lc.div,{className:"stat",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:[(0,kt.jsx)("span",{className:"stat-number",children:h}),(0,kt.jsx)("span",{className:"stat-label",children:"Users Online"})]}),(0,kt.jsxs)("div",{className:"stat",children:[(0,kt.jsx)("span",{className:"stat-number",children:"<30s"}),(0,kt.jsx)("span",{className:"stat-label",children:"Response Time"})]}),(0,kt.jsxs)("div",{className:"stat",children:[(0,kt.jsx)("span",{className:"stat-number",children:"24/7"}),(0,kt.jsx)("span",{className:"stat-label",children:"Support"})]})]}),(0,kt.jsxs)("div",{className:"hero-buttons",children:[(0,kt.jsx)(Lc.button,{className:"btn btn-primary",onClick:v,whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(0,123,255,0.3)"},whileTap:{scale:.95},children:"Start Chat Now"}),(0,kt.jsx)(Lc.button,{className:"btn btn-secondary",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Watch Demo"})]})]}),(0,kt.jsxs)(Lc.div,{className:"hero-mobile",ref:g,initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:1,delay:.5},children:[(0,kt.jsxs)(Lc.div,{className:"mobile-device",animate:{rotateY:[-5,5,-5],rotateX:[2,-2,2]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:[(0,kt.jsxs)("div",{className:"mobile-screen",children:[(0,kt.jsx)("div",{className:"mobile-header",children:(0,kt.jsxs)("div",{className:"mobile-status",children:[(0,kt.jsx)(Lc.div,{className:"status-dot online",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}}),"Live Support"]})}),(0,kt.jsxs)("div",{className:"mobile-messages",children:[(0,kt.jsx)(Bt,{children:n.slice(-3).map((e,t)=>(0,kt.jsxs)(Lc.div,{className:"mobile-message ".concat(e.sender),initial:{y:20,opacity:0,scale:.8},animate:{y:0,opacity:1,scale:1},exit:{y:-20,opacity:0,scale:.8},transition:{duration:.3,delay:.1*t},children:[(0,kt.jsx)("div",{className:"message-avatar",children:e.avatar}),(0,kt.jsxs)("div",{className:"message-bubble",children:[(0,kt.jsx)("div",{className:"message-text",children:e.text}),(0,kt.jsx)("div",{className:"message-time",children:e.timestamp})]})]},e.id))}),o&&(0,kt.jsxs)(Lc.div,{className:"mobile-message agent typing",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,kt.jsx)("div",{className:"message-avatar",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,kt.jsx)("div",{className:"message-bubble",children:(0,kt.jsxs)("div",{className:"typing-indicator",children:[(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:0},children:"\u25cf"}),(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:.2},children:"\u25cf"}),(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:.4},children:"\u25cf"})]})})]})]})]}),(0,kt.jsxs)("div",{className:"mobile-input",children:[(0,kt.jsx)(Lc.div,{className:"input-field",animate:{width:["70%","75%","70%"]},transition:{duration:3,repeat:1/0},children:"Type your message..."}),(0,kt.jsx)(Lc.button,{className:"send-btn",animate:{backgroundColor:["#007bff","#28a745","#007bff"]},transition:{duration:2,repeat:1/0},children:"\u27a4"})]})]}),(0,kt.jsx)(Bt,{children:f.map(e=>(0,kt.jsx)(Lc.div,{className:"floating-message",initial:{opacity:0,y:0,x:e.x,scale:.8},animate:{opacity:[0,1,1,0],y:[-50,-100,-150,-200],scale:[.8,1,1,.6]},exit:{opacity:0,scale:0},transition:{duration:4,ease:"easeOut"},style:{left:e.x,top:e.y},children:e.text},e.id))})]})]})})}),(0,kt.jsx)(Lc.section,{id:"features",className:"features-section",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},children:(0,kt.jsxs)("div",{className:"container",children:[(0,kt.jsx)(Lc.h3,{className:"section-title",initial:{y:50},whileInView:{y:0},transition:{duration:.6},children:"Why Choose ChatSupport Pro?"}),(0,kt.jsx)("div",{className:"features-grid",children:[{icon:"\u26a1",title:"Real-Time Messaging",desc:"Instant communication with customers through our advanced WebSocket technology."},{icon:"\ud83d\udc65",title:"Agent Management",desc:"Efficiently manage your support team with role-based access and chat assignments."},{icon:"\ud83d\udcca",title:"Analytics Dashboard",desc:"Track performance metrics and customer satisfaction with detailed reporting."},{icon:"\ud83d\udd04",title:"Chat Transfer",desc:"Seamlessly transfer conversations between agents without losing context."}].map((e,t)=>(0,kt.jsxs)(Lc.div,{className:"feature-card",initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},whileHover:{y:-10,boxShadow:"0 20px 40px rgba(0,0,0,0.1)"},transition:{duration:.6,delay:.1*t,type:"spring",stiffness:300},viewport:{once:!0},children:[(0,kt.jsx)(Lc.div,{className:"feature-icon",animate:{rotateY:360},transition:{duration:2,repeat:1/0,delay:.5*t},children:e.icon}),(0,kt.jsx)("h4",{children:e.title}),(0,kt.jsx)("p",{children:e.desc})]},t))})]})}),(0,kt.jsx)("footer",{className:"landing-footer",children:(0,kt.jsxs)("div",{className:"container",children:[(0,kt.jsxs)("div",{className:"footer-content",children:[(0,kt.jsxs)("div",{className:"footer-section",children:[(0,kt.jsx)("h4",{children:"ChatSupport Pro"}),(0,kt.jsx)("p",{children:"Professional customer support solutions for modern businesses."})]}),(0,kt.jsxs)("div",{className:"footer-section",children:[(0,kt.jsx)("h4",{children:"Support"}),(0,kt.jsxs)("ul",{children:[(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#help",children:"Help Center"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#docs",children:"Documentation"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)("a",{href:"#contact",children:"Contact Us"})})]})]}),(0,kt.jsxs)("div",{className:"footer-section",children:[(0,kt.jsx)("h4",{children:"Access Portal"}),(0,kt.jsxs)("ul",{children:[(0,kt.jsx)("li",{children:(0,kt.jsx)(Lc.button,{className:"agent-login-link",onClick:()=>{m("/agent-login")},whileHover:{scale:1.05,color:"#007bff"},children:"Agent Login"})}),(0,kt.jsx)("li",{children:(0,kt.jsx)(Lc.button,{className:"admin-access-link",onClick:()=>{m("/admin-login")},whileHover:{scale:1.05,color:"#28a745"},children:"Admin Access"})})]})]})]}),(0,kt.jsx)("div",{className:"footer-bottom",children:(0,kt.jsx)("p",{children:"\xa9 2025 ChatSupport Pro. All rights reserved."})})]})}),(0,kt.jsxs)(Lc.div,{className:"chat-float-button ".concat(e?"active":""),animate:{scale:e?1:[1,1.1,1],rotate:e?180:0},transition:{scale:{duration:2,repeat:e?0:1/0},rotate:{duration:.3}},children:[(0,kt.jsx)(Lc.button,{className:"chat-toggle-btn",onClick:v,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Toggle chat",children:e?"\u2715":"\ud83d\udcac"}),(0,kt.jsx)(Lc.div,{className:"notification-dot",animate:{scale:[1,1.5,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0}})]}),(0,kt.jsx)(Bt,{children:e&&(0,kt.jsxs)(Lc.div,{className:"chat-widget",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:30},children:[(0,kt.jsxs)("div",{className:"chat-widget-header",children:[(0,kt.jsxs)("div",{className:"chat-widget-title",children:[(0,kt.jsx)(Lc.span,{className:"status-dot online",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}}),"Live Support",(0,kt.jsxs)("span",{className:"agent-count",children:["(",Math.floor(h/50)," agents online)"]})]}),(0,kt.jsx)(Lc.button,{className:"chat-minimize-btn",onClick:v,whileHover:{rotate:90},children:"\u2715"})]}),(0,kt.jsxs)("div",{className:"chat-widget-messages",children:[(0,kt.jsx)(Bt,{children:n.map(e=>(0,kt.jsxs)(Lc.div,{className:"chat-message ".concat(e.sender),initial:{opacity:0,y:20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},transition:{duration:.3},children:[(0,kt.jsx)("div",{className:"message-avatar",children:e.avatar}),(0,kt.jsxs)("div",{className:"message-bubble",children:[(0,kt.jsx)("div",{className:"message-text",children:e.text}),(0,kt.jsx)("div",{className:"message-time",children:e.timestamp})]})]},e.id))}),o&&(0,kt.jsxs)(Lc.div,{className:"chat-message agent",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,kt.jsx)("div",{className:"message-avatar",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,kt.jsx)("div",{className:"message-bubble typing-indicator",children:(0,kt.jsxs)("div",{className:"typing-dots",children:[(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:0}}),(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:.2}}),(0,kt.jsx)(Lc.span,{animate:{opacity:[.3,1,.3]},transition:{duration:1,repeat:1/0,delay:.4}})]})})]})]}),(0,kt.jsxs)("form",{className:"chat-widget-input",onSubmit:e=>{if(e.preventDefault(),s.trim()){const e={id:Date.now(),text:s.trim(),sender:"user",timestamp:(new Date).toLocaleTimeString(),avatar:"\ud83d\udc64"};r([...n,e]),a(""),l(!0),setTimeout(()=>{l(!1);const e=["Thank you for your message! An agent will assist you shortly.","I understand your concern. Let me help you with that.","Great question! Here's what I can help you with...","I'm here to help! What specific assistance do you need?"],t={id:Date.now()+1,text:e[Math.floor(Math.random()*e.length)],sender:"agent",timestamp:(new Date).toLocaleTimeString(),avatar:"\ud83d\udc68\u200d\ud83d\udcbc"};r(e=>[...e,t])},1500)}},children:[(0,kt.jsx)(Lc.input,{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Type your message...",className:"message-input",whileFocus:{scale:1.02}}),(0,kt.jsx)(Lc.button,{type:"submit",className:"send-button",whileHover:{scale:1.1},whileTap:{scale:.9},children:"\ud83d\udce4"})]})]})})]})}function zc(e){const t=Ct(()=>gn(e)),{isStatic:n}=(0,i.useContext)(Dt);if(n){const[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}function Hc(e,t,n){const r=e.get();let i,s=null,a=r;const o="string"===typeof r?r.replace(/[\d.-]/g,""):void 0,l=()=>{s&&(s.stop(),s=null)},c=()=>{l(),s=new pi(h(h({keyframes:[Wc(e.get()),Wc(a)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},n),{},{onUpdate:i}))};let u;return e.attach((t,n)=>(a=t,i=e=>n(qc(e,o)),Zt.postRender(c),e.get()),l),En(t)&&(u=t.on("change",t=>e.set(qc(t,o))),e.on("destroy",u)),u}function qc(e,t){return t?e+t:e}function Wc(e){return"number"===typeof e?e:parseFloat(e)}function Kc(e,t){const n=zc(t()),r=()=>n.set(t());return r(),Nt(()=>{const t=()=>Zt.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),en(r)}}),n}function Gc(e,t,n,r){if("function"===typeof e)return function(e){pn.current=[],e();const t=Kc(pn.current,e);return pn.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=si(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?Qc(e,i):Qc([e],e=>{let[t]=e;return i(t)})}function Qc(e,t){const n=Ct(()=>[]);return Kc(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}function Yc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isStatic:n}=(0,i.useContext)(Dt),r=()=>En(e)?e.get():e;if(n)return Gc(r);const s=zc(r());return(0,i.useInsertionEffect)(()=>Hc(s,e,t),[s,JSON.stringify(t)]),s}var Xc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$c=i.createContext&&i.createContext(Xc),Jc=["attr","size","title"];function Zc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(this,arguments)}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){ru(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ru(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e){return e&&e.map((e,t)=>i.createElement(e.tag,nu({key:t},e.attr),iu(e.child)))}function su(e){return t=>i.createElement(au,eu({attr:nu({},e.attr)},t),iu(e.child))}function au(e){var t=t=>{var n,{attr:r,size:s,title:a}=e,o=Zc(e,Jc),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",eu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:nu(nu({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==$c?i.createElement($c.Consumer,null,e=>t(e)):t(Xc)}function ou(e){return su({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function lu(e){return su({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}const cu=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},uu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cu(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new hu;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const du=function(e){return function(e){const t=cu(e);return uu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},fu=function(e){try{return uu.decodeString(e,!0)}catch(VI){console.error("base64Decode failed: ",VI)}return null};function pu(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const mu=()=>{try{return pu().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/gif,application/pdf",REACT_APP_FIREBASE_API_KEY:"AIzaSyDFSp_865Qrz9SJvCgkoBgtoPfaGNN6yt0",REACT_APP_FIREBASE_APP_ID:"1:583846360711:web:7ebfcc4579e45f7fc1ea22",REACT_APP_FIREBASE_AUTH_DOMAIN:"client-support-realtime-e2b8e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-LHKSBEWL4S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"583846360711",REACT_APP_FIREBASE_PROJECT_ID:"client-support-realtime-e2b8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"client-support-realtime-e2b8e.appspot.com",REACT_APP_MAX_FILE_SIZE:"10485760",REACT_APP_SESSION_TIMEOUT:"1800000",REACT_APP_TYPING_TIMEOUT:"3000",REACT_APP_USE_FIREBASE_EMULATORS:"false"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(VI){return}const t=e&&fu(e[1]);return t&&JSON.parse(t)})()}catch(VI){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(VI))}},gu=e=>{var t,n;return null===(n=null===(t=mu())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},yu=e=>{const t=gu(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vu=()=>{var e;return null===(e=mu())||void 0===e?void 0:e.config},bu=e=>{var t;return null===(t=mu())||void 0===t?void 0:t["_".concat(e)]};class wu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Eu(e){return e.endsWith(".cloudworkstations.dev")}async function xu(e){return(await fetch(e,{credentials:"include"})).ok}function Su(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[du(JSON.stringify({alg:"none",type:"JWT"})),du(JSON.stringify(s)),""].join(".")}const _u={};let ku=!1;function Tu(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Eu(window.location.host)||_u[e]===t||_u[e]||ku)return;function n(e){return"__firebase__banner__".concat(e)}_u[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{ku=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Cu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Au(){var e;const t=null===(e=mu())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(VI){return!1}}function Nu(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Iu(){return!Au()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pu(){try{return"object"===typeof indexedDB}catch(VI){return!1}}function Ru(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class Du extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ju,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Du(n,s,t)}}const ju=/\{\$([^}]+)}/g;function Lu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Mu(n)&&Mu(s)){if(!Lu(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mu(e){return null!==e&&"object"===typeof e}function Fu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Uu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Vu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Bu{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zu),void 0===r.error&&(r.error=zu),void 0===r.complete&&(r.complete=zu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(VI){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(VI){"undefined"!==typeof console&&console.error&&console.error(VI)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zu(){}function Hu(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function qu(e){return e&&e._delegate?e._delegate:e}class Wu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ku="[DEFAULT]";class Gu{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new wu;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(VI){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(VI){if(r)return null;throw VI}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ku})}catch(VI){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(VI){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ku?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku;return this.component?this.component.multipleInstances?e:Ku:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yu=[];var Xu;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xu||(Xu={}));const $u={debug:Xu.DEBUG,verbose:Xu.VERBOSE,info:Xu.INFO,warn:Xu.WARN,error:Xu.ERROR,silent:Xu.SILENT},Ju=Xu.INFO,Zu={[Xu.DEBUG]:"log",[Xu.VERBOSE]:"log",[Xu.INFO]:"info",[Xu.WARN]:"warn",[Xu.ERROR]:"error"},eh=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Zu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class th{constructor(e){this.name=e,this._logLevel=Ju,this._logHandler=eh,this._userLogHandler=null,Yu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?$u[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xu.DEBUG,...t),this._logHandler(this,Xu.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xu.VERBOSE,...t),this._logHandler(this,Xu.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xu.INFO,...t),this._logHandler(this,Xu.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xu.WARN,...t),this._logHandler(this,Xu.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xu.ERROR,...t),this._logHandler(this,Xu.ERROR,...t)}}let nh,rh;const ih=new WeakMap,sh=new WeakMap,ah=new WeakMap,oh=new WeakMap,lh=new WeakMap;let ch={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return sh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ah.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dh(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function uh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rh||(rh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fh(this),n),dh(ih.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dh(e.apply(fh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(fh(this),t,...r);return ah.set(s,t.sort?t.sort():[t]),dh(s)}}function hh(e){return"function"===typeof e?uh(e):(e instanceof IDBTransaction&&function(e){if(sh.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});sh.set(e,t)}(e),t=e,(nh||(nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ch):e);var t}function dh(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(dh(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ih.set(t,e)}).catch(()=>{}),lh.set(t,e),t}(e);if(oh.has(e))return oh.get(e);const t=hh(e);return t!==e&&(oh.set(e,t),lh.set(t,e)),t}const fh=e=>lh.get(e);function ph(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=dh(a);return r&&a.addEventListener("upgradeneeded",e=>{r(dh(a.result),e.oldVersion,e.newVersion,dh(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const mh=["get","getKey","getAll","getAllKeys","count"],gh=["put","add","delete","clear"],yh=new Map;function vh(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(yh.get(t))return yh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=gh.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mh.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return yh.set(t,s),s}ch=(e=>h(h({},e),{},{get:(t,n,r)=>vh(t,n)||e.get(t,n,r),has:(t,n)=>!!vh(t,n)||e.has(t,n)}))(ch);class bh{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const wh="@firebase/app",Eh="0.13.1",xh=new th("@firebase/app"),Sh="@firebase/app-compat",_h="@firebase/analytics-compat",kh="@firebase/analytics",Th="@firebase/app-check-compat",Ch="@firebase/app-check",Ah="@firebase/auth",Nh="@firebase/auth-compat",Ih="@firebase/database",Ph="@firebase/data-connect",Rh="@firebase/database-compat",Dh="@firebase/functions",Oh="@firebase/functions-compat",jh="@firebase/installations",Lh="@firebase/installations-compat",Mh="@firebase/messaging",Fh="@firebase/messaging-compat",Uh="@firebase/performance",Vh="@firebase/performance-compat",Bh="@firebase/remote-config",zh="@firebase/remote-config-compat",Hh="@firebase/storage",qh="@firebase/storage-compat",Wh="@firebase/firestore",Kh="@firebase/ai",Gh="@firebase/firestore-compat",Qh="firebase",Yh="[DEFAULT]",Xh={[wh]:"fire-core",[Sh]:"fire-core-compat",[kh]:"fire-analytics",[_h]:"fire-analytics-compat",[Ch]:"fire-app-check",[Th]:"fire-app-check-compat",[Ah]:"fire-auth",[Nh]:"fire-auth-compat",[Ih]:"fire-rtdb",[Ph]:"fire-data-connect",[Rh]:"fire-rtdb-compat",[Dh]:"fire-fn",[Oh]:"fire-fn-compat",[jh]:"fire-iid",[Lh]:"fire-iid-compat",[Mh]:"fire-fcm",[Fh]:"fire-fcm-compat",[Uh]:"fire-perf",[Vh]:"fire-perf-compat",[Bh]:"fire-rc",[zh]:"fire-rc-compat",[Hh]:"fire-gcs",[qh]:"fire-gcs-compat",[Wh]:"fire-fst",[Gh]:"fire-fst-compat",[Kh]:"fire-vertex","fire-js":"fire-js",[Qh]:"fire-js-all"},$h=new Map,Jh=new Map,Zh=new Map;function ed(e,t){try{e.container.addComponent(t)}catch(VI){xh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),VI)}}function td(e){const t=e.name;if(Zh.has(t))return xh.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zh.set(t,e);for(const n of $h.values())ed(n,e);for(const n of Jh.values())ed(n,e);return!0}function nd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rd(e){return null!==e&&void 0!==e&&void 0!==e.settings}const id=new Ou("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sd{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw id.create("app-deleted",{appName:this._name})}}const ad="11.9.0";function od(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Yh,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw id.create("bad-app-name",{appName:String(i)});if(n||(n=vu()),!n)throw id.create("no-options");const s=$h.get(i);if(s){if(Lu(n,s.options)&&Lu(r,s.config))return s;throw id.create("duplicate-app",{appName:i})}const a=new Qu(i);for(const l of Zh.values())a.addComponent(l);const o=new sd(n,r,a);return $h.set(i,o),o}function ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yh;const t=$h.get(e);if(!t&&e===Yh&&vu())return od();if(!t)throw id.create("no-app",{appName:e});return t}function cd(e,t,n){var r;let i=null!==(r=Xh[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xh.warn(e.join(" "))}td(new Wu("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ud="firebase-heartbeat-store";let hd=null;function dd(){return hd||(hd=ph("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ud)}catch(VI){console.warn(VI)}}}).catch(e=>{throw id.create("idb-open",{originalErrorMessage:e.message})})),hd}async function fd(e,t){try{const n=(await dd()).transaction(ud,"readwrite"),r=n.objectStore(ud);await r.put(t,pd(e)),await n.done}catch(VI){if(VI instanceof Du)xh.warn(VI.message);else{const t=id.create("idb-set",{originalErrorMessage:null===VI||void 0===VI?void 0:VI.message});xh.warn(t.message)}}}function pd(e){return"".concat(e.name,"!").concat(e.options.appId)}class md{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yd(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gd();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(VI){xh.warn(VI)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gd(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),vd(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=du(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(VI){return xh.warn(VI),""}}}function gd(){return(new Date).toISOString().substring(0,10)}class yd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Pu()&&Ru().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await dd()).transaction(ud),n=await t.objectStore(ud).get(pd(e));return await t.done,n}catch(VI){if(VI instanceof Du)xh.warn(VI.message);else{const t=id.create("idb-get",{originalErrorMessage:null===VI||void 0===VI?void 0:VI.message});xh.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fd(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vd(e){return du(JSON.stringify({version:2,heartbeats:e})).length}var bd;bd="",td(new Wu("platform-logger",e=>new bh(e),"PRIVATE")),td(new Wu("heartbeat",e=>new md(e),"PRIVATE")),cd(wh,Eh,bd),cd(wh,Eh,"esm2017"),cd("fire-js","");function wd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ed(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xd=Ed,Sd=new Ou("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_d=new th("@firebase/auth");function kd(e){if(_d.logLevel<=Xu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_d.error("Auth (".concat(ad,"): ").concat(e),...n)}}function Td(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Id(e,...n)}function Cd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Id(e,...n)}function Ad(e,t,n){const r=Object.assign(Object.assign({},xd()),{[t]:n});return new Ou("auth","Firebase",r).create(t,{appName:e.name})}function Nd(e){return Ad(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Id(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Sd.create(e,...n)}function Pd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Id(t,...r)}}function Rd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kd(t),new Error(t)}function Dd(e,t){e||Rd(t)}function Od(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jd(){return"http:"===Ld()||"https:"===Ld()}function Ld(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Md{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dd(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cu())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jd()||Nu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Fd(e,t){Dd(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ud{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Rd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Rd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Rd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bd=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zd=new Md(3e4,6e4);function Hd(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qd(e,t,n,r){return Wd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Fu(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Eu(e.emulatorConfig.host)&&(l.credentials="include"),Ud.fetch()(await Gd(e,e.config.apiHost,n,a),l)})}async function Wd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vd),t);try{const t=new Yd(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Xd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Xd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Xd(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ad(e,o,a);Td(e,o)}}catch(VI){if(VI instanceof Du)throw VI;Td(e,"network-request-failed",{message:String(VI)})}}async function Kd(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await qd(e,t,n,r,i);return"mfaPendingCredential"in s&&Td(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Gd(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,a=s.config.emulator?Fd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Bd.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function Qd(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yd{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Cd(this.auth,"network-request-failed")),zd.get())})}}function Xd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cd(e,t,r);return i.customData._tokenResponse=n,i}function $d(e){return void 0!==e&&void 0!==e.enterprise}class Jd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qd(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zd(e,t){return qd(e,"GET","/v2/recaptchaConfig",Hd(e,t))}async function ef(e,t){return qd(e,"POST","/v1/accounts:lookup",t)}function tf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(VI){}}function nf(e){return 1e3*Number(e)}function rf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const e=fu(n);return e?JSON.parse(e):(kd("Failed to decode base64 JWT payload"),null)}catch(VI){return kd("Caught error parsing JWT payload as JSON",null===VI||void 0===VI?void 0:VI.toString()),null}}function sf(e){const t=rf(e);return Pd(t,"internal-error"),Pd("undefined"!==typeof t.exp,"internal-error"),Pd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function af(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(VI){throw VI instanceof Du&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(VI)&&e.auth.currentUser===e&&await e.auth.signOut(),VI}}class of{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(VI){return void((null===VI||void 0===VI?void 0:VI.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class lf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tf(this.lastLoginAt),this.creationTime=tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await af(e,ef(n,{idToken:r}));Pd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?uf(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new lf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function uf(e){return e.map(e=>{var{providerId:t}=e,n=wd(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class hf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pd(e.idToken,"internal-error"),Pd("undefined"!==typeof e.idToken,"internal-error"),Pd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):sf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pd(0!==e.length,"internal-error");const t=sf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Pd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Wd(e,{},async()=>{const n=Fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Gd(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Eu(e.emulatorConfig.host)&&(o.credentials="include"),Ud.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new hf;return n&&(Pd("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Pd("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Pd("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hf,this.toJSON())}_performRefresh(){return Rd("not implemented")}}function df(e,t){Pd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ff{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new of(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await af(this,this.stsTokenManager.getToken(this.auth,e));return Pd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qu(e),r=await n.getIdToken(t),i=rf(r);Pd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tf(nf(i.auth_time)),issuedAtTime:tf(nf(i.iat)),expirationTime:tf(nf(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qu(e);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ff(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rd(this.auth.app))return Promise.reject(Nd(this.auth));const e=await this.getIdToken();return await af(this,async function(e,t){return qd(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:x}=t;Pd(v&&x,e,"internal-error");const S=hf.fromJSON(this.name,x);Pd("string"===typeof v,e,"internal-error"),df(u,e.name),df(h,e.name),Pd("boolean"===typeof b,e,"internal-error"),Pd("boolean"===typeof w,e,"internal-error"),df(d,e.name),df(f,e.name),df(p,e.name),df(m,e.name),df(g,e.name),df(y,e.name);const _=new ff({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(_.providerData=E.map(e=>Object.assign({},e))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hf;r.updateFromServerResponse(t);const i=new ff({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Pd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?uf(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new hf;a.updateFromIdToken(n);const o=new ff({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new lf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const pf=new Map;function mf(e){Dd(e instanceof Function,"Expected a class definition");let t=pf.get(e);return t?(Dd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pf.set(e,t),t)}class gf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gf.type="NONE";const yf=gf;function vf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class bf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=vf(this.userKey,r.apiKey,i),this.fullPersistenceKey=vf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ef(this.auth,{idToken:e}).catch(()=>{});return t?ff._fromGetAccountInfoResponse(this.auth,t,e):null}return ff._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new bf(mf(yf),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||mf(yf);const s=vf(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await ef(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ff._fromGetAccountInfoResponse(e,r,t)}else n=ff._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new bf(i,e,n)):new bf(i,e,n)}}function wf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_f(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ef(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Tf(t))return"Blackberry";if(Cf(t))return"Webos";if(xf(t))return"Safari";if((t.includes("chrome/")||Sf(t))&&!t.includes("edge/"))return"Chrome";if(kf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ef(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/firefox\//i.test(e)}function xf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/crios\//i.test(e)}function _f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/iemobile/i.test(e)}function kf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/android/i.test(e)}function Tf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/blackberry/i.test(e)}function Cf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/webos/i.test(e)}function Af(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nf(){return function(){const e=Cu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function If(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu();return Af(e)||kf(e)||Cf(e)||Tf(e)||/windows phone/i.test(e)||_f(e)}function Pf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wf(Cu());break;case"Worker":t="".concat(wf(Cu()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ad,"/").concat(r)}class Rf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(VI){r(VI)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(VI){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===VI||void 0===VI?void 0:VI.message})}}}class Df{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Of{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lf(this),this.idTokenSubscription=new Lf(this),this.beforeStateQueue=new Rf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mf(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await bf.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(VI){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ef(this,{idToken:e}),n=await ff._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rd(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(VI){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(VI))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(VI){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(VI){if((null===VI||void 0===VI?void 0:VI.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rd(this.app))return Promise.reject(Nd(this));const t=e?qu(e):null;return t&&Pd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Pd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rd(this.app)?Promise.reject(Nd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rd(this.app)?Promise.reject(Nd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mf(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return qd(e,"GET","/v2/passwordPolicy",Hd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Df(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return qd(e,"POST","/v2/accounts:revokeToken",Hd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mf(e)||this._popupRedirectResolver;Pd(t,this,"argument-error"),this.redirectPersistenceManager=await bf.create(this,[mf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pd(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(rd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(_d.logLevel<=Xu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_d.warn("Auth (".concat(ad,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function jf(e){return qu(e)}class Lf{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Bu(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Pd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ff(e){return Mf.loadJS(e)}function Uf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Vf{constructor(){this.enterprise=new Bf}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bf{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zf="NO_RECAPTCHA";class Hf{constructor(e){this.type="recaptcha-enterprise",this.auth=jf(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$d(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(zf)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Vf).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Zd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Jd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&$d(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ff(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function qf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Hf(e);let a;if(i)a=zf;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Wf(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await qf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await qf(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await qf(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await qf(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Kf(e){const t=jf(e),n=await Zd(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Jd(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Hf(t).verify()}}function Gf(e,t,n){const r=jf(e);Pd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Qf(t),{host:a,port:o}=function(e){const t=Qf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yf(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yf(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Pd(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Pd(Lu(c,r.config.emulator)&&Lu(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Eu(a)?(xu("".concat(s,"//").concat(a).concat(l)),Tu("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rd("not implemented")}_getIdTokenResponse(e){return Rd("not implemented")}_linkToIdToken(e,t){return Rd("not implemented")}_getReauthenticationResolver(e){return Rd("not implemented")}}async function $f(e,t){return qd(e,"POST","/v1/accounts:signUp",t)}async function Jf(e,t){return Kd(e,"POST","/v1/accounts:signInWithPassword",Hd(e,t))}class Zf extends Xf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zf(e,t,"password")}static _fromEmailAndCode(e,t){return new Zf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Wf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kd(e,"POST","/v1/accounts:signInWithEmailLink",Hd(e,t))}(e,{email:this._email,oobCode:this._password});default:Td(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Wf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$f,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Kd(e,"POST","/v1/accounts:signInWithEmailLink",Hd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Td(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ep(e,t){return Kd(e,"POST","/v1/accounts:signInWithIdp",Hd(e,t))}class tp extends Xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Td("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=wd(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new tp(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ep(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ep(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ep(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}async function np(e,t){return qd(e,"POST","/v1/accounts:sendVerificationCode",Hd(e,t))}const rp={USER_NOT_FOUND:"user-not-found"};class ip extends Xf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ip({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ip({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kd(e,"POST","/v1/accounts:signInWithPhoneNumber",Hd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kd(e,"POST","/v1/accounts:signInWithPhoneNumber",Hd(e,t));if(n.temporaryProof)throw Xd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kd(e,"POST","/v1/accounts:signInWithPhoneNumber",Hd(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),rp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ip({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sp{constructor(e){var t,n,r,i,s,a;const o=Uu(Vu(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Pd(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Uu(Vu(e)).link,n=t?Uu(Vu(t)).deep_link_id:null,r=Uu(Vu(e)).deep_link_id;return(r?Uu(Vu(r)).link:null)||r||n||t||e}(e);try{return new sp(t)}catch(n){return null}}}class ap{constructor(){this.providerId=ap.PROVIDER_ID}static credential(e,t){return Zf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sp.parseLink(t);return Pd(n,"argument-error"),Zf._fromEmailAndCode(e,n.code,n.tenantId)}}ap.PROVIDER_ID="password",ap.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ap.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lp extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cp extends lp{constructor(){super("facebook.com")}static credential(e){return tp._fromParams({providerId:cp.PROVIDER_ID,signInMethod:cp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cp.credentialFromTaggedObject(e)}static credentialFromError(e){return cp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cp.credential(t.oauthAccessToken)}catch(n){return null}}}cp.FACEBOOK_SIGN_IN_METHOD="facebook.com",cp.PROVIDER_ID="facebook.com";class up extends lp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tp._fromParams({providerId:up.PROVIDER_ID,signInMethod:up.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return up.credentialFromTaggedObject(e)}static credentialFromError(e){return up.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return up.credential(n,r)}catch(i){return null}}}up.GOOGLE_SIGN_IN_METHOD="google.com",up.PROVIDER_ID="google.com";class hp extends lp{constructor(){super("github.com")}static credential(e){return tp._fromParams({providerId:hp.PROVIDER_ID,signInMethod:hp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hp.credentialFromTaggedObject(e)}static credentialFromError(e){return hp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hp.credential(t.oauthAccessToken)}catch(n){return null}}}hp.GITHUB_SIGN_IN_METHOD="github.com",hp.PROVIDER_ID="github.com";class dp extends lp{constructor(){super("twitter.com")}static credential(e,t){return tp._fromParams({providerId:dp.PROVIDER_ID,signInMethod:dp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dp.credentialFromTaggedObject(e)}static credentialFromError(e){return dp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dp.credential(n,r)}catch(i){return null}}}async function fp(e,t){return Kd(e,"POST","/v1/accounts:signUp",Hd(e,t))}dp.TWITTER_SIGN_IN_METHOD="twitter.com",dp.PROVIDER_ID="twitter.com";class pp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ff._fromIdTokenResponse(e,n,r),s=mp(n);return new pp({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mp(n);return new pp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gp extends Du{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new gp(e,t,n,r)}}function yp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw gp._fromErrorAndOperation(e,n,t,r);throw n})}async function vp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await af(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pp._forOperation(e,"link",r)}async function bp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(rd(r.app))return Promise.reject(Nd(r));const i="reauthenticate";try{const s=await af(e,yp(r,i,t,e),n);Pd(s.idToken,r,"internal-error");const a=rf(s.idToken);Pd(a,r,"internal-error");const{sub:o}=a;return Pd(e.uid===o,r,"user-mismatch"),pp._forOperation(e,i,s)}catch(VI){throw(null===VI||void 0===VI?void 0:VI.code)==="auth/".concat("user-not-found")&&Td(r,"user-mismatch"),VI}}async function wp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(rd(e.app))return Promise.reject(Nd(e));const r="signIn",i=await yp(e,r,t),s=await pp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ep(e,t){return wp(jf(e),t)}async function xp(e){const t=jf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Sp(e){return qu(e).signOut()}function _p(e,t){return qd(e,"POST","/v2/accounts/mfaEnrollment:start",Hd(e,t))}new WeakMap;const kp="__sak";class Tp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Cp extends Tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=If(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Nf()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cp.type="LOCAL";const Ap=Cp;function Np(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Ip(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Pp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ip(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Np(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ip(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ip(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Np(n);const i=setInterval(()=>{const e=Np(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Pp.type="COOKIE";class Rp extends Tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rp.type="SESSION";const Dp=Rp;class Op{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Op(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Op.receivers=[];class Lp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=jp("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Mp(){return window}function Fp(){return"undefined"!==typeof Mp().WorkerGlobalScope&&"function"===typeof Mp().importScripts}const Up="firebaseLocalStorageDb",Vp="firebaseLocalStorage",Bp="fbase_key";class zp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hp(e,t){return e.transaction([Vp],t?"readwrite":"readonly").objectStore(Vp)}function qp(){const e=indexedDB.open(Up,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Vp,{keyPath:Bp})}catch(VI){n(VI)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Vp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Up);return new zp(e).toPromise()}(),t(await qp()))})})}async function Wp(e,t,n){const r=Hp(e,!0).put({[Bp]:t,value:n});return new zp(r).toPromise()}function Kp(e,t){const n=Hp(e,!0).delete(t);return new zp(n).toPromise()}class Gp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await qp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(VI){if(t++>3)throw VI;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Op._getInstance(Fp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Lp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await Wp(e,kp,"1"),await Kp(e,kp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Hp(e,!1).get(t),r=await new zp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Hp(e,!1).getAll();return new zp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gp.type="LOCAL";const Qp=Gp;function Yp(e,t){return qd(e,"POST","/v2/accounts/mfaSignIn:start",Hd(e,t))}Uf("rcb"),new Md(3e4,6e4);const Xp="recaptcha";async function $p(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Kf(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Pd("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Wf(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zf){Pd((null===n||void 0===n?void 0:n.type)===Xp,e,"argument-error");return _p(e,await Jp(e,t,n))}return _p(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Pd("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Pd(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Wf(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zf){Pd((null===n||void 0===n?void 0:n.type)===Xp,e,"argument-error");return Yp(e,await Jp(e,t,n))}return Yp(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Wf(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===zf){Pd((null===n||void 0===n?void 0:n.type)===Xp,e,"argument-error");return np(e,await Jp(e,t,n))}return np(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Jp(e,t,n){Pd(n.type===Xp,e,"argument-error");const r=await n.verify();Pd("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Zp{constructor(e){this.providerId=Zp.PROVIDER_ID,this.auth=jf(e)}verifyPhoneNumber(e,t){return $p(this.auth,e,qu(t))}static credential(e,t){return ip._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zp.credentialFromTaggedObject(t)}static credentialFromError(e){return Zp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ip._fromTokenResponse(n,r):null}}function em(e,t){return t?mf(t):(Pd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zp.PROVIDER_ID="phone",Zp.PHONE_SIGN_IN_METHOD="phone";class tm extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ep(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ep(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ep(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nm(e){return wp(e.auth,new tm(e),e.bypassAuthState)}function rm(e){const{auth:t,user:n}=e;return Pd(n,t,"internal-error"),bp(n,new tm(e),e.bypassAuthState)}async function im(e){const{auth:t,user:n}=e;return Pd(n,t,"internal-error"),vp(n,new tm(e),e.bypassAuthState)}class sm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(VI){this.reject(VI)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(VI){this.reject(VI)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nm;case"linkViaPopup":case"linkViaRedirect":return im;case"reauthViaPopup":case"reauthViaRedirect":return rm;default:Td(this.auth,"internal-error")}}resolve(e){Dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const am=new Md(2e3,1e4);class om extends sm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,om.currentPopupAction&&om.currentPopupAction.cancel(),om.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pd(e,this.auth,"internal-error"),e}async onExecution(){Dd(1===this.filter.length,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Cd(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Cd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,om.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cd(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,am.get())};e()}}om.currentPopupAction=null;const lm=new Map;class cm extends sm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=lm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=dm(t),r=hm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(VI){e=()=>Promise.reject(VI)}lm.set(this.auth._key(),e)}return this.bypassAuthState||lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function um(e,t){lm.set(e._key(),t)}function hm(e){return mf(e._redirectPersistence)}function dm(e){return vf("pendingRedirect",e.config.apiKey,e.name)}async function fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(rd(e.app))return Promise.reject(Nd(e));const r=jf(e),i=em(r,t),s=new cm(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class pm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!gm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mm(e))}saveEventToCache(e){this.cachedEventUids.add(mm(e)),this.lastProcessedEventTime=Date.now()}}function mm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function gm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ym=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vm=/^https?/;async function bm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qd(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(wm(r))return}catch(n){}Td(e,"unauthorized-domain")}function wm(e){const t=Od(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vm.test(n))return!1;if(ym.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Em=new Md(3e4,6e4);function xm(){const e=Mp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Sm(e){return new Promise((t,n)=>{var r,i,s;function a(){xm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xm(),n(Cd(e,"network-request-failed"))},timeout:Em.get()})}if(null===(i=null===(r=Mp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Mp().gapi)||void 0===s?void 0:s.load)){const t=Uf("iframefcb");return Mp()[t]=()=>{gapi.load?a():n(Cd(e,"network-request-failed"))},Ff("".concat(Mf.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw _m=null,e})}let _m=null;const km=new Md(5e3,15e3),Tm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Am(e){const t=e.config;Pd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fd(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ad},i=Cm.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Fu(r).slice(1))}async function Nm(e){const t=await function(e){return _m=_m||Sm(e),_m}(e),n=Mp().gapi;return Pd(n,e,"internal-error"),t.open({where:document.body,url:Am(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tm,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Cd(e,"network-request-failed"),s=Mp().setTimeout(()=>{r(i)},km.get());function a(){Mp().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Im={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(VI){}}}function Rm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Im),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Cu().toLowerCase();n&&(o=Sf(c)?"_blank":n),Ef(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Af(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Pm(null);const h=window.open(t||"",o,u);Pd(h,e,"popup-blocked");try{h.focus()}catch(VI){}return new Pm(h)}const Dm="__/auth/handler",Om="emulator/auth/handler",jm=encodeURIComponent("fac");async function Lm(e,t,n,r,i,s){Pd(e.config.authDomain,e,"auth-domain-config-required"),Pd(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ad,eventId:i};if(t instanceof op){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof lp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(jm,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Dm);return Fd(t,Om)}(e),"?").concat(Fu(o).slice(1)).concat(c)}const Mm="webStorageSupport";const Fm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dp,this._completeRedirectFn=fm,this._overrideRedirectResult=um}async _openPopup(e,t,n,r){var i;Dd(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Rm(e,await Lm(e,t,n,Od(),r),jp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mp().location.href=e}(await Lm(e,t,n,Od(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Dd(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Nm(e),n=new pm(e);return t.register("authEvent",t=>{Pd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mm,{type:Mm},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Mm];void 0!==i&&t(!!i),Td(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return If()||xf()||Af()}};var Um="@firebase/auth",Vm="1.10.7";class Bm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zm=bu("authIdTokenMaxAge")||300;let Hm=null;var qm,Wm;qm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Cd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Mf=qm,Wm="Browser",td(new Wu("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Pd(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Wm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pf(Wm)},c=new Of(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),td(new Wu("auth-internal",e=>(e=>new Bm(e))(jf(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),cd(Um,Vm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wm)),cd(Um,Vm,"esm2017");var Km,Gm,Qm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ym={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Gm=Ym.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Km=Ym.Integer=r}).apply("undefined"!==typeof Qm?Qm:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Xm,$m,Jm,Zm,eg,tg,ng,rg,ig="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sg={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ig&&ig];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function _(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,A=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){S(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function R(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}h(j,D);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;E(t=new D(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}h(le,R);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function be(){D.call(this,"c")}h(ve,D),h(be,D);var we={},Ee=null;function xe(){return Ee=Ee||new ne}function Se(e){D.call(this,we.La,e)}function _e(e){const t=xe();re(t,new Se(t))}function ke(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=xe();re(t,new ke(t,e))}function Ce(e,t){D.call(this,we.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",h(Se,D),we.STAT_EVENT="statevent",h(ke,D),we.Ma="timingevent",h(Ce,D),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Pe=new Oe;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||_e(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var s=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==d&&(this.s=4,Te(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,Te(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(d){}},je.prototype.cancel=function(){this.J=!0,Ge(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(_e(),Te(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new Et(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){xt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return xt(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function At(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(VI){throw t.push(r+"type="+encodeURIComponent("_badmap")),VI}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){xt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,_t(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Ot(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Ft.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(VI){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new je(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),A||(C(),A=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),A||(C(),A=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(jt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,rg=sg.createWebChannelTransport=function(){return new mn},ng=sg.getStatEventTarget=function(){return xe()},tg=sg.Event=we,eg=sg.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Zm=sg.ErrorCode=Re,De.COMPLETE="complete",Jm=sg.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,$m=sg.WebChannel=ge,sg.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Xm=sg.XhrIo=Mt}).apply("undefined"!==typeof ig?ig:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ag="@firebase/firestore",og="4.7.17";class lg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lg.UNAUTHENTICATED=new lg(null),lg.GOOGLE_CREDENTIALS=new lg("google-credentials-uid"),lg.FIRST_PARTY=new lg("first-party-uid"),lg.MOCK_USER=new lg("mock-user");let cg="11.9.0";const ug=new th("@firebase/firestore");function hg(){return ug.logLevel}function dg(e){if(ug.logLevel<=Xu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mg);ug.debug("Firestore (".concat(cg,"): ").concat(e),...i)}}function fg(e){if(ug.logLevel<=Xu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mg);ug.error("Firestore (".concat(cg,"): ").concat(e),...i)}}function pg(e){if(ug.logLevel<=Xu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(mg);ug.warn("Firestore (".concat(cg,"): ").concat(e),...i)}}function mg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function gg(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,yg(e,r,n)}function yg(e,t,n){let r="FIRESTORE (".concat(cg,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw fg(r),new Error(r)}function vg(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||yg(t,i,r)}function bg(e,t){return e}const wg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Eg extends Du{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class xg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _g{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lg.UNAUTHENTICATED))}shutdown(){}}class kg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tg{constructor(e){this.t=e,this.currentUser=lg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vg(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new xg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xg,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{dg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(dg("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xg)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(dg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vg("string"==typeof t.accessToken,31837,{l:t}),new Sg(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vg(null===e||"string"==typeof e,2055,{h:e}),new lg(e)}}class Cg{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=lg.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ag{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Cg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(lg.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ng{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ig{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vg(void 0===this.o,3512);const n=e=>{null!=e.error&&dg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,dg("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{dg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):dg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ng(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(vg("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ng(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Rg(){return new TextEncoder}class Dg{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Pg(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Og(e,t){return e<t?-1:e>t?1:0}function jg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Og(r,i);{const s=Rg(),a=Mg(s.encode(Lg(e,n)),s.encode(Lg(t,n)));return 0!==a?a:Og(r,i)}}n+=r>65535?2:1}return Og(e.length,t.length)}function Lg(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Mg(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Og(e[n],t[n]);return Og(e.length,t.length)}function Fg(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ug=-62135596800,Vg=1e6;class Bg{static now(){return Bg.fromMillis(Date.now())}static fromDate(e){return Bg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Vg);return new Bg(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ug)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eg(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vg}_compareTo(e){return this.seconds===e.seconds?Og(this.nanoseconds,e.nanoseconds):Og(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ug;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zg{static fromTimestamp(e){return new zg(e)}static min(){return new zg(new Bg(0,0))}static max(){return new zg(new Bg(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hg="__name__";class qg{constructor(e,t,n){void 0===t?t=0:t>e.length&&gg(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&gg(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===qg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qg?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=qg.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Og(e.length,t.length)}static compareSegments(e,t){const n=qg.isNumericId(e),r=qg.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?qg.extractNumericId(e).compare(qg.extractNumericId(t)):jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Km.fromString(e.substring(4,e.length-2))}}class Wg extends qg{construct(e,t,n){return new Wg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Eg(wg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Wg(e)}static emptyPath(){return new Wg([])}}const Kg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gg extends qg{construct(e,t,n){return new Gg(e,t,n)}static isValidIdentifier(e){return Kg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gg.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Hg}static keyField(){return new Gg([Hg])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Eg(wg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Eg(wg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Eg(wg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gg(t)}static emptyPath(){return new Gg([])}}class Qg{constructor(e){this.path=e}static fromPath(e){return new Qg(Wg.fromString(e))}static fromName(e){return new Qg(Wg.fromString(e).popFirst(5))}static empty(){return new Qg(Wg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qg(new Wg(e.slice()))}}const Yg=-1;class Xg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Xg.UNKNOWN_ID=-1;function $g(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zg.fromTimestamp(1e9===r?new Bg(n+1,0):new Bg(n,r));return new Zg(i,Qg.empty(),t)}function Jg(e){return new Zg(e.readTime,e.key,Yg)}class Zg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Zg(zg.min(),Qg.empty(),Yg)}static max(){return new Zg(zg.max(),Qg.empty(),Yg)}}function ey(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Qg.comparator(e.documentKey,t.documentKey),0!==n?n:Og(e.largestBatchId,t.largestBatchId))}const ty="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ny{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ry(e){if(e.code!==wg.FAILED_PRECONDITION||e.message!==ty)throw e;dg("LocalStore","Unexpectedly lost primary lease")}class iy{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gg(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new iy((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof iy?t:iy.resolve(t)}catch(e){return iy.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):iy.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):iy.reject(t)}static resolve(e){return new iy((t,n)=>{t(e)})}static reject(e){return new iy((t,n)=>{n(e)})}static waitFor(e){return new iy((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=iy.resolve(!1);for(const n of e)t=t.next(e=>e?iy.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new iy((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new iy((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function sy(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ay(e){return"IndexedDbTransactionError"===e.name}class oy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}oy.le=-1;const ly=-1;function cy(e){return null==e}function uy(e){return 0===e&&1/e==-1/0}function hy(e){return"number"==typeof e&&Number.isInteger(e)&&!uy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const dy="\x01";function fy(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=my(t)),t=py(e.get(n),t);return my(t)}function py(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case dy:n+="\x01\x11";break;default:n+=t}}return n}function my(e){return e+dy+"\x01"}const gy="remoteDocuments",yy="owner",vy="mutationQueues",by="mutations";const wy="documentMutations",Ey="remoteDocumentsV14",xy="remoteDocumentGlobal",Sy="targets",_y="targetDocuments",ky="targetGlobal",Ty="collectionParents",Cy="clientMetadata",Ay="bundles",Ny="namedQueries",Iy="indexConfiguration",Py="indexState",Ry="indexEntries",Dy="documentOverlays",Oy="globals",jy=[vy,by,wy,gy,Sy,yy,ky,_y,Cy,xy,Ty,Ay,Ny],Ly=[vy,by,wy,Ey,Sy,yy,ky,_y,Cy,xy,Ty,Ay,Ny,Dy],My=Ly,Fy=[...My,Iy,Py,Ry];function Uy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function By(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zy{constructor(e,t){this.comparator=e,this.root=t||qy.EMPTY}insert(e,t){return new zy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qy.BLACK,null,null))}remove(e){return new zy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qy.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hy(this.root,e,this.comparator,!0)}}class Hy{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qy{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qy.RED,this.left=null!=r?r:qy.EMPTY,this.right=null!=i?i:qy.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new qy(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qy.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qy.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qy.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gg(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gg(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gg(27949);return e+(this.isRed()?0:1)}}qy.EMPTY=null,qy.RED=!0,qy.BLACK=!1,qy.EMPTY=new class{constructor(){this.size=0}get key(){throw gg(57766)}get value(){throw gg(16141)}get color(){throw gg(16727)}get left(){throw gg(29726)}get right(){throw gg(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new qy(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wy{constructor(e){this.comparator=e,this.data=new zy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Wy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wy(this.comparator);return t.data=e,t}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gy{constructor(e){this.fields=e,e.sort(Gg.comparator)}static empty(){return new Gy([])}unionWith(e){let t=new Wy(Gg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yy{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qy("Invalid base64 string: "+e):e}}(e);return new Yy(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Yy(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Og(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yy.EMPTY_BYTE_STRING=new Yy("");const Xy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $y(e){if(vg(!!e,39018),"string"==typeof e){let t=0;const n=Xy.exec(e);if(vg(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Jy(e.seconds),nanos:Jy(e.nanos)}}function Jy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zy(e){return"string"==typeof e?Yy.fromBase64String(e):Yy.fromUint8Array(e)}const ev="server_timestamp",tv="__type__",nv="__previous_value__",rv="__local_write_time__";function iv(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[tv])||void 0===n?void 0:n.stringValue)===ev}function sv(e){const t=e.mapValue.fields[nv];return iv(t)?sv(t):t}function av(e){const t=$y(e.mapValue.fields[rv].timestampValue);return new Bg(t.seconds,t.nanos)}class ov{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const lv="(default)";class cv{constructor(e,t){this.projectId=e,this.database=t||lv}static empty(){return new cv("","")}get isDefaultDatabase(){return this.database===lv}isEqual(e){return e instanceof cv&&e.projectId===this.projectId&&e.database===this.database}}const uv="__type__",hv="__max__",dv={mapValue:{fields:{__type__:{stringValue:hv}}}},fv="__vector__",pv="value";function mv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iv(e)?4:Rv(e)?9007199254740991:Iv(e)?10:11:gg(28295,{value:e})}function gv(e,t){if(e===t)return!0;const n=mv(e);if(n!==mv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return av(e).isEqual(av(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=$y(e.timestampValue),r=$y(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zy(e.bytesValue).isEqual(Zy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jy(e.geoPointValue.latitude)===Jy(t.geoPointValue.latitude)&&Jy(e.geoPointValue.longitude)===Jy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jy(e.integerValue)===Jy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Jy(e.doubleValue),r=Jy(t.doubleValue);return n===r?uy(n)===uy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fg(e.arrayValue.values||[],t.arrayValue.values||[],gv);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uy(n)!==Uy(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gv(n[i],r[i])))return!1;return!0}(e,t);default:return gg(52216,{left:e})}}function yv(e,t){return void 0!==(e.values||[]).find(e=>gv(e,t))}function vv(e,t){if(e===t)return 0;const n=mv(e),r=mv(t);if(n!==r)return Og(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Og(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Jy(e.integerValue||e.doubleValue),r=Jy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bv(e.timestampValue,t.timestampValue);case 4:return bv(av(e),av(t));case 5:return jg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Zy(e),r=Zy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Og(n[i],r[i]);if(0!==e)return e}return Og(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Og(Jy(e.latitude),Jy(t.latitude));return 0!==n?n:Og(Jy(e.longitude),Jy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return wv(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[pv])||void 0===n?void 0:n.arrayValue,c=null===(r=o[pv])||void 0===r?void 0:r.arrayValue,u=Og((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:wv(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===dv.mapValue&&t===dv.mapValue)return 0;if(e===dv.mapValue)return 1;if(t===dv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=jg(r[a],s[a]);if(0!==e)return e;const t=vv(n[r[a]],i[s[a]]);if(0!==t)return t}return Og(r.length,s.length)}(e.mapValue,t.mapValue);default:throw gg(23264,{Pe:n})}}function bv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Og(e,t);const n=$y(e),r=$y(t),i=Og(n.seconds,r.seconds);return 0!==i?i:Og(n.nanos,r.nanos)}function wv(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=vv(n[i],r[i]);if(e)return e}return Og(n.length,r.length)}function Ev(e){return xv(e)}function xv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=$y(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Zy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Qg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=xv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(xv(e.fields[i]));return n+"}"}(e.mapValue):gg(61005,{value:e})}function Sv(e){switch(mv(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sv(e);return t?16+Sv(t):16;case 5:return 2*e.stringValue.length;case 6:return Zy(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Sv(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Vy(e.fields,(e,n)=>{t+=e.length+Sv(n)}),t}(e.mapValue);default:throw gg(13486,{value:e})}}function _v(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kv(e){return!!e&&"integerValue"in e}function Tv(e){return!!e&&"arrayValue"in e}function Cv(e){return!!e&&"nullValue"in e}function Av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nv(e){return!!e&&"mapValue"in e}function Iv(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[uv])||void 0===n?void 0:n.stringValue)===fv}function Pv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vy(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Pv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rv(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===hv}class Dv{constructor(e){this.value=e}static empty(){return new Dv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Nv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pv(t)}setAll(e){let t=Gg.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pv(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Nv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vy(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Dv(Pv(this.value))}}function Ov(e){const t=[];return Vy(e.fields,(e,n)=>{const r=new Gg([e]);if(Nv(n)){const e=Ov(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Gy(t)}class jv{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new jv(e,0,zg.min(),zg.min(),zg.min(),Dv.empty(),0)}static newFoundDocument(e,t,n,r){return new jv(e,1,t,zg.min(),n,r,0)}static newNoDocument(e,t){return new jv(e,2,t,zg.min(),zg.min(),Dv.empty(),0)}static newUnknownDocument(e,t){return new jv(e,3,t,zg.min(),zg.min(),Dv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Lv{constructor(e,t){this.position=e,this.inclusive=t}}function Mv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Qg.comparator(Qg.fromName(a.referenceValue),n.key):vv(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Fv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gv(e.position[n],t.position[n]))return!1;return!0}class Uv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bv{}class zv extends Bv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Xv(e,t,n):"array-contains"===t?new eb(e,n):"in"===t?new tb(e,n):"not-in"===t?new nb(e,n):"array-contains-any"===t?new rb(e,n):new zv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new $v(e,n):new Jv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(vv(t,this.value)):null!==t&&mv(this.value)===mv(t)&&this.matchesComparison(vv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gg(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hv extends Bv{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Hv(e,t)}matches(e){return qv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qv(e){return"and"===e.op}function Wv(e){return Kv(e)&&qv(e)}function Kv(e){for(const t of e.filters)if(t instanceof Hv)return!1;return!0}function Gv(e){if(e instanceof zv)return e.field.canonicalString()+e.op.toString()+Ev(e.value);if(Wv(e))return e.filters.map(e=>Gv(e)).join(",");{const t=e.filters.map(e=>Gv(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Qv(e,t){return e instanceof zv?function(e,t){return t instanceof zv&&e.op===t.op&&e.field.isEqual(t.field)&&gv(e.value,t.value)}(e,t):e instanceof Hv?function(e,t){return t instanceof Hv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Qv(n,t.filters[r]),!0)}(e,t):void gg(19439)}function Yv(e){return e instanceof zv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ev(e.value))}(e):e instanceof Hv?function(e){return e.op.toString()+" {"+e.getFilters().map(Yv).join(" ,")+"}"}(e):"Filter"}class Xv extends zv{constructor(e,t,n){super(e,t,n),this.key=Qg.fromName(n.referenceValue)}matches(e){const t=Qg.comparator(e.key,this.key);return this.matchesComparison(t)}}class $v extends zv{constructor(e,t){super(e,"in",t),this.keys=Zv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Jv extends zv{constructor(e,t){super(e,"not-in",t),this.keys=Zv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Qg.fromName(e.referenceValue))}class eb extends zv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tv(t)&&yv(t.arrayValue,this.value)}}class tb extends zv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yv(this.value.arrayValue,t)}}class nb extends zv{constructor(e,t){super(e,"not-in",t)}matches(e){if(yv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!yv(this.value.arrayValue,t)}}class rb extends zv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>yv(this.value.arrayValue,e))}}class ib{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Ie=null}}function sb(e){return new ib(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ab(e){const t=bg(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Gv(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),cy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ev(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ev(e)).join(",")),t.Ie=e}return t.Ie}function ob(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Qv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fv(e.startAt,t.startAt)&&Fv(e.endAt,t.endAt)}function lb(e){return Qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ub(e,t,n,r,i,s,a,o){return new cb(e,t,n,r,i,s,a,o)}function hb(e){return new cb(e)}function db(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fb(e){return null!==e.collectionGroup}function pb(e){const t=bg(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Wy(Gg.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Uv(r,n))}),e.has(Gg.keyField().canonicalString())||t.Ee.push(new Uv(Gg.keyField(),n))}return t.Ee}function mb(e){const t=bg(e);return t.de||(t.de=gb(t,pb(e))),t.de}function gb(e,t){if("F"===e.limitType)return sb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Uv(e.field,t)});const n=e.endAt?new Lv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Lv(e.startAt.position,e.startAt.inclusive):null;return sb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function yb(e,t){const n=e.filters.concat([t]);return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vb(e,t,n){return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bb(e,t){return ob(mb(e),mb(t))&&e.limitType===t.limitType}function wb(e){return"".concat(ab(mb(e)),"|lt:").concat(e.limitType)}function Eb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Yv(e)).join(", "),"]")),cy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ev(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ev(e)).join(",")),"Target(".concat(t,")")}(mb(e)),"; limitType=").concat(e.limitType,")")}function xb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of pb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Mv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Mv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pb(e),t))}(e,t)}function Sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _b(e){return(t,n)=>{let r=!1;for(const i of pb(e)){const e=kb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kb(e,t,n){const r=e.field.isKeyField()?Qg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vv(r,i):gg(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gg(19790,{direction:e.dir})}}class Tb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vy(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return By(this.inner)}size(){return this.innerSize}}const Cb=new zy(Qg.comparator);function Ab(){return Cb}const Nb=new zy(Qg.comparator);function Ib(){let e=Nb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Pb(e){let t=Nb;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Rb(){return Ob()}function Db(){return Ob()}function Ob(){return new Tb(e=>e.toString(),(e,t)=>e.isEqual(t))}const jb=new zy(Qg.comparator),Lb=new Wy(Qg.comparator);function Mb(){let e=Lb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fb=new Wy(Og);function Ub(){return Fb}function Vb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uy(t)?"-0":t}}function Bb(e){return{integerValue:""+e}}function zb(e,t){return hy(t)?Bb(t):Vb(e,t)}class Hb{constructor(){this._=void 0}}function qb(e,t,n){return e instanceof Gb?function(e,t){const n={fields:{[tv]:{stringValue:ev},[rv]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&iv(t)&&(t=sv(t)),t&&(n.fields[nv]=t),{mapValue:n}}(n,t):e instanceof Qb?Yb(e,t):e instanceof Xb?$b(e,t):function(e,t){const n=Kb(e,t),r=Zb(n)+Zb(e.Re);return kv(n)&&kv(e.Re)?Bb(r):Vb(e.serializer,r)}(e,t)}function Wb(e,t,n){return e instanceof Qb?Yb(e,t):e instanceof Xb?$b(e,t):n}function Kb(e,t){return e instanceof Jb?function(e){return kv(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Gb extends Hb{}class Qb extends Hb{constructor(e){super(),this.elements=e}}function Yb(e,t){const n=ew(t);for(const r of e.elements)n.some(e=>gv(e,r))||n.push(r);return{arrayValue:{values:n}}}class Xb extends Hb{constructor(e){super(),this.elements=e}}function $b(e,t){let n=ew(t);for(const r of e.elements)n=n.filter(e=>!gv(e,r));return{arrayValue:{values:n}}}class Jb extends Hb{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Zb(e){return Jy(e.integerValue||e.doubleValue)}function ew(e){return Tv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class tw{constructor(e,t){this.field=e,this.transform=t}}class nw{constructor(e,t){this.version=e,this.transformResults=t}}class rw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rw}static exists(e){return new rw(void 0,e)}static updateTime(e){return new rw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class sw{}function aw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gw(e.key,rw.none()):new hw(e.key,e.data,rw.none());{const n=e.data,r=Dv.empty();let i=new Wy(Gg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new dw(e.key,r,new Gy(i.toArray()),rw.none())}}function ow(e,t,n){e instanceof hw?function(e,t,n){const r=e.value.clone(),i=pw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dw?function(e,t,n){if(!iw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lw(e,t,n,r){return e instanceof hw?function(e,t,n,r){if(!iw(e.precondition,t))return n;const i=e.value.clone(),s=mw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dw?function(e,t,n,r){if(!iw(e.precondition,t))return n;const i=mw(e.fieldTransforms,r,t),s=t.data;return s.setAll(fw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return iw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Kb(r.transform,e||null);null!=i&&(null===n&&(n=Dv.empty()),n.set(r.field,i))}return n||null}function uw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fg(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qb&&t instanceof Qb||e instanceof Xb&&t instanceof Xb?Fg(e.elements,t.elements,gv):e instanceof Jb&&t instanceof Jb?gv(e.Re,t.Re):e instanceof Gb&&t instanceof Gb}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hw extends sw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dw extends sw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function pw(e,t,n){const r=new Map;vg(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Wb(a,o,n[i]))}return r}function mw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,qb(e,s,t))}return r}class gw extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yw extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ow(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Db();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=aw(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(zg.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mb())}isEqual(e){return this.batchId===e.batchId&&Fg(this.mutations,e.mutations,(e,t)=>uw(e,t))&&Fg(this.baseMutations,e.baseMutations,(e,t)=>uw(e,t))}}class bw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vg(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=jb;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new bw(e,t,n,r)}}class ww{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ew{constructor(e,t){this.count=e,this.unchangedNames=t}}var xw,Sw;function _w(e){switch(e){case wg.OK:return gg(64938);case wg.CANCELLED:case wg.UNKNOWN:case wg.DEADLINE_EXCEEDED:case wg.RESOURCE_EXHAUSTED:case wg.INTERNAL:case wg.UNAVAILABLE:case wg.UNAUTHENTICATED:return!1;case wg.INVALID_ARGUMENT:case wg.NOT_FOUND:case wg.ALREADY_EXISTS:case wg.PERMISSION_DENIED:case wg.FAILED_PRECONDITION:case wg.ABORTED:case wg.OUT_OF_RANGE:case wg.UNIMPLEMENTED:case wg.DATA_LOSS:return!0;default:return gg(15467,{code:e})}}function kw(e){if(void 0===e)return fg("GRPC error has no .code"),wg.UNKNOWN;switch(e){case xw.OK:return wg.OK;case xw.CANCELLED:return wg.CANCELLED;case xw.UNKNOWN:return wg.UNKNOWN;case xw.DEADLINE_EXCEEDED:return wg.DEADLINE_EXCEEDED;case xw.RESOURCE_EXHAUSTED:return wg.RESOURCE_EXHAUSTED;case xw.INTERNAL:return wg.INTERNAL;case xw.UNAVAILABLE:return wg.UNAVAILABLE;case xw.UNAUTHENTICATED:return wg.UNAUTHENTICATED;case xw.INVALID_ARGUMENT:return wg.INVALID_ARGUMENT;case xw.NOT_FOUND:return wg.NOT_FOUND;case xw.ALREADY_EXISTS:return wg.ALREADY_EXISTS;case xw.PERMISSION_DENIED:return wg.PERMISSION_DENIED;case xw.FAILED_PRECONDITION:return wg.FAILED_PRECONDITION;case xw.ABORTED:return wg.ABORTED;case xw.OUT_OF_RANGE:return wg.OUT_OF_RANGE;case xw.UNIMPLEMENTED:return wg.UNIMPLEMENTED;case xw.DATA_LOSS:return wg.DATA_LOSS;default:return gg(39323,{code:e})}}(Sw=xw||(xw={}))[Sw.OK=0]="OK",Sw[Sw.CANCELLED=1]="CANCELLED",Sw[Sw.UNKNOWN=2]="UNKNOWN",Sw[Sw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sw[Sw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sw[Sw.NOT_FOUND=5]="NOT_FOUND",Sw[Sw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sw[Sw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sw[Sw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sw[Sw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sw[Sw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sw[Sw.ABORTED=10]="ABORTED",Sw[Sw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sw[Sw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sw[Sw.INTERNAL=13]="INTERNAL",Sw[Sw.UNAVAILABLE=14]="UNAVAILABLE",Sw[Sw.DATA_LOSS=15]="DATA_LOSS";let Tw=null;const Cw=new Km([4294967295,4294967295],0);function Aw(e){const t=Rg().encode(e),n=new Gm;return n.update(t),new Uint8Array(n.digest())}function Nw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Km([n,r],0),new Km([i,s],0)]}class Iw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pw("Invalid padding: ".concat(t));if(n<0)throw new Pw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Pw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Pw("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Km.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Km.fromNumber(n)));return 1===r.compare(Cw)&&(r=new Km([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Aw(e),[n,r]=Nw(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Iw(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.pe)return;const t=Aw(e),[n,r]=Nw(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Dw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Rw(zg.min(),r,new zy(Og),Ab(),Mb())}}class Dw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Dw(n,t,Mb(),Mb(),Mb())}}class Ow{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class jw{constructor(e,t){this.targetId=e,this.Ce=t}}class Lw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yy.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Mw{constructor(){this.Fe=0,this.Me=Vw(),this.xe=Yy.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Mb(),t=Mb(),n=Mb();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gg(38017,{changeType:i})}}),new Dw(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Vw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vg(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Fw{constructor(e){this.ze=e,this.je=new Map,this.He=Ab(),this.Je=Uw(),this.Ye=Uw(),this.Ze=new zy(Og)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:gg(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(lb(i))if(0===n){const e=new Qg(i.path);this.tt(t,e,jv.newNoDocument(e,zg.min()))}else vg(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Tw||Tw.ht(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Zy(n).toUint8Array()}catch(e){if(e instanceof Qy)return pg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Iw(s,r,i)}catch(e){return pg(e instanceof Pw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&lb(i.target)){const t=new Qg(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,jv.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=Mb();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new Rw(e,t,this.Ze,this.He,n);return this.He=Ab(),this.Je=Uw(),this.Ye=Uw(),this.Ze=new zy(Og),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Mw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Wy(Og),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Wy(Og),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||dg("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Mw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Uw(){return new zy(Qg.comparator)}function Vw(){return new zy(Qg.comparator)}const Bw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hw={and:"AND",or:"OR"};class qw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ww(e,t){return e.useProto3Json||cy(t)?t:{value:t}}function Kw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qw(e,t){return Kw(e,t.toTimestamp())}function Yw(e){return vg(!!e,49232),zg.fromTimestamp(function(e){const t=$y(e);return new Bg(t.seconds,t.nanos)}(e))}function Xw(e,t){return $w(e,t).canonicalString()}function $w(e,t){const n=function(e){return new Wg(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Jw(e){const t=Wg.fromString(e);return vg(vE(t),10190,{key:t.toString()}),t}function Zw(e,t){return Xw(e.databaseId,t.path)}function eE(e,t){const n=Jw(t);if(n.get(1)!==e.databaseId.projectId)throw new Eg(wg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eg(wg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qg(iE(n))}function tE(e,t){return Xw(e.databaseId,t)}function nE(e){const t=Jw(e);return 4===t.length?Wg.emptyPath():iE(t)}function rE(e){return new Wg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iE(e){return vg(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function sE(e,t,n){return{name:Zw(e,t),fields:n.value.mapValue.fields}}function aE(e,t){let n;if(t instanceof hw)n={update:sE(e,t.key,t.value)};else if(t instanceof gw)n={delete:Zw(e,t.key)};else if(t instanceof dw)n={update:sE(e,t.key,t.data),updateMask:yE(t.fieldMask)};else{if(!(t instanceof yw))return gg(16599,{ft:t.type});n={verify:Zw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Gb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jb)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw gg(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gg(27497)}(e,t.precondition)),n}function oE(e,t){return{documents:[tE(e,t.path)]}}function lE(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tE(e,i);const s=function(e){if(0!==e.length)return gE(Hv.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:pE(e.field),direction:hE(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ww(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function cE(e){let t=nE(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vg(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=uE(e);return t instanceof Hv&&Wv(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Uv(mE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,cy(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Lv(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Lv(n,t)}(n.endAt)),ub(t,i,a,s,o,"F",l,c)}function uE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mE(e.unaryFilter.field);return zv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mE(e.unaryFilter.field);return zv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mE(e.unaryFilter.field);return zv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mE(e.unaryFilter.field);return zv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gg(61313);default:return gg(60726)}}(e):void 0!==e.fieldFilter?function(e){return zv.create(mE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gg(58110);default:return gg(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hv.create(e.compositeFilter.filters.map(e=>uE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gg(1026)}}(e.compositeFilter.op))}(e):gg(30097,{filter:e})}function hE(e){return Bw[e]}function dE(e){return zw[e]}function fE(e){return Hw[e]}function pE(e){return{fieldPath:e.canonicalString()}}function mE(e){return Gg.fromServerFormat(e.fieldPath)}function gE(e){return e instanceof zv?function(e){if("=="===e.op){if(Av(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NAN"}};if(Cv(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Av(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NAN"}};if(Cv(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pE(e.field),op:dE(e.op),value:e.value}}}(e):e instanceof Hv?function(e){const t=e.getFilters().map(e=>gE(e));return 1===t.length?t[0]:{compositeFilter:{op:fE(e.op),filters:t}}}(e):gg(54877,{filter:e})}function yE(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class bE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zg.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zg.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Yy.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new bE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wE{constructor(e){this.wt=e}}function EE(e){const t=cE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vb(t,t.limit,"L"):t}class xE{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Jy(e.integerValue));else if("doubleValue"in e){const n=Jy(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),uy(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=$y(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Zy(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Rv(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Iv(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):gg(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=pv,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Jy(a)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Qg.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}xE.Wt=new xE;class SE{constructor(){this.Cn=new _E}addToCollectionParentIndex(e,t){return this.Cn.add(t),iy.resolve()}getCollectionParents(e,t){return iy.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return iy.resolve()}deleteFieldIndex(e,t){return iy.resolve()}deleteAllFieldIndexes(e){return iy.resolve()}createTargetIndexes(e,t){return iy.resolve()}getDocumentsMatchingTarget(e,t){return iy.resolve(null)}getIndexType(e,t){return iy.resolve(0)}getFieldIndexes(e,t){return iy.resolve([])}getNextCollectionGroupToUpdate(e){return iy.resolve(null)}getMinOffset(e,t){return iy.resolve(Zg.min())}getMinOffsetFromCollectionGroup(e,t){return iy.resolve(Zg.min())}updateCollectionGroup(e,t,n){return iy.resolve()}updateIndexEntries(e,t){return iy.resolve()}}class _E{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wy(Wg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Wy(Wg.comparator)).toArray()}}new Uint8Array(0);const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class CE{static withCacheSize(e){return new CE(e,CE.DEFAULT_COLLECTION_PERCENTILE,CE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}CE.DEFAULT_COLLECTION_PERCENTILE=10,CE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,CE.DEFAULT=new CE(TE,CE.DEFAULT_COLLECTION_PERCENTILE,CE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),CE.DISABLED=new CE(-1,0,0);class AE{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new AE(0)}static lr(){return new AE(-1)}}const NE="LruGarbageCollector",IE=1048576;function PE(e,t){let[n,r]=e,[i,s]=t;const a=Og(n,i);return 0===a?Og(r,s):a}class RE{constructor(e){this.Er=e,this.buffer=new Wy(PE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();PE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){dg(NE,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ay(e)?dg(NE,"Ignoring IndexedDB error during garbage collection: ",e):await ry(e)}await this.mr(3e5)})}}class OE{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return iy.resolve(oy.le);const n=new RE(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(dg("LruGarbageCollector","Garbage collection skipped; disabled"),iy.resolve(kE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(dg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),kE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(dg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),hg()<=Xu.DEBUG&&dg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),iy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function jE(e,t){return new OE(e,t)}class LE{constructor(){this.changes=new Tb(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?iy.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ME{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lw(n.mutation,e,Gy.empty(),Bg.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Mb()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mb();const r=Rb();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ib();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Rb();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Mb()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Ab();const s=Ob(),a=Ob();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof dw)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),lw(a.mutation,t,a.mutation.getFieldMask(),Bg.now())):s.set(t.key,Gy.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ME(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Ob();let r=new zy((e,t)=>e-t),i=Mb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Gy.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Mb()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Db();l.forEach(e=>{if(!i.has(e)){const r=aw(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return iy.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):iy.resolve(Rb());let a=Yg,o=i;return s.next(t=>iy.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?iy.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Mb())).next(e=>({batchId:a,changes:Pb(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qg(t)).next(e=>{let t=Ib();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ib();return this.indexManager.getCollectionParents(e,i).next(a=>iy.forEach(a,a=>{const o=function(e,t){return new cb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jv.newInvalidDocument(r)))});let n=Ib();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&lw(s.mutation,r,Gy.empty(),Bg.now()),xb(t,r)&&(n=n.insert(e,r))}),n})}}class UE{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return iy.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Yw(e.createTime)}}(t)),iy.resolve()}getNamedQuery(e,t){return iy.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:EE(e.bundledQuery),readTime:Yw(e.readTime)}}(t)),iy.resolve()}}class VE{constructor(){this.overlays=new zy(Qg.comparator),this.Qr=new Map}getOverlay(e,t){return iy.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Rb();return iy.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),iy.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),iy.resolve()}getOverlaysForCollection(e,t,n){const r=Rb(),i=t.length+1,s=new Qg(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return iy.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zy((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Rb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Rb(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return iy.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ww(t,n));let i=this.Qr.get(t);void 0===i&&(i=Mb(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class BE{constructor(){this.sessionToken=Yy.EMPTY_BYTE_STRING}getSessionToken(e){return iy.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,iy.resolve()}}class zE{constructor(){this.$r=new Wy(HE.Ur),this.Kr=new Wy(HE.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new HE(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new HE(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new Qg(new Wg([])),n=new HE(t,e),r=new HE(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Qg(new Wg([])),n=new HE(t,e),r=new HE(t,e+1);let i=Mb();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new HE(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class HE{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Qg.comparator(e.key,t.key)||Og(e.Zr,t.Zr)}static Wr(e,t){return Og(e.Zr,t.Zr)||Qg.comparator(e.key,t.key)}}class qE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Wy(HE.Ur)}checkEmpty(e){return iy.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vw(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Xr=this.Xr.add(new HE(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return iy.resolve(s)}lookupMutationBatch(e,t){return iy.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return iy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return iy.resolve(0===this.mutationQueue.length?ly:this.nr-1)}getAllMutationBatches(e){return iy.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new HE(t,0),r=new HE(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),iy.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Wy(Og);return t.forEach(e=>{const t=new HE(e,0),r=new HE(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),iy.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Qg.isDocumentKey(i)||(i=i.child(""));const s=new HE(new Qg(i),0);let a=new Wy(Og);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)},s),iy.resolve(this.ni(a))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){vg(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return iy.forEach(t.mutations,r=>{const i=new HE(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new HE(t,0),r=this.Xr.firstAfterOrEqual(n);return iy.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,iy.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WE{constructor(e){this.ii=e,this.docs=new zy(Qg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return iy.resolve(n?n.document.mutableCopy():jv.newInvalidDocument(t))}getEntries(e,t){let n=Ab();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jv.newInvalidDocument(e))}),iy.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ab();const s=t.path,a=new Qg(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ey(Jg(a),n)<=0||(r.has(a.key)||xb(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return iy.resolve(i)}getAllFromCollectionGroup(e,t,n,r){gg(9500)}si(e,t){return iy.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new KE(this)}getSize(e){return iy.resolve(this.size)}}class KE extends LE{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),iy.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class GE{constructor(e){this.persistence=e,this.oi=new Tb(e=>ab(e),ob),this.lastRemoteSnapshotVersion=zg.min(),this.highestTargetId=0,this._i=0,this.ai=new zE,this.targetCount=0,this.ui=AE.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),iy.resolve()}getLastRemoteSnapshotVersion(e){return iy.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return iy.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),iy.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),iy.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new AE(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,iy.resolve()}updateTargetData(e,t){return this.Tr(t),iy.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,iy.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),iy.waitFor(i).next(()=>r)}getTargetCount(e){return iy.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return iy.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),iy.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),iy.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),iy.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return iy.resolve(n)}containsKey(e,t){return iy.resolve(this.ai.containsKey(t))}}class QE{constructor(e,t){this.ci={},this.overlays={},this.li=new oy(0),this.hi=!1,this.hi=!0,this.Pi=new BE,this.referenceDelegate=e(this),this.Ti=new GE(this),this.indexManager=new SE,this.remoteDocumentCache=function(e){return new WE(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new wE(t),this.Ei=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new qE(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){dg("MemoryPersistence","Starting transaction:",e);const r=new YE(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return iy.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class YE extends ny{constructor(e){super(),this.currentSequenceNumber=e}}class XE{constructor(e){this.persistence=e,this.Vi=new zE,this.mi=null}static fi(e){return new XE(e)}get gi(){if(this.mi)return this.mi;throw gg(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),iy.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),iy.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),iy.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return iy.forEach(this.gi,n=>{const r=Qg.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,zg.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return iy.or([()=>iy.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class $E{constructor(e,t){this.persistence=e,this.yi=new Tb(e=>fy(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=jE(this,t)}static fi(e,t){return new $E(e,t)}di(){}Ai(e){return iy.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return iy.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?iy.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,zg.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),iy.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),iy.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),iy.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),iy.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sv(e.data.value)),t}Dr(e,t,n){return iy.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return iy.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class JE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Mb(),r=Mb();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new JE(e,t.fromCache,n,r)}}class ZE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ex{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=Iu()?8:sy(Cu())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ZE;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(hg()<=Xu.DEBUG&&dg("QueryEngine","SDK will not create cache indexes for query:",Eb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),iy.resolve()):(hg()<=Xu.DEBUG&&dg("QueryEngine","Query:",Eb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(hg()<=Xu.DEBUG&&dg("QueryEngine","The SDK decides to create cache indexes for query:",Eb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mb(t))):iy.resolve())}ws(e,t){if(db(t))return iy.resolve(null);let n=mb(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vb(t,null,"F"),n=mb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Mb(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,vb(t,null,"F")):this.Fs(e,s,t,n)}))})))}bs(e,t,n,r){return db(t)||r.isEqual(zg.min())?iy.resolve(null):this.ys.getDocuments(e,n).next(i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?iy.resolve(null):(hg()<=Xu.DEBUG&&dg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eb(t)),this.Fs(e,s,t,$g(r,Yg)).next(e=>e))})}vs(e,t){let n=new Wy(_b(e));return t.forEach((t,r)=>{xb(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return hg()<=Xu.DEBUG&&dg("QueryEngine","Using full collection scan to execute query:",Eb(t)),this.ys.getDocumentsMatchingQuery(e,t,Zg.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const tx="LocalStore";class nx{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new zy(Og),this.Os=new Tb(e=>ab(e),ob),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function rx(e,t,n,r){return new nx(e,t,n,r)}async function ix(e,t){const n=bg(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Mb();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:s}))})})}function sx(e){const t=bg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function ax(e,t,n){let r=Mb(),i=Mb();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ab();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(zg.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):dg(tx,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{qs:r,Qs:i}})}function ox(e,t){const n=bg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ly),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function lx(e,t){const n=bg(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,iy.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new bE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function cx(e,t,n){const r=bg(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ay(e))throw e;dg(tx,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function ux(e,t,n){const r=bg(e);let i=zg.min(),s=Mb();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=bg(e),i=r.Os.get(n);return void 0!==i?iy.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,mb(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:zg.min(),n?s:Mb())).next(e=>(hx(r,Sb(t),e),{documents:e,$s:s})))}function hx(e,t,n){let r=e.Ns.get(t)||zg.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class dx{constructor(){this.activeTargetIds=Ub()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fx{constructor(){this.xo=new dx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new dx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class px{No(e){}shutdown(){}}const mx="ConnectivityMonitor";class gx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dg(mx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){dg(mx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yx=null;function vx(){return null===yx?yx=268435456+Math.round(2147483648*Math.random()):yx++,"0x"+yx.toString(16)}const bx="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ex{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===lv?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const s=vx(),a=this.jo(e,t.toUriEncodedString());dg(bx,"Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,i);const{host:l}=new URL(a),c=Eu(l);return this.Jo(e,a,o,n,c).then(t=>(dg(bx,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw pg(bx,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=wx[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class xx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Sx="WebChannelConnection";class _x extends Ex{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=vx();return new Promise((i,a)=>{const o=new Xm;o.setWithCredentials(!0),o.listenOnce(Jm.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Zm.NO_ERROR:const t=o.getResponseJson();dg(Sx,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Zm.TIMEOUT:dg(Sx,"RPC '".concat(e,"' ").concat(s," timed out")),a(new Eg(wg.DEADLINE_EXCEEDED,"Request time out"));break;case Zm.HTTP_ERROR:const n=o.getStatus();if(dg(Sx,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wg).indexOf(t)>=0?t:wg.UNKNOWN}(t.status);a(new Eg(e,t.message))}else a(new Eg(wg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Eg(wg.UNAVAILABLE,"Connection failed."));break;default:gg(9055,{h_:e,streamId:s,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{dg(Sx,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);dg(Sx,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}I_(e,t,n){const r=vx(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rg(),a=ng(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");dg(Sx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.E_(u);let h=!1,d=!1;const f=new xx({Zo:t=>{d?dg(Sx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(dg(Sx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),dg(Sx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,$m.EventType.OPEN,()=>{d||(dg(Sx,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())}),p(u,$m.EventType.CLOSE,()=>{d||(d=!0,dg(Sx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))}),p(u,$m.EventType.ERROR,t=>{d||(d=!0,pg(Sx,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Eg(wg.UNAVAILABLE,"The operation could not be completed")))}),p(u,$m.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];vg(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){dg(Sx,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=xw[e];if(void 0!==t)return kw(t)}(t),i=a.message;void 0===n&&(n=wg.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.u_(new Eg(n,i)),u.close()}else dg(Sx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}}),p(a,tg.STAT_EVENT,t=>{t.stat===eg.PROXY?dg(Sx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===eg.NOPROXY&&dg(Sx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.a_()},0),f}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function kx(){return"undefined"!=typeof document?document:null}function Tx(e){return new qw(e,!0)}class Cx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&dg("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Ax="PersistentStream";class Nx{constructor(e,t,n,r,i,s,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Cx(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===wg.RESOURCE_EXHAUSTED?(fg(t.toString()),fg("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===wg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new Eg(wg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return dg(Ax,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(dg(Ax,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ix extends Nx{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gg(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(vg(void 0===t||"string"==typeof t,58123),Yy.fromBase64String(t||"")):(vg(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Yy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?wg.UNKNOWN:kw(e.code);return new Eg(t,e.message||"")}(a);n=new Lw(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=eE(e,r.document.name),s=Yw(r.document.updateTime),a=r.document.createTime?Yw(r.document.createTime):zg.min(),o=new Dv({mapValue:{fields:r.document.fields}}),l=jv.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ow(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=eE(e,r.document),s=r.readTime?Yw(r.readTime):zg.min(),a=jv.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ow([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=eE(e,r.document),s=r.removedTargetIds||[];n=new Ow([],s,i,null)}else{if(!("filter"in t))return gg(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ew(r,i),a=e.targetId;n=new jw(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zg.min():t.readTime?Yw(t.readTime):zg.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=rE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lb(r)?{documents:oE(e,r)}:{query:lE(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Gw(e,t.resumeToken);const r=Ww(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(zg.min())>0){n.readTime=Kw(e,t.snapshotVersion.toTimestamp());const r=Ww(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gg(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=rE(this.serializer),t.removeTarget=e,this.Q_(t)}}class Px extends Nx{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return vg(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vg(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){vg(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(vg(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Yw(e.updateTime):Yw(t);return n.isEqual(zg.min())&&(n=Yw(t)),new nw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Yw(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=rE(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>aE(this.serializer,e))};this.Q_(t)}}class Rx{}class Dx extends Rx{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Eg(wg.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.zo(e,$w(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===wg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eg(wg.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Yo(e,$w(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===wg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eg(wg.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Ox{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(fg(t),this.ua=!1):dg("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const jx="RemoteStore";class Lx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{Wx(this)&&(dg(jx,"Restarting streams for network reachability change."),await async function(e){const t=bg(e);t.da.add(4),await Fx(t),t.Va.set("Unknown"),t.da.delete(4),await Mx(t)}(this))})}),this.Va=new Ox(n,r)}}async function Mx(e){if(Wx(e))for(const t of e.Aa)await t(!0)}async function Fx(e){for(const t of e.Aa)await t(!1)}function Ux(e,t){const n=bg(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),qx(n)?Hx(n):uS(n).N_()&&Bx(n,t))}function Vx(e,t){const n=bg(e),r=uS(n);n.Ea.delete(t),r.N_()&&zx(n,t),0===n.Ea.size&&(r.N_()?r.k_():Wx(n)&&n.Va.set("Unknown"))}function Bx(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uS(e).Z_(t)}function zx(e,t){e.ma.Ke(t),uS(e).X_(t)}function Hx(e){e.ma=new Fw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),uS(e).start(),e.Va.ca()}function qx(e){return Wx(e)&&!uS(e).O_()&&e.Ea.size>0}function Wx(e){return 0===bg(e).da.size}function Kx(e){e.ma=void 0}async function Gx(e){e.Va.set("Online")}async function Qx(e){e.Ea.forEach((t,n)=>{Bx(e,t)})}async function Yx(e,t){Kx(e),qx(e)?(e.Va.Pa(t),Hx(e)):e.Va.set("Unknown")}async function Xx(e,t,n){if(e.Va.set("Online"),t instanceof Lw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){dg(jx,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $x(e,n)}else if(t instanceof Ow?e.ma.Xe(t):t instanceof jw?e.ma.ot(t):e.ma.nt(t),!n.isEqual(zg.min()))try{const t=await sx(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Yy.EMPTY_BYTE_STRING,r.snapshotVersion)),zx(e,t);const i=new bE(r.target,t,n,r.sequenceNumber);Bx(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){dg(jx,"Failed to raise snapshot:",t),await $x(e,t)}}async function $x(e,t,n){if(!ay(t))throw t;e.da.add(1),await Fx(e),e.Va.set("Offline"),n||(n=()=>sx(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{dg(jx,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Mx(e)})}function Jx(e,t){return t().catch(n=>$x(e,n,t))}async function Zx(e){const t=bg(e),n=hS(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ly;for(;eS(t);)try{const e=await ox(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,tS(t,e)}catch(e){await $x(t,e)}nS(t)&&rS(t)}function eS(e){return Wx(e)&&e.Ia.length<10}function tS(e,t){e.Ia.push(t);const n=hS(e);n.N_()&&n.ea&&n.ta(t.mutations)}function nS(e){return Wx(e)&&!hS(e).O_()&&e.Ia.length>0}function rS(e){hS(e).start()}async function iS(e){hS(e).ia()}async function sS(e){const t=hS(e);for(const n of e.Ia)t.ta(n.mutations)}async function aS(e,t,n){const r=e.Ia.shift(),i=bw.from(r,t,n);await Jx(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Zx(e)}async function oS(e,t){t&&hS(e).ea&&await async function(e,t){if(function(e){return _w(e)&&e!==wg.ABORTED}(t.code)){const n=e.Ia.shift();hS(e).L_(),await Jx(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Zx(e)}}(e,t),nS(e)&&rS(e)}async function lS(e,t){const n=bg(e);n.asyncQueue.verifyOperationInProgress(),dg(jx,"RemoteStore received new credentials");const r=Wx(n);n.da.add(3),await Fx(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Mx(n)}async function cS(e,t){const n=bg(e);t?(n.da.delete(2),await Mx(n)):t||(n.da.add(2),await Fx(n),n.Va.set("Unknown"))}function uS(e){return e.fa||(e.fa=function(e,t,n){const r=bg(e);return r.oa(),new Ix(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Gx.bind(null,e),n_:Qx.bind(null,e),i_:Yx.bind(null,e),Y_:Xx.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),qx(e)?Hx(e):e.Va.set("Unknown")):(await e.fa.stop(),Kx(e))})),e.fa}function hS(e){return e.ga||(e.ga=function(e,t,n){const r=bg(e);return r.oa(),new Px(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:iS.bind(null,e),i_:oS.bind(null,e),na:sS.bind(null,e),ra:aS.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Zx(e)):(await e.ga.stop(),e.Ia.length>0&&(dg(jx,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class dS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new dS(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eg(wg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fS(e,t){if(fg("AsyncQueue","".concat(t,": ").concat(e)),ay(e))return new Eg(wg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class pS{static emptySet(e){return new pS(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qg.comparator(t.key,n.key):(e,t)=>Qg.comparator(e.key,t.key),this.keyedMap=Ib(),this.sortedSet=new zy(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mS{constructor(){this.pa=new zy(Qg.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):gg(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class gS{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new gS(e,t,pS.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class yS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class vS{constructor(){this.queries=bS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=bg(e),r=n.queries;n.queries=bS(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Eg(wg.ABORTED,"Firestore shutting down"))}}function bS(){return new Tb(e=>wb(e),bb)}async function wS(e,t){const n=bg(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Da()&&t.va()&&(r=2):(s=new yS,r=t.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=fS(e,"Initialization of query '".concat(Eb(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Sa.push(t),t.Fa(n.onlineState),s.ba&&t.Ma(s.ba)&&_S(n)}async function ES(e,t){const n=bg(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.va()?0:1:!s.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xS(e,t){const n=bg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&_S(n)}function SS(e,t,n){const r=bg(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function _S(e){e.Ca.forEach(e=>{e.next()})}var kS,TS;(TS=kS||(kS={})).xa="default",TS.Cache="cache";class CS{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=gS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==kS.Cache}}class AS{constructor(e){this.key=e}}class NS{constructor(e){this.key=e}}class IS{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mb(),this.mutatedKeys=Mb(),this.Za=_b(e),this.Xa=new pS(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new mS,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=xb(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:s,nu:n,Cs:a,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gg(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==s.length||l?{snapshot:new gS(this.query,e.Xa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Mb(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new NS(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new AS(n))}),t}au(e){this.Ha=e.$s,this.Ya=Mb();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return gS.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const PS="SyncEngine";class RS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class DS{constructor(e){this.key=e,this.cu=!1}}class OS{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Tb(e=>wb(e),bb),this.Pu=new Map,this.Tu=new Set,this.Iu=new zy(Qg.comparator),this.Eu=new Map,this.du=new zE,this.Au={},this.Ru=new Map,this.Vu=AE.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function jS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=n_(e);let i;const s=r.hu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await MS(r,t,n,!0),i}async function LS(e,t){const n=n_(e);await MS(n,t,!0,!1)}async function MS(e,t,n,r){const i=await lx(e.localStore,mb(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await FS(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ux(e.remoteStore,i),o}async function FS(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await ux(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return XS(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const s=await ux(e.localStore,t,!0),a=new IS(t,s.$s),o=a.tu(s.documents),l=Dw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);XS(e,n,c.ou);const u=new RS(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function US(e,t,n){const r=bg(e),i=r.hu.get(t),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(e=>!bb(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vx(r.remoteStore,i.targetId),QS(r,i.targetId)}).catch(ry)):(QS(r,i.targetId),await cx(r.localStore,i.targetId,!0))}async function VS(e,t){const n=bg(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vx(n.remoteStore,r.targetId))}async function BS(e,t){const n=bg(e);try{const e=await function(e,t){const n=bg(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ti.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Yy.EMPTY_BYTE_STRING,zg.min()).withLastLimboFreeSnapshotVersion(zg.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.Ti.updateTargetData(e,c))});let o=Ab(),l=Mb();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(ax(e,s,t.documentUpdates).next(e=>{o=e.qs,l=e.Qs})),!r.isEqual(zg.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return iy.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(vg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?vg(r.cu,14607):e.removedDocuments.size>0&&(vg(r.cu,42227),r.cu=!1))}),await ZS(n,e,t)}catch(e){await ry(e)}}function zS(e,t,n){const r=bg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=bg(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&_S(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HS(e,t,n){const r=bg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new zy(Qg.comparator);e=e.insert(s,jv.newNoDocument(s,zg.min()));const n=Mb().add(s),i=new Rw(zg.min(),new Map,new zy(Og),e,n);await BS(r,i),r.Iu=r.Iu.remove(s),r.Eu.delete(t),JS(r)}else await cx(r.localStore,t,!1).then(()=>QS(r,t,n)).catch(ry)}async function qS(e,t){const n=bg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=iy.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);vg(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Mb();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);GS(n,r,null),KS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ZS(n,e)}catch(e){await ry(e)}}async function WS(e,t,n){const r=bg(e);try{const e=await function(e,t){const n=bg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(vg(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);GS(r,t,n),KS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ZS(r,e)}catch(n){await ry(n)}}function KS(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function GS(e,t,n){const r=bg(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function QS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||YS(e,t)})}function YS(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Vx(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),JS(e))}function XS(e,t,n){for(const r of n)r instanceof AS?(e.du.addReference(r.key,t),$S(e,r)):r instanceof NS?(dg(PS,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||YS(e,r.key)):gg(19791,{pu:r})}function $S(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(dg(PS,"New document in limbo: "+n),e.Tu.add(r),JS(e))}function JS(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Qg(Wg.fromString(t)),r=e.Vu.next();e.Eu.set(r,new DS(n)),e.Iu=e.Iu.insert(n,r),Ux(e.remoteStore,new bE(mb(hb(n.path)),r,"TargetPurposeLimboResolution",oy.le))}}async function ZS(e,t,n){const r=bg(e),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((e,o)=>{a.push(r.fu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=JE.Rs(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(e,t){const n=bg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>iy.forEach(t,t=>iy.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>iy.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ay(e))throw e;dg(tx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function e_(e,t){const n=bg(e);if(!n.currentUser.isEqual(t)){dg(PS,"User change. New user:",t.toKey());const e=await ix(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new Eg(wg.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ZS(n,e.ks)}}function t_(e,t){const n=bg(e),r=n.Eu.get(t);if(r&&r.cu)return Mb().add(r.key);{let e=Mb();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function n_(e){const t=bg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HS.bind(null,t),t.lu.Y_=xS.bind(null,t.eventManager),t.lu.gu=SS.bind(null,t.eventManager),t}function r_(e){const t=bg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,t),t}class i_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tx(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return rx(this.persistence,new ex,e.initialUser,this.serializer)}Su(e){return new QE(XE.fi,this.serializer)}bu(e){return new fx}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}i_.provider={build:()=>new i_};class s_ extends i_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){vg(this.persistence.referenceDelegate instanceof $E,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new DE(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?CE.withCacheSize(this.cacheSizeBytes):CE.DEFAULT;return new QE(e=>$E.fi(e,t),this.serializer)}}class a_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,this.syncEngine),await cS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vS}createDatastore(e){const t=Tx(e.databaseInfo.databaseId),n=function(e){return new _x(e)}(e.databaseInfo);return function(e,t,n,r){return new Dx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Lx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>zS(this.syncEngine,e,0),gx.C()?new gx:new px)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new OS(e,t,n,r,i,s);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=bg(e);dg(jx,"RemoteStore shutting down."),t.da.add(5),await Fx(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}a_.provider={build:()=>new a_};class o_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):fg("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const l_="FirestoreClient";class c_{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=lg.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{dg(l_,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(dg(l_,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fS(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function u_(e,t){e.asyncQueue.verifyOperationInProgress(),dg(l_,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ix(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function h_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await d_(e);dg(l_,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>lS(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>lS(t.remoteStore,n)),e._onlineComponents=t}async function d_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dg(l_,"Using user provided OfflineComponentProvider");try{await u_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===wg.FAILED_PRECONDITION||e.code===wg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;pg("Error using user provided cache. Falling back to memory cache: "+n),await u_(e,new i_)}}else dg(l_,"Using default OfflineComponentProvider"),await u_(e,new s_(void 0));return e._offlineComponents}async function f_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dg(l_,"Using user provided OnlineComponentProvider"),await h_(e,e._uninitializedComponentsProvider._online)):(dg(l_,"Using default OnlineComponentProvider"),await h_(e,new a_))),e._onlineComponents}function p_(e){return f_(e).then(e=>e.syncEngine)}async function m_(e){const t=await f_(e),n=t.eventManager;return n.onListen=jS.bind(null,t.syncEngine),n.onUnlisten=US.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VS.bind(null,t.syncEngine),n}function g_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new o_({next:o=>{s.xu(),t.enqueueAndForget(()=>ES(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Eg(wg.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Eg(wg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new CS(hb(n.path),s,{includeMetadataChanges:!0,Qa:!0});return wS(e,a)}(await m_(e),e.asyncQueue,t,n,r)),r.promise}function y_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new xg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new o_({next:n=>{s.xu(),t.enqueueAndForget(()=>ES(e,a)),n.fromCache&&"server"===r.source?i.reject(new Eg(wg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new CS(n,s,{includeMetadataChanges:!0,Qa:!0});return wS(e,a)}(await m_(e),e.asyncQueue,t,n,r)),r.promise}function v_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const b_=new Map;function w_(e,t,n){if(!n)throw new Eg(wg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function E_(e){if(!Qg.isDocumentKey(e))throw new Eg(wg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function x_(e){if(Qg.isDocumentKey(e))throw new Eg(wg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function S_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":gg(12329,{type:typeof e})}function __(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eg(wg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S_(e);throw new Eg(wg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function k_(e,t){if(t<=0)throw new Eg(wg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}const T_="firestore.googleapis.com",C_=!0;class A_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Eg(wg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T_,this.ssl=C_}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:C_;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=TE;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<IE)throw new Eg(wg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eg(wg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eg(wg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Eg(wg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Eg(wg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class N_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Eg(wg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Eg(wg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _g;switch(e.type){case"firstParty":return new Ag(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eg(wg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=b_.get(e);t&&(dg("ComponentProvider","Removing Datastore"),b_.delete(e),t.terminate())}(this),Promise.resolve()}}function I_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=__(e,N_);const s=Eu(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);s&&(xu("https://".concat(l)),Tu("Firestore",!0)),a.host!==T_&&a.host!==l&&pg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Lu(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=lg.MOCK_USER;else{t=Su(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Eg(wg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new lg(s)}e._authCredentials=new kg(new Sg(t,n))}}class P_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new P_(this.firestore,e,this._query)}}class R_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new D_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new R_(this.firestore,e,this._key)}}class D_ extends P_{constructor(e,t,n){super(e,t,hb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new R_(this.firestore,null,new Qg(e))}withConverter(e){return new D_(this.firestore,e,this._path)}}function O_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qu(e),w_("collection","path",t),e instanceof N_){const n=Wg.fromString(t,...r);return x_(n),new D_(e,null,n)}{if(!(e instanceof R_||e instanceof D_))throw new Eg(wg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wg.fromString(t,...r));return x_(n),new D_(e.firestore,null,n)}}function j_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qu(e),1===arguments.length&&(t=Dg.newId()),w_("doc","path",t),e instanceof N_){const n=Wg.fromString(t,...r);return E_(n),new R_(e,null,new Qg(n))}{if(!(e instanceof R_||e instanceof D_))throw new Eg(wg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Wg.fromString(t,...r));return E_(n),new R_(e.firestore,e instanceof D_?e.converter:null,new Qg(n))}}const L_="AsyncQueue";class M_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Cx(this,"async_queue_retry"),this.rc=()=>{const e=kx();e&&dg(L_,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=kx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new xg;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(VI){if(!ay(VI))throw VI;dg(L_,"Operation failed with retryable error: "+VI)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,fg("INTERNAL UNHANDLED ERROR: ",F_(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=dS.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&gg(47125,{cc:F_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function F_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function U_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class V_ extends N_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new M_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function B_(e){if(e._terminated)throw new Eg(wg.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||z_(e),e._firestoreClient}function z_(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ov(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,v_(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new c_(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class H_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new H_(Yy.fromBase64String(e))}catch(e){throw new Eg(wg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new H_(Yy.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class q_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class W_{constructor(e){this._methodName=e}}class K_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eg(wg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eg(wg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Og(this._lat,e._lat)||Og(this._long,e._long)}}class G_{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Q_=/^__.*__$/;class Y_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dw(e,this.data,this.fieldMask,t,this.fieldTransforms):new hw(e,this.data,t,this.fieldTransforms)}}class X_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gg(40011,{Ic:e})}}class J_{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new J_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return pk(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if($_(this.Ic)&&Q_.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Z_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Tx(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new J_({Ic:e,methodName:t,wc:n,path:Gg.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ek(e){const t=e._freezeSettings(),n=Tx(e._databaseId);return new Z_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tk(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(s.merge||s.mergeFields?2:0,t,n,i);uk("Data must be an object, but it was:",a,r);const o=lk(r,a);let l,c;if(s.merge)l=new Gy(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=hk(t,r,n);if(!a.contains(i))throw new Eg(wg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mk(e,i)||e.push(i)}l=new Gy(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Y_(new Dv(o),l,c)}class nk extends W_{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nk}}class rk extends W_{_toFieldTransform(e){return new tw(e.path,new Gb)}isEqual(e){return e instanceof rk}}function ik(e,t,n,r){const i=e.bc(1,t,n);uk("Data must be an object, but it was:",i,r);const s=[],a=Dv.empty();Vy(r,(e,r)=>{const o=fk(t,e,n);r=qu(r);const l=i.mc(o);if(r instanceof nk)s.push(o);else{const e=ok(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Gy(s);return new X_(a,o,i.fieldTransforms)}function sk(e,t,n,r,i,s){const a=e.bc(1,t,n),o=[hk(t,r,n)],l=[i];if(s.length%2!=0)throw new Eg(wg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(hk(t,s[d])),l.push(s[d+1]);const c=[],u=Dv.empty();for(let d=o.length-1;d>=0;--d)if(!mk(c,o[d])){const e=o[d];let t=l[d];t=qu(t);const n=a.mc(e);if(t instanceof nk)c.push(e);else{const r=ok(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Gy(c);return new X_(u,h,a.fieldTransforms)}function ak(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ok(n,e.bc(r?4:3,t))}function ok(e,t){if(ck(e=qu(e)))return uk("Unsupported field value:",t,e),lk(e,t);if(e instanceof W_)return function(e,t){if(!$_(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ok(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Bg.fromDate(e);return{timestampValue:Kw(t.serializer,n)}}if(e instanceof Bg){const n=new Bg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kw(t.serializer,n)}}if(e instanceof K_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof H_)return{bytesValue:Gw(t.serializer,e._byteString)};if(e instanceof R_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xw(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof G_)return function(e,t){return{mapValue:{fields:{[uv]:{stringValue:fv},[pv]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Vb(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(S_(e)))}(e,t)}function lk(e,t){const n={};return By(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vy(e,(e,r)=>{const i=ok(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ck(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bg||e instanceof K_||e instanceof H_||e instanceof R_||e instanceof W_||e instanceof G_)}function uk(e,t,n){if(!ck(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=S_(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function hk(e,t,n){if((t=qu(t))instanceof q_)return t._internalPath;if("string"==typeof t)return fk(e,t);throw pk("Field path arguments must be of type string or ",e,!1,void 0,n)}const dk=new RegExp("[~\\*/\\[\\]]");function fk(e,t,n){if(t.search(dk)>=0)throw pk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new q_(...t.split("."))._internalPath}catch(r){throw pk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pk(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Eg(wg.INVALID_ARGUMENT,o+e+l)}function mk(e,t){return e.some(e=>e.isEqual(t))}class gk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new R_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yk extends gk{data(){return super.data()}}function vk(e,t){return"string"==typeof t?fk(e,t):t instanceof q_?t._internalPath:t._delegate._internalPath}function bk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eg(wg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wk{}class Ek extends wk{}function xk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof wk&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof _k).length,n=e.filter(e=>e instanceof Sk).length;if(t>1||t>0&&n>0)throw new Eg(wg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Sk extends Ek{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sk(e,t,n)}_apply(e){const t=this._parse(e);return Pk(e._query,t),new P_(e.firestore,e.converter,yb(e._query,t))}_parse(e){const t=ek(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Eg(wg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Ik(a,s);const t=[];for(const n of a)t.push(Nk(r,e,n));o={arrayValue:{values:t}}}else o=Nk(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ik(a,s),o=ak(n,t,a,"in"===s||"not-in"===s);return zv.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class _k extends wk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _k(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Hv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Pk(n,i),n=yb(n,i)}(e._query,t),new P_(e.firestore,e.converter,yb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kk extends Ek{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uv(t,n)}(e._query,this._field,this._direction);return new P_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Tk(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vk("orderBy",e);return kk._create(n,t)}class Ck extends Ek{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ck(e,t,n)}_apply(e){return new P_(e.firestore,e.converter,vb(e._query,this._limit,this._limitType))}}function Ak(e){return k_("limit",e),Ck._create("limit",e,"F")}function Nk(e,t,n){if("string"==typeof(n=qu(n))){if(""===n)throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fb(t)&&-1!==n.indexOf("/"))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Wg.fromString(n));if(!Qg.isDocumentKey(r))throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _v(e,new Qg(r))}if(n instanceof R_)return _v(e,n._key);throw new Eg(wg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(S_(n),"."))}function Ik(e,t){if(!Array.isArray(e)||0===e.length)throw new Eg(wg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Pk(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Eg(wg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Eg(wg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Rk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gg(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vy(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[pv].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Jy(e.doubleValue));return new G_(i)}convertGeoPoint(e){return new K_(Jy(e.latitude),Jy(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(av(e));default:return null}}convertTimestamp(e){const t=$y(e);return new Bg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wg.fromString(e);vg(vE(n),9688,{name:e});const r=new cv(n.get(1),n.get(3)),i=new Qg(n.popFirst(5));return r.isEqual(t)||fg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Dk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ok{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jk extends gk{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Lk extends jk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Mk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ok(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Lk(this._firestore,this._userDataWriter,n.key,n,new Ok(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eg(wg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Lk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ok(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Lk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ok(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Fk(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gg(61501,{type:e})}}class Uk extends Rk{constructor(e){super(),this.firestore=e}convertBytes(e){return new H_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new R_(this.firestore,null,t)}}function Vk(e,t,n){e=__(e,R_);const r=__(e.firestore,V_),i=ek(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=qu(t))||t instanceof q_?sk(i,"updateDoc",e._key,t,n,o):ik(i,"updateDoc",e._key,t),Bk(r,[s.toMutation(e._key,rw.exists(!0))])}function Bk(e,t){return function(e,t){const n=new xg;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=r_(e);try{const e=await function(e,t){const n=bg(e),r=Bg.now(),i=t.reduce((e,t)=>e.add(t.key),Mb());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Ab(),l=Mb();return n.Bs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=cw(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new dw(e.key,t,Ov(t.value.mapValue),rw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Pb(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new zy(Og)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await ZS(r,e.changes),await Zx(r.remoteStore)}catch(e){const t=fS(e,"Failed to persist write");n.reject(t)}}(await p_(e),t,n)),n.promise}(B_(e),t)}function zk(e,t,n){const r=n.docs.get(t._key),i=new Uk(e);return new jk(e,i,t._key,r,new Ok(n.hasPendingWrites,n.fromCache),t.converter)}function Hk(){return new rk("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cg=e}(ad),td(new Wu("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new V_(new Tg(e.getProvider("auth-internal")),new Ig(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eg(wg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cv(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),cd(ag,og,e),cd(ag,og,"esm2017")}();cd("firebase","11.9.1","app");const qk="firebasestorage.googleapis.com",Wk="storageBucket";class Kk extends Du{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Yk(e),"Firebase Storage: ".concat(t," (").concat(Yk(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kk.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Gk,Qk;function Yk(e){return"storage/"+e}function Xk(){return new Kk(Gk.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function $k(){return new Kk(Gk.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jk(){return new Kk(Gk.CANCELED,"User canceled the upload/download.")}function Zk(e){return new Kk(Gk.INVALID_ARGUMENT,e)}function eT(){return new Kk(Gk.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Gk||(Gk={}));class tT{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=tT.makeFromUrl(e,t)}catch(VI){return new tT(e,"")}if(""===n.path)return n;throw r=e,new Kk(Gk.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===qk?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new tT(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Kk(Gk.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class nT{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function rT(e,t,n,r){if(r<t)throw Zk("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zk("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function iT(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function sT(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Qk||(Qk={}));class aT{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new oT(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Qk.NO_ERROR,i=n.getStatus();if(!t||sT(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Qk.ABORT;return void e(!1,new oT(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new oT(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(VI){r(VI)}else if(null!==i){const e=Xk();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?eT():Jk())}else{r($k())}};this.canceled_?t(0,new oT(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oT{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function lT(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class cT{constructor(e,t){this._service=e,this._location=t instanceof tT?t:tT.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cT(e,t)}get root(){const e=new tT(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lT(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new tT(this._location.bucket,e);return new cT(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Kk(Gk.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function uT(e,t){const n=null===t||void 0===t?void 0:t[Wk];return null==n?null:tT.makeFromBucketSpec(n,e)}class hT{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=qk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?tT.makeFromBucketSpec(r,this._host):uT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=tT.makeFromBucketSpec(this._url,e):this._bucket=uT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(rd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cT(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new nT(eT());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=iT(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new aT(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const dT="@firebase/storage",fT="0.13.13",pT="storage";function mT(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=Eu(t);i&&(xu("https://".concat(e.host,"/b")),Tu("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:Su(s,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function gT(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new hT(r,i,s,n,ad)}td(new Wu(pT,gT,"PUBLIC").setMultipleInstances(!0)),cd(dT,fT,""),cd(dT,fT,"esm2017");const yT="functions";class vT{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,rd(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(e=>this.auth=e,()=>{}),this.messaging||n.get().then(e=>this.messaging=e,()=>{}),this.appCheck||null===r||void 0===r||r.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(VI){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(VI){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const bT="us-central1";class wT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bT,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new vT(e,t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=bT}catch(VI){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const ET="@firebase/functions",xT="0.12.8";function ST(e,t,n){!function(e,t,n){const r=Eu(t);e.emulatorOrigin="http".concat(r?"s":"","://").concat(t,":").concat(n),r&&(xu(e.emulatorOrigin),Tu("Functions",!0))}(qu(e),t,n)}!function(e){td(new Wu(yT,(e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new wT(r,i,s,a,n)},"PUBLIC").setMultipleInstances(!0)),cd(ET,xT,e),cd(ET,xT,"esm2017")}();const _T="@firebase/installations",kT="0.6.17",TT=1e4,CT="w:".concat(kT),AT="FIS_v2",NT=36e5,IT=new Ou("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function PT(e){return e instanceof Du&&e.code.includes("request-failed")}function RT(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function DT(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function OT(e,t){const n=(await t.json()).error;return IT.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jT(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LT(e,t){let{refreshToken:n}=t;const r=jT(e);return r.append("Authorization",function(e){return"".concat(AT," ").concat(e)}(n)),r}async function MT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function FT(e){return new Promise(t=>{setTimeout(t,e)})}const UT=/^[cdef][\w-]{21}$/;function VT(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return UT.test(t)?t:""}catch(e){return""}}function BT(e){return"".concat(e.appName,"!").concat(e.appId)}const zT=new Map;function HT(e,t){const n=BT(e);qT(n,t),function(e,t){const n=KT();n&&n.postMessage({key:e,fid:t});GT()}(n,t)}function qT(e,t){const n=zT.get(e);if(n)for(const r of n)r(t)}let WT=null;function KT(){return!WT&&"BroadcastChannel"in self&&(WT=new BroadcastChannel("[Firebase] FID Change"),WT.onmessage=e=>{qT(e.data.key,e.data.fid)}),WT}function GT(){0===zT.size&&WT&&(WT.close(),WT=null)}const QT="firebase-installations-store";let YT=null;function XT(){return YT||(YT=ph("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(QT)}})),YT}async function $T(e,t){const n=BT(e),r=(await XT()).transaction(QT,"readwrite"),i=r.objectStore(QT),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||HT(e,t.fid),t}async function JT(e){const t=BT(e),n=(await XT()).transaction(QT,"readwrite");await n.objectStore(QT).delete(t),await n.done}async function ZT(e,t){const n=BT(e),r=(await XT()).transaction(QT,"readwrite"),i=r.objectStore(QT),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||HT(e,a.fid),a}async function eC(e){let t;const n=await ZT(e.appConfig,n=>{const r=function(e){const t=e||{fid:VT(),registrationStatus:0};return rC(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(IT.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=RT(n),a=jT(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:AT,appId:n.appId,sdkVersion:CT},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await MT(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:DT(e.authToken)}}throw await OT("Create Installation",u)}(e,t);return $T(e.appConfig,n)}catch(VI){throw PT(VI)&&409===VI.customData.serverCode?await JT(e.appConfig):await $T(e.appConfig,{fid:t.fid,registrationStatus:0}),VI}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:tC(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function tC(e){let t=await nC(e.appConfig);for(;1===t.registrationStatus;)await FT(100),t=await nC(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await eC(e);return n||t}return t}function nC(e){return ZT(e,e=>{if(!e)throw IT.create("installation-not-found");return rC(e)})}function rC(e){return 1===(t=e).registrationStatus&&t.registrationTime+TT<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function iC(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(RT(e),"/").concat(n,"/authTokens:generate")}(n,t),s=LT(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:CT,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await MT(()=>fetch(i,l));if(c.ok){return DT(await c.json())}throw await OT("Generate Auth Token",c)}async function sC(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ZT(e.appConfig,r=>{if(!oC(r))throw IT.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+NT}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await aC(e.appConfig);for(;1===n.authToken.requestStatus;)await FT(100),n=await aC(e.appConfig);const r=n.authToken;return 0===r.requestStatus?sC(e,t):r}(e,n),r;{if(!navigator.onLine)throw IT.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await iC(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await $T(e.appConfig,r),n}catch(VI){if(!PT(VI)||401!==VI.customData.serverCode&&404!==VI.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await $T(e.appConfig,n)}else await JT(e.appConfig);throw VI}}(e,n),n}});return t?await t:r.authToken}function aC(e){return ZT(e,e=>{if(!oC(e))throw IT.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+TT<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function oC(e){return void 0!==e&&2===e.registrationStatus}async function lC(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await eC(e);t&&await t}(n);return(await sC(n,t)).token}function cC(e){return IT.create("missing-app-config-values",{valueName:e})}const uC="installations",hC=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw cC("App Configuration");if(!e.name)throw cC("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw cC(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:nd(t,"heartbeat"),_delete:()=>Promise.resolve()}},dC=e=>{const t=nd(e.getProvider("app").getImmediate(),uC).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await eC(t);return r?r.catch(console.error):sC(t).catch(console.error),n.fid}(t),getToken:e=>lC(t,e)}};td(new Wu(uC,hC,"PUBLIC")),td(new Wu("installations-internal",dC,"PRIVATE")),cd(_T,kT),cd(_T,kT,"esm2017");const fC="analytics",pC="https://www.googletagmanager.com/gtag/js",mC=new th("@firebase/analytics"),gC=new Ou("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yC(e){if(!e.startsWith(pC)){const t=gC.create("invalid-gtag-resource",{gtagURL:e});return mC.warn(t.message),""}return e}function vC(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function bC(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:yC}),r=document.createElement("script"),i="".concat(pC,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wC(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await vC(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(VI){mC.error(VI)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await vC(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(VI){mC.error(VI)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(VI){mC.error(VI)}}}const EC=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xC(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function SC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EC,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw gC.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gC.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new kC;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),_C({appId:r,apiKey:i,measurementId:s},a,o,t)}async function _C(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:EC;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(gC.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(VI){if(l)return mC.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===VI||void 0===VI?void 0:VI.message,"]")),{appId:o,measurementId:l};throw VI}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:xC(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw gC.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(VI){const r=VI;if(!function(e){if(!(e instanceof Du)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return mC.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw VI}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Hu(i,s.intervalMillis,30):Hu(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),mC.debug("Calling attemptFetch again in ".concat(c," millis")),_C(e,u,n,s)}}class kC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let TC,CC;function AC(e){CC=e}function NC(e){TC=e}async function IC(e,t,n,r,i,s,a){var o;const l=SC(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&mC.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>mC.error(e)),t.push(l);const c=async function(){if(!Pu())return mC.warn(gC.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Ru()}catch(VI){return mC.warn(gC.create("indexeddb-unavailable",{errorInfo:null===VI||void 0===VI?void 0:VI.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(pC)&&n.src.includes(e))return n;return null})(s)||bC(s,u.measurementId),CC&&(i("consent","default",CC),AC(void 0)),i("js",new Date);const d=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),TC&&(i("set",TC),NC(void 0)),u.measurementId}class PC{constructor(e){this.app=e}_delete(){return delete RC[this.app.options.appId],Promise.resolve()}}let RC={},DC=[];const OC={};let jC,LC,MC="dataLayer",FC="gtag",UC=!1;function VC(){const e=[];if(Nu()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=gC.create("invalid-analytics-context",{errorInfo:t});mC.warn(n.message)}}function BC(e,t,n){VC();const r=e.options.appId;if(!r)throw gC.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw gC.create("no-api-key");mC.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=RC[r])throw gC.create("already-exists",{id:r});if(!UC){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(MC);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=wC(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(RC,DC,OC,MC,FC);LC=e,jC=t,UC=!0}RC[r]=IC(e,DC,OC,t,jC,MC,n);return new PC(e)}function zC(e,t,n,r){e=qu(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(LC,RC[e.app.options.appId],t,n,r).catch(e=>mC.error(e))}const HC="@firebase/analytics",qC="0.10.16";td(new Wu(fC,(e,t)=>{let{options:n}=t;return BC(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),td(new Wu("analytics-internal",function(e){try{const t=e.getProvider(fC).getImmediate();return{logEvent:(e,n,r)=>zC(t,e,n,r)}}catch(VI){throw gC.create("interop-component-reg-failed",{reason:VI})}},"PRIVATE")),cd(HC,qC),cd(HC,qC,"esm2017");const WC={apiKey:"AIzaSyDFSp_865Qrz9SJvCgkoBgtoPfaGNN6yt0",authDomain:"client-support-realtime-e2b8e.firebaseapp.com",projectId:"client-support-realtime-e2b8e",storageBucket:"client-support-realtime-e2b8e.appspot.com",messagingSenderId:"583846360711",appId:"1:583846360711:web:7ebfcc4579e45f7fc1ea22",measurementId:"G-LHKSBEWL4S"},KC=od(WC),GC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld();const t=nd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=nd(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Lu(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Td(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fm,persistence:[Qp,Ap,Dp]}),r=bu("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zm)return;const i=null===n||void 0===n?void 0:n.token;Hm!==i&&(Hm=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){qu(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){qu(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=gu("auth");return i&&Gf(n,"http://".concat(i)),n}(KC),QC=function(e,t){const n="object"==typeof e?e:ld(),r="string"==typeof e?e:t||lv,i=nd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=yu("firestore");e&&I_(i,...e)}return i}(KC);(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld(),t=arguments.length>1?arguments[1]:void 0;e=qu(e);const n=nd(e,pT).getImmediate({identifier:t}),r=yu("storage");r&&mT(n,...r)})(KC),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bT;const n=nd(qu(e),yT).getImmediate({identifier:t}),r=yu("functions");r&&ST(n,...r)}(KC);let YC=null;"undefined"!==typeof window&&(YC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld();e=qu(e);const t=nd(e,fC);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=nd(e,fC);if(n.isInitialized()){const e=n.getImmediate();if(Lu(t,n.getOptions()))return e;throw gC.create("already-initialized")}return n.initialize({options:t})}(e)}(KC));(()=>{const e=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(e=>!WC[e]);if(e.length>0)throw console.error("\u274c Missing Firebase configuration fields:",e),new Error("Firebase configuration incomplete. Missing: ".concat(e.join(", ")));console.log("\u2705 Firebase configuration validated")})();const XC=(0,i.createContext)(),$C={user:null,userProfile:null,isAuthenticated:!1,isLoading:!0,error:null,loginAttempts:0,lastLoginTime:null,sessionTimeout:null},JC="SET_LOADING",ZC="SET_USER",eA="SET_USER_PROFILE",tA="SET_ERROR",nA="CLEAR_ERROR",rA="INCREMENT_LOGIN_ATTEMPTS",iA="RESET_LOGIN_ATTEMPTS",sA="SET_LAST_LOGIN",aA="SET_SESSION_TIMEOUT",oA="LOGOUT",lA=(e,t)=>{switch(t.type){case JC:return h(h({},e),{},{isLoading:t.payload});case ZC:return h(h({},e),{},{user:t.payload,isAuthenticated:!!t.payload,isLoading:!1,error:null});case eA:return h(h({},e),{},{userProfile:t.payload});case tA:return h(h({},e),{},{error:t.payload,isLoading:!1});case nA:return h(h({},e),{},{error:null});case rA:return h(h({},e),{},{loginAttempts:e.loginAttempts+1});case iA:return h(h({},e),{},{loginAttempts:0});case sA:return h(h({},e),{},{lastLoginTime:t.payload});case aA:return h(h({},e),{},{sessionTimeout:t.payload});case oA:return h(h({},$C),{},{isLoading:!1});default:return e}},cA=e=>{let{children:t}=e;const[n,r]=(0,i.useReducer)(lA,$C),s=18e5;(0,i.useEffect)(()=>{r({type:JC,payload:!0});const e=function(e,t,n,r){return qu(e).onAuthStateChanged(t,n,r)}(GC,async e=>{if(e)try{const t=await a(e.uid);r({type:ZC,payload:e}),r({type:eA,payload:t}),r({type:sA,payload:new Date}),r({type:iA});const n=setTimeout(()=>{l()},s);r({type:aA,payload:n}),await o(e.uid)}catch(t){console.error("Error fetching user profile:",t),r({type:tA,payload:"Failed to load user profile"})}else r({type:ZC,payload:null}),r({type:eA,payload:null})});return e},[]);const a=async e=>{try{const t=await function(e){e=__(e,R_);const t=__(e.firestore,V_);return g_(B_(t),e._key).then(n=>zk(t,e,n))}(j_(QC,"users",e));if(t.exists())return t.data();throw new Error("User profile not found")}catch(t){throw console.error("Error getting user profile:",t),t}},o=async e=>{try{await Vk(j_(QC,"users",e),{lastLoginTime:Hk(),isOnline:!0})}catch(t){console.error("Error updating last login:",t)}},l=async()=>{try{await Sp(GC),r({type:tA,payload:"Session expired. Please login again."})}catch(e){console.error("Error during session timeout:",e)}},c=()=>{var e;return"admin"===(null===(e=n.userProfile)||void 0===e?void 0:e.role)},u=()=>{var e;return"agent"===(null===(e=n.userProfile)||void 0===e?void 0:e.role)},d=()=>{if(!n.userProfile)return[];const e=["view_chats","send_messages"];return c()?[...e,"manage_agents","view_all_chats","assign_chats","transfer_chats","view_analytics","manage_settings","delete_messages","export_data"]:u()?[...e,"accept_chats","transfer_chats","update_profile","view_assigned_chats"]:[]},f=h(h({},n),{},{login:async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"agent";try{if(r({type:JC,payload:!0}),r({type:nA}),n.loginAttempts>=5)throw new Error("Too many failed login attempts. Please try again later.");const s=await function(e,t,n){return rd(e.app)?Promise.reject(Nd(e)):Ep(qu(e),ap.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xp(e),t})}(GC,e,t),o=s.user,l=await a(o.uid);if(l.role!==i)throw await Sp(GC),new Error("Invalid credentials for ".concat(i," login"));if(!l.isActive)throw await Sp(GC),new Error("Your account has been deactivated. Please contact administrator.");return{success:!0,user:s.user}}catch(s){return console.error("Login error:",s),r({type:rA}),r({type:tA,payload:s.message}),{success:!1,error:s.message}}},logout:async()=>{try{return r({type:JC,payload:!0}),n.sessionTimeout&&clearTimeout(n.sessionTimeout),n.user&&await Vk(j_(QC,"users",n.user.uid),{isOnline:!1,lastLogoutTime:Hk()}),await Sp(GC),r({type:oA}),{success:!0}}catch(e){return console.error("Logout error:",e),r({type:tA,payload:e.message}),{success:!1,error:e.message}}},registerAgent:async(e,t)=>{try{var i;if(!t||"admin"!==(null===(i=n.userProfile)||void 0===i?void 0:i.role))throw new Error("Unauthorized: Admin access required");r({type:JC,payload:!0}),r({type:nA});const s=await async function(e,t,n){if(rd(e.app))return Promise.reject(Nd(e));const r=jf(e),i=Wf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fp,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xp(e),t}),a=await pp._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(GC,e.email,e.password),a={uid:s.user.uid,email:e.email,role:"agent",firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber||"",department:e.department||"Support",isActive:!0,isOnline:!1,createdAt:Hk(),createdBy:t.uid,lastLoginTime:null,profilePicture:e.profilePicture||"",skills:e.skills||[],status:"available"};return await function(e,t,n){e=__(e,R_);const r=__(e.firestore,V_),i=Dk(e.converter,t,n);return Bk(r,[tk(ek(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rw.none())])}(j_(QC,"users",s.user.uid),a),{success:!0,userId:s.user.uid}}catch(s){return console.error("Registration error:",s),r({type:tA,payload:s.message}),{success:!1,error:s.message}}},updateProfile:async e=>{try{if(!n.user)throw new Error("No authenticated user");r({type:JC,payload:!0}),r({type:nA}),await Vk(j_(QC,"users",n.user.uid),h(h({},e),{},{updatedAt:Hk()}));const t=h(h({},n.userProfile),e);return r({type:eA,payload:t}),{success:!0}}catch(t){return console.error("Profile update error:",t),r({type:tA,payload:t.message}),{success:!1,error:t.message}}},updateStatus:async e=>{try{if(!n.user)throw new Error("No authenticated user");await Vk(j_(QC,"users",n.user.uid),{status:e,statusUpdatedAt:Hk()});const t=h(h({},n.userProfile),{},{status:e});return r({type:eA,payload:t}),{success:!0}}catch(t){return console.error("Status update error:",t),{success:!1,error:t.message}}},clearError:()=>{r({type:nA})},extendSession:()=>{n.sessionTimeout&&clearTimeout(n.sessionTimeout);const e=setTimeout(()=>{l()},s);r({type:aA,payload:e})},isAdmin:c,isAgent:u,hasPermission:e=>d().includes(e),getUserPermissions:d,sessionTimeRemaining:n.sessionTimeout?s:0});return(0,kt.jsx)(XC.Provider,{value:f,children:t})},uA=()=>{const e=(0,i.useContext)(XC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},hA=()=>{const[e,t]=(0,i.useState)({username:"",password:""}),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),{login:d}=uA(),f=me(),p=(0,i.useRef)(null),m=zc(0),g=zc(0),y=Yc(Gc(g,[0,300],[15,-15]),{stiffness:150,damping:20}),v=Yc(Gc(m,[0,300],[-15,15]),{stiffness:150,damping:20}),b=i=>{t(h(h({},e),{},{[i.target.name]:i.target.value})),n&&r("")};return(0,kt.jsx)("div",{className:"login-page-wrapper red-yellow-gradient",children:(0,kt.jsx)(Lc.section,{className:"login-wrapper agent-login",initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:80},children:(0,kt.jsxs)(Lc.div,{className:"login-card",ref:p,style:{rotateX:y,rotateY:v,perspective:800},onMouseMove:e=>{var t;const n=null===(t=p.current)||void 0===t?void 0:t.getBoundingClientRect();n&&(m.set(e.clientX-n.left),g.set(e.clientY-n.top))},onMouseLeave:()=>{m.set(0),g.set(0)},children:[(0,kt.jsxs)(Lc.header,{className:"login-header",initial:{opacity:0},animate:{opacity:1},children:[(0,kt.jsx)("h1",{className:"login-title agent-title gradient-text",children:"AGENT"}),(0,kt.jsx)("p",{className:"login-subtitle",children:"Chat App \u2013 Agent Login"}),(0,kt.jsxs)("div",{className:"login-toggle",children:[(0,kt.jsx)("span",{children:"Admin Login?"}),(0,kt.jsx)(yt,{to:"/admin-login",className:"toggle-link",children:"ADMIN"})]})]}),(0,kt.jsxs)(Lc.form,{className:"login-form",onSubmit:async t=>{t.preventDefault(),a(!0);const{success:n,error:i}=await d(e.username.trim(),e.password.trim(),"agent");if(a(!1),!n)return r(i||"Invalid credentials");f("/agent/dashboard")},initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"username",children:"Username"}),(0,kt.jsx)(Lc.input,{id:"username",name:"username",type:"text",placeholder:"Enter your username",value:e.username,onChange:b,onFocus:()=>l("username"),onBlur:()=>l(null),className:"username"===o?"focused":"",required:!0})]}),(0,kt.jsxs)("div",{className:"form-group password-wrapper",children:[(0,kt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,kt.jsx)(Lc.input,{id:"password",name:"password",type:c?"text":"password",placeholder:"Enter your password",value:e.password,onChange:b,onFocus:()=>l("password"),onBlur:()=>l(null),className:"password"===o?"focused":"",required:!0,minLength:6}),(0,kt.jsx)("button",{type:"button","aria-label":c?"Hide password":"Show password",className:"pass-toggle",onClick:()=>u(e=>!e),children:c?(0,kt.jsx)(ou,{}):(0,kt.jsx)(lu,{})})]}),(0,kt.jsx)(Bt,{children:n&&(0,kt.jsxs)(Lc.div,{className:"error-message",variants:{hidden:{x:0},visible:{x:[0,-8,8,-6,6,-4,4,0],transition:{duration:.6}}},initial:"hidden",animate:"visible",exit:"hidden",children:["\u26a0\ufe0f ",n]},"err")}),(0,kt.jsx)(Lc.button,{type:"submit",className:"login-btn agent-btn",disabled:s,whileTap:{scale:.95},children:(0,kt.jsx)(Bt,{mode:"wait",children:s?(0,kt.jsx)(Lc.span,{className:"loading-spinner",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}},"load"):(0,kt.jsx)(Lc.span,{children:"LOGIN"},"txt")})})]})]})})})},dA=Object.create(null);dA.open="0",dA.close="1",dA.ping="2",dA.pong="3",dA.message="4",dA.upgrade="5",dA.noop="6";const fA=Object.create(null);Object.keys(dA).forEach(e=>{fA[dA[e]]=e});const pA={type:"error",data:"parser error"},mA="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),gA="function"===typeof ArrayBuffer,yA=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,vA=(e,t,n)=>{let{type:r,data:i}=e;return mA&&i instanceof Blob?t?n(i):bA(i,n):gA&&(i instanceof ArrayBuffer||yA(i))?t?n(i):bA(new Blob([i]),n):n(dA[r]+(i||""))},bA=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function wA(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let EA;const xA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SA="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let HI=0;HI<64;HI++)SA[xA.charCodeAt(HI)]=HI;const _A="function"===typeof ArrayBuffer,kA=(e,t)=>{if("string"!==typeof e)return{type:"message",data:CA(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:TA(e.substring(1),t)};return fA[n]?e.length>1?{type:fA[n],data:e.substring(1)}:{type:fA[n]}:pA},TA=(e,t)=>{if(_A){const n=(e=>{let t,n,r,i,s,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=SA[e.charCodeAt(t)],r=SA[e.charCodeAt(t+1)],i=SA[e.charCodeAt(t+2)],s=SA[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return CA(n,t)}return{base64:!0,data:e}},CA=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,AA=String.fromCharCode(30);function NA(){return new TransformStream({transform(e,t){!function(e,t){mA&&e.data instanceof Blob?e.data.arrayBuffer().then(wA).then(t):gA&&(e.data instanceof ArrayBuffer||yA(e.data))?t(wA(e.data)):vA(e,!1,e=>{EA||(EA=new TextEncoder),t(EA.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let IA;function PA(e){return e.reduce((e,t)=>e+t.length,0)}function RA(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function DA(e){if(e)return function(e){for(var t in DA.prototype)e[t]=DA.prototype[t];return e}(e)}DA.prototype.on=DA.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},DA.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},DA.prototype.off=DA.prototype.removeListener=DA.prototype.removeAllListeners=DA.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},DA.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},DA.prototype.emitReserved=DA.prototype.emit,DA.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},DA.prototype.hasListeners=function(e){return!!this.listeners(e).length};const OA="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),jA="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function LA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const MA=jA.setTimeout,FA=jA.clearTimeout;function UA(e,t){t.useNativeTimers?(e.setTimeoutFn=MA.bind(jA),e.clearTimeoutFn=FA.bind(jA)):(e.setTimeoutFn=jA.setTimeout.bind(jA),e.clearTimeoutFn=jA.clearTimeout.bind(jA))}function VA(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function BA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class zA extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class HA extends DA{constructor(e){super(),this.writable=!1,UA(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new zA(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=kA(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class qA extends HA{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(AA),r=[];for(let i=0;i<n.length;i++){const e=kA(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,s)=>{vA(e,!1,e=>{r[s]=e,++i===n&&t(r.join(AA))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=BA()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let WA=!1;try{WA="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(zI){}const KA=WA;function GA(){}class QA extends qA{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class YA extends DA{constructor(e,t,n){super(),this.createRequest=e,UA(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=LA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(VI){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(VI){}try{n.setRequestHeader("Accept","*/*")}catch(VI){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(VI){return void this.setTimeoutFn(()=>{this._onError(VI)},0)}"undefined"!==typeof document&&(this._index=YA.requestsCount++,YA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=GA,e)try{this._xhr.abort()}catch(VI){}"undefined"!==typeof document&&delete YA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(YA.requestsCount=0,YA.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",XA);else if("function"===typeof addEventListener){addEventListener("onpagehide"in jA?"pagehide":"unload",XA,!1)}function XA(){for(let e in YA.requests)YA.requests.hasOwnProperty(e)&&YA.requests[e].abort()}const $A=function(){const e=JA({xdomain:!1});return e&&null!==e.responseType}();function JA(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||KA))return new XMLHttpRequest}catch(VI){}if(!t)try{return new(jA[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(VI){}}const ZA="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class eN extends HA{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=ZA?{}:LA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(zI){return this.emitReserved("error",zI)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;vA(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(VI){}r&&OA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=BA()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const tN=jA.WebSocket||jA.MozWebSocket;const nN={websocket:class extends eN{createSocket(e,t,n){return ZA?new tN(e,t,n):t?new tN(e,t):new tN(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends HA{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(zI){return this.emitReserved("error",zI)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){IA||(IA=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(0===r){if(PA(n)<1)break;const e=RA(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(PA(n)<2)break;const e=RA(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(PA(n)<8)break;const e=RA(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(pA);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(PA(n)<i)break;const e=RA(n,i);o.enqueue(kA(s?e:IA.decode(e),t)),r=0}if(0===i||i>e){o.enqueue(pA);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=NA();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&OA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends QA{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=$A&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new YA(JA,this.uri(),e)}}},rN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,iN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sN(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=rN.exec(e||""),s={},a=14;for(;a--;)s[iN[a]]=i[a]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const aN="function"===typeof addEventListener&&"function"===typeof removeEventListener,oN=[];aN&&addEventListener("offline",()=>{oN.forEach(e=>e())},!1);class lN extends DA{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=sN(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=sN(t.host).host);UA(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),aN&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oN.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&lN.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",lN.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=VA(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,OA(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(lN.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),aN&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=oN.indexOf(this._offlineEventListener);-1!==e&&oN.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}lN.protocol=4;class cN extends lN{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;lN.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;lN.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class uN extends cN{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>nN[e]).filter(e=>!!e)),super(e,t)}}const hN="function"===typeof ArrayBuffer,dN=Object.prototype.toString,fN="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===dN.call(Blob),pN="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===dN.call(File);function mN(e){return hN&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||fN&&e instanceof Blob||pN&&e instanceof File}function gN(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(gN(e[t]))return!0;return!1}if(mN(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return gN(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&gN(e[n]))return!0;return!1}function yN(e){const t=[],n=e.data,r=e;return r.data=vN(n,t),r.attachments=t.length,{packet:r,buffers:t}}function vN(e,t){if(!e)return e;if(mN(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=vN(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=vN(e[r],t));return n}return e}function bN(e,t){return e.data=wN(e.data,t),delete e.attachments,e}function wN(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=wN(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=wN(e[n],t));return e}const EN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xN=5;var SN;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(SN||(SN={}));class _N{constructor(e){this.replacer=e}encode(e){return e.type!==SN.EVENT&&e.type!==SN.ACK||!gN(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===SN.EVENT?SN.BINARY_EVENT:SN.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==SN.BINARY_EVENT&&e.type!==SN.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=yN(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function kN(e){return"[object Object]"===Object.prototype.toString.call(e)}class TN extends DA{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===SN.BINARY_EVENT;n||t.type===SN.BINARY_ACK?(t.type=n?SN.EVENT:SN.ACK,this.reconstructor=new CN(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!mN(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===SN[n.type])throw new Error("unknown packet type "+n.type);if(n.type===SN.BINARY_EVENT||n.type===SN.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!TN.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(VI){return!1}}static isPayloadValid(e,t){switch(e){case SN.CONNECT:return kN(t);case SN.DISCONNECT:return void 0===t;case SN.CONNECT_ERROR:return"string"===typeof t||kN(t);case SN.EVENT:case SN.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===EN.indexOf(t[0]));case SN.ACK:case SN.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CN{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=bN(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function AN(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const NN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class IN extends DA{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[AN(e,"open",this.onopen.bind(this)),AN(e,"packet",this.onpacket.bind(this)),AN(e,"error",this.onerror.bind(this)),AN(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(NN.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:SN.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),a=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];n(null,...s)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:SN.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case SN.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case SN.EVENT:case SN.BINARY_EVENT:this.onevent(e);break;case SN.ACK:case SN.BINARY_ACK:this.onack(e);break;case SN.DISCONNECT:this.ondisconnect();break;case SN.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:SN.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:SN.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function PN(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}PN.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},PN.prototype.reset=function(){this.attempts=0},PN.prototype.setMin=function(e){this.ms=e},PN.prototype.setMax=function(e){this.max=e},PN.prototype.setJitter=function(e){this.jitter=e};class RN extends DA{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,UA(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new PN({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uN(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=AN(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=AN(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(AN(e,"ping",this.onping.bind(this)),AN(e,"data",this.ondata.bind(this)),AN(e,"error",this.onerror.bind(this)),AN(e,"close",this.onclose.bind(this)),AN(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(VI){this.onclose("parse error",VI)}}ondecoded(e){OA(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new IN(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const DN={};function ON(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=sN(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=DN[i]&&s in DN[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?o=new RN(r,t):(DN[i]||(DN[i]=new RN(r,t)),o=DN[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(ON,{Manager:RN,Socket:IN,io:ON,connect:ON});const jN=(0,i.createContext)(),LN={socket:null,isConnected:!1,isConnecting:!1,connectionError:null,activeChats:[],onlineUsers:{},typingUsers:{},notifications:[],agentStatus:{},connectionAttempts:0,lastConnectionTime:null,messageQueue:[]},MN="SET_SOCKET",FN="SET_CONNECTED",UN="SET_CONNECTING",VN="SET_CONNECTION_ERROR",BN="UPDATE_ACTIVE_CHATS",zN="UPDATE_ONLINE_USERS",HN="UPDATE_TYPING_USERS",qN="ADD_NOTIFICATION",WN="REMOVE_NOTIFICATION",KN="UPDATE_AGENT_STATUS",GN="INCREMENT_CONNECTION_ATTEMPTS",QN="RESET_CONNECTION_ATTEMPTS",YN="SET_LAST_CONNECTION_TIME",XN="ADD_TO_MESSAGE_QUEUE",$N="CLEAR_MESSAGE_QUEUE",JN="RESET_SOCKET",ZN=(e,t)=>{switch(t.type){case MN:return h(h({},e),{},{socket:t.payload});case FN:return h(h({},e),{},{isConnected:t.payload,isConnecting:!1,connectionError:null,connectionAttempts:t.payload?0:e.connectionAttempts,lastConnectionTime:t.payload?new Date:e.lastConnectionTime});case UN:return h(h({},e),{},{isConnecting:t.payload});case VN:return h(h({},e),{},{connectionError:t.payload,isConnected:!1,isConnecting:!1});case BN:return h(h({},e),{},{activeChats:t.payload});case zN:return h(h({},e),{},{onlineUsers:h(h({},e.onlineUsers),t.payload)});case HN:return h(h({},e),{},{typingUsers:h(h({},e.typingUsers),t.payload)});case qN:return h(h({},e),{},{notifications:[t.payload,...e.notifications].slice(0,50)});case WN:return h(h({},e),{},{notifications:e.notifications.filter(e=>e.id!==t.payload)});case KN:return h(h({},e),{},{agentStatus:h(h({},e.agentStatus),t.payload)});case GN:return h(h({},e),{},{connectionAttempts:e.connectionAttempts+1});case QN:return h(h({},e),{},{connectionAttempts:0});case YN:return h(h({},e),{},{lastConnectionTime:t.payload});case XN:return h(h({},e),{},{messageQueue:[...e.messageQueue,t.payload]});case $N:return h(h({},e),{},{messageQueue:[]});case JN:return h({},LN);default:return e}},eI=e=>{let{children:t}=e;const[n,r]=(0,i.useReducer)(ZN,LN),{user:s,userProfile:a,isAuthenticated:o}=uA(),l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALLOWED_FILE_TYPES:"image/jpeg,image/png,image/gif,application/pdf",REACT_APP_FIREBASE_API_KEY:"AIzaSyDFSp_865Qrz9SJvCgkoBgtoPfaGNN6yt0",REACT_APP_FIREBASE_APP_ID:"1:583846360711:web:7ebfcc4579e45f7fc1ea22",REACT_APP_FIREBASE_AUTH_DOMAIN:"client-support-realtime-e2b8e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-LHKSBEWL4S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"583846360711",REACT_APP_FIREBASE_PROJECT_ID:"client-support-realtime-e2b8e",REACT_APP_FIREBASE_STORAGE_BUCKET:"client-support-realtime-e2b8e.appspot.com",REACT_APP_MAX_FILE_SIZE:"10485760",REACT_APP_SESSION_TIMEOUT:"1800000",REACT_APP_TYPING_TIMEOUT:"3000",REACT_APP_USE_FIREBASE_EMULATORS:"false"}.REACT_APP_SOCKET_SERVER_URL||"http://localhost:3001",c=(0,i.useCallback)(()=>{if(o&&s&&!n.socket)try{r({type:UN,payload:!0});const e={auth:{token:s.accessToken,userId:s.uid,userRole:(null===a||void 0===a?void 0:a.role)||"agent",userEmail:s.email},transports:["websocket","polling"],timeout:1e4,forceNew:!0},t=ON(l,e);t.on("connect",()=>{console.log("\ud83d\udd0c Socket connected successfully"),r({type:MN,payload:t}),r({type:FN,payload:!0}),r({type:QN}),d(t),u(t)}),t.on("connect_error",e=>{console.error("\u274c Socket connection error:",e),r({type:VN,payload:e.message}),r({type:GN}),n.connectionAttempts<5&&setTimeout(()=>{n.isConnected||c()},2e3*(n.connectionAttempts+1))}),t.on("disconnect",e=>{console.log("\ud83d\udd0c Socket disconnected:",e),r({type:FN,payload:!1}),"io server disconnect"===e&&setTimeout(c,2e3)}),t.on("message_received",e=>{f(e)}),t.on("message_sent",e=>{p(e)}),t.on("user_typing",e=>{m(e)}),t.on("user_stopped_typing",e=>{g(e)}),t.on("user_online",e=>{r({type:zN,payload:{[e.userId]:h(h({},e),{},{isOnline:!0})}})}),t.on("user_offline",e=>{r({type:zN,payload:{[e.userId]:h(h({},e),{},{isOnline:!1})}})}),t.on("agent_status_changed",e=>{r({type:KN,payload:{[e.agentId]:e}})}),t.on("chat_assigned",e=>{y(e)}),t.on("chat_transferred",e=>{v(e)}),t.on("notification",e=>{const t=h(h({id:Date.now()},e),{},{timestamp:new Date,read:!1});r({type:qN,payload:t})}),t.on("active_chats_updated",e=>{r({type:BN,payload:e})}),t.on("error",e=>{console.error("Socket error:",e),b(e)})}catch(e){console.error("Failed to initialize socket:",e),r({type:VN,payload:e.message})}},[o,s,a,n.socket,n.connectionAttempts]),u=(0,i.useCallback)(e=>{if(!a)return;const t=[];t.push("authenticated_users"),"admin"===a.role?t.push("admins","all_chats"):"agent"===a.role&&t.push("agents","agent_".concat(s.uid)),a.department&&t.push("department_".concat(a.department)),e.emit("join_rooms",{rooms:t})},[a,s]),d=(0,i.useCallback)(e=>{n.messageQueue.length>0&&(n.messageQueue.forEach(t=>{e.emit("send_message",t)}),r({type:$N}))},[n.messageQueue]),f=(0,i.useCallback)(e=>{if(window.dispatchEvent(new CustomEvent("messageReceived",{detail:e})),e.chatId!==w()){const t={id:"message_".concat(e.messageId),type:"message",title:"New Message",message:"New message from ".concat(e.senderName),chatId:e.chatId,timestamp:new Date,read:!1};r({type:qN,payload:t})}},[]),p=(0,i.useCallback)(e=>{window.dispatchEvent(new CustomEvent("messageSent",{detail:e}))},[]),m=(0,i.useCallback)(e=>{r({type:HN,payload:{["".concat(e.chatId,"_").concat(e.userId)]:h(h({},e),{},{isTyping:!0,timestamp:new Date})}}),setTimeout(()=>{r({type:HN,payload:{["".concat(e.chatId,"_").concat(e.userId)]:null}})},5e3)},[]),g=(0,i.useCallback)(e=>{r({type:HN,payload:{["".concat(e.chatId,"_").concat(e.userId)]:null}})},[]),y=(0,i.useCallback)(e=>{const t={id:"assignment_".concat(e.chatId),type:"assignment",title:"Chat Assigned",message:"You have been assigned to chat #".concat(e.chatId),chatId:e.chatId,timestamp:new Date,read:!1};r({type:qN,payload:t}),window.dispatchEvent(new CustomEvent("chatAssigned",{detail:e}))},[]),v=(0,i.useCallback)(e=>{const t={id:"transfer_".concat(e.chatId),type:"transfer",title:"Chat Transferred",message:"Chat #".concat(e.chatId," has been transferred"),chatId:e.chatId,timestamp:new Date,read:!1};r({type:qN,payload:t}),window.dispatchEvent(new CustomEvent("chatTransferred",{detail:e}))},[]),b=(0,i.useCallback)(e=>{const t={id:"error_".concat(Date.now()),type:"error",title:"Connection Error",message:e.message||"Socket connection error occurred",timestamp:new Date,read:!1};r({type:qN,payload:t})},[]),w=(0,i.useCallback)(()=>{const e=window.location.pathname.match(/\/chat\/([^\/]+)/);return e?e[1]:null},[]);(0,i.useEffect)(()=>{o&&s&&a&&!n.socket&&c()},[o,s,a,c]),(0,i.useEffect)(()=>()=>{n.socket&&(n.socket.disconnect(),r({type:JN}))},[]),(0,i.useEffect)(()=>{!o&&n.socket&&(n.socket.disconnect(),r({type:JN}))},[o,n.socket]);const E=(0,i.useCallback)(e=>{if(!n.socket||!n.isConnected)return r({type:XN,payload:e}),{success:!1,error:"Not connected"};try{return n.socket.emit("send_message",h(h({},e),{},{senderId:s.uid,senderName:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName),senderRole:null===a||void 0===a?void 0:a.role,timestamp:(new Date).toISOString()})),{success:!0}}catch(t){return console.error("Failed to send message:",t),{success:!1,error:t.message}}},[n.socket,n.isConnected,s,a]),x=(0,i.useCallback)(e=>{n.socket&&n.isConnected&&n.socket.emit("start_typing",{chatId:e,userId:s.uid,userName:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName)})},[n.socket,n.isConnected,s,a]),S=(0,i.useCallback)(e=>{n.socket&&n.isConnected&&n.socket.emit("stop_typing",{chatId:e,userId:s.uid})},[n.socket,n.isConnected,s]),_=(0,i.useCallback)(e=>{n.socket&&n.isConnected&&n.socket.emit("update_agent_status",{agentId:s.uid,status:e,timestamp:(new Date).toISOString()})},[n.socket,n.isConnected,s]),k=(0,i.useCallback)(e=>{n.socket&&n.isConnected&&n.socket.emit("join_chat",{chatId:e,userId:s.uid,userRole:null===a||void 0===a?void 0:a.role})},[n.socket,n.isConnected,s,a]),T=(0,i.useCallback)(e=>{n.socket&&n.isConnected&&n.socket.emit("leave_chat",{chatId:e,userId:s.uid})},[n.socket,n.isConnected,s]),C=(0,i.useCallback)((e,t)=>{n.socket&&n.isConnected&&"admin"===(null===a||void 0===a?void 0:a.role)&&n.socket.emit("assign_chat",{chatId:e,agentId:t,assignedBy:s.uid,timestamp:(new Date).toISOString()})},[n.socket,n.isConnected,s,a]),A=(0,i.useCallback)((e,t,r,i)=>{n.socket&&n.isConnected&&n.socket.emit("transfer_chat",{chatId:e,fromAgentId:t,toAgentId:r,transferredBy:s.uid,reason:i,timestamp:(new Date).toISOString()})},[n.socket,n.isConnected,s]),N=(0,i.useCallback)(e=>{r({type:WN,payload:e})},[]),I=(0,i.useCallback)(()=>{n.notifications.forEach(e=>{r({type:WN,payload:e.id})})},[n.notifications]),P=(0,i.useCallback)(()=>{n.socket&&n.socket.disconnect(),r({type:JN}),setTimeout(c,1e3)},[n.socket,c]),R=h(h({},n),{},{reconnect:P,sendMessage:E,startTyping:x,stopTyping:S,joinChat:k,leaveChat:T,assignChat:C,transferChat:A,updateAgentStatus:_,markNotificationAsRead:N,clearAllNotifications:I,isUserOnline:e=>{var t;return(null===(t=n.onlineUsers[e])||void 0===t?void 0:t.isOnline)||!1},isUserTyping:(e,t)=>{var r;return(null===(r=n.typingUsers["".concat(e,"_").concat(t)])||void 0===r?void 0:r.isTyping)||!1},getActiveChatsCount:()=>n.activeChats.length,getUnreadNotificationsCount:()=>n.notifications.filter(e=>!e.read).length});return(0,kt.jsx)(jN.Provider,{value:R,children:t})},tI=()=>{const e=(0,i.useContext)(jN);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},nI=()=>{const[e,t]=(0,i.useState)(new Date),[n,r]=(0,i.useState)([]),{logout:s}=uA(),{activeChats:a,notifications:o}=tI(),l=me();(0,i.useEffect)(()=>{r([{id:1,icon:"\u2705",text:"Admin assigned Agent",agent:"@Nate",user:"@Fin",timestamp:"11:20 AM"},{id:2,icon:"\u2795",text:"Admin added new Agent",agent:"@Boots",timestamp:"10:45 AM"},{id:3,icon:"\u270f\ufe0f",text:"Admin edited login details - Agent",agent:"@Storm",timestamp:"10:30 AM"},{id:4,icon:"\u274c",text:"Admin closed the chat - User",user:"@Chef",timestamp:"10:15 AM"}])},[]);const c=(new Date).toLocaleString("default",{month:"long",year:"numeric"});return(0,kt.jsxs)("div",{className:"dashboard-container",children:[(0,kt.jsxs)(Lc.header,{className:"dashboard-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,kt.jsx)("div",{className:"header-left",children:(0,kt.jsx)(Lc.h1,{className:"app-logo",whileHover:{scale:1.05},children:"\ud83d\udcac Chat App"})}),(0,kt.jsxs)("nav",{className:"header-navigation",children:[(0,kt.jsx)(Lc.button,{className:"nav-button active",whileHover:{scale:1.05,backgroundColor:"#4a90e2"},whileTap:{scale:.95},children:"Agents"}),(0,kt.jsx)(Lc.button,{className:"nav-button",whileHover:{scale:1.05,backgroundColor:"#4a90e2"},whileTap:{scale:.95},onClick:()=>l("/agent/notifications"),children:"Notifications"}),(0,kt.jsx)(Lc.button,{className:"nav-button",whileHover:{scale:1.05,backgroundColor:"#4a90e2"},whileTap:{scale:.95},onClick:()=>l("/agent/chat"),children:"Chat"}),(0,kt.jsx)(Lc.button,{className:"nav-button",whileHover:{scale:1.05,backgroundColor:"#4a90e2"},whileTap:{scale:.95},onClick:()=>l("/agent/profile"),children:"Profile"}),(0,kt.jsx)(Lc.button,{className:"nav-button logout-button",whileHover:{scale:1.05,backgroundColor:"#dc3545"},whileTap:{scale:.95},onClick:async()=>{await s(),l("/agent-login")},children:"Logout"})]})]}),(0,kt.jsxs)("div",{className:"dashboard-layout",children:[(0,kt.jsxs)(Lc.aside,{className:"chats-panel",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2,duration:.6},children:[(0,kt.jsxs)("div",{className:"panel-header",children:[(0,kt.jsx)("h2",{children:"Chats"}),(0,kt.jsxs)("div",{className:"chat-filters",children:[(0,kt.jsx)(Lc.button,{className:"filter-button active",whileHover:{backgroundColor:"#4a90e2"},children:"All"}),(0,kt.jsx)(Lc.button,{className:"filter-button",whileHover:{backgroundColor:"#4a90e2"},children:"Closed"}),(0,kt.jsx)(Lc.button,{className:"filter-button",whileHover:{backgroundColor:"#4a90e2"},children:"Assigned"}),(0,kt.jsx)(Lc.button,{className:"filter-button",whileHover:{backgroundColor:"#4a90e2"},children:"Unassigned"})]})]}),(0,kt.jsx)("div",{className:"chats-list",children:["@hari_911","@nura_123","@ramya_dev","@bala_dev","@sivani_dev","@arun_dev","@yams_dev"].map((e,t)=>(0,kt.jsxs)(Lc.div,{className:"chat-item ".concat(0===t?"selected":""),whileHover:{backgroundColor:"#f8f9fa",x:5},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.1*t},children:[(0,kt.jsxs)("div",{className:"chat-details",children:[(0,kt.jsx)("span",{className:"chat-name",children:e}),(0,kt.jsxs)("span",{className:"chat-preview",children:[0===t?'"I need help"':'"Thank you"'," - ",0===t?"11:20 AM":"10:45 AM"]})]}),0===t&&(0,kt.jsx)(Lc.div,{className:"unread-badge",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]},e))})]}),(0,kt.jsxs)(Lc.main,{className:"activity-panel",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[(0,kt.jsx)("div",{className:"panel-header",children:(0,kt.jsx)("h2",{children:"\ud83d\udccb Recent Activity"})}),(0,kt.jsx)("div",{className:"activity-feed",children:n.map((e,t)=>(0,kt.jsxs)(Lc.div,{className:"activity-item",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},whileHover:{scale:1.02,backgroundColor:"#f8f9fa",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,kt.jsx)(Lc.span,{className:"activity-icon",whileHover:{scale:1.2,rotate:10},children:e.icon}),(0,kt.jsxs)("div",{className:"activity-content",children:[(0,kt.jsx)("p",{className:"activity-text",children:e.text}),(0,kt.jsxs)("div",{className:"activity-meta",children:[e.agent&&(0,kt.jsx)("span",{className:"activity-agent",children:e.agent}),e.user&&e.agent&&(0,kt.jsx)("span",{className:"activity-separator",children:" - User "}),e.user&&(0,kt.jsx)("span",{className:"activity-user",children:e.user})]}),(0,kt.jsx)("div",{className:"activity-timestamp",children:e.timestamp})]})]},e.id))})]}),(0,kt.jsxs)(Lc.aside,{className:"calendar-panel",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.6,duration:.6},children:[(0,kt.jsxs)("div",{className:"panel-header",children:[(0,kt.jsx)("h2",{children:"\ud83d\udcc5 Calendar"}),(0,kt.jsx)("p",{className:"calendar-month",children:c.toUpperCase()})]}),(0,kt.jsxs)("div",{className:"calendar-widget",children:[(0,kt.jsx)("div",{className:"calendar-weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,kt.jsx)("div",{className:"weekday-header",children:e},e))}),(0,kt.jsx)("div",{className:"calendar-dates",children:Array.from({length:30},(e,t)=>t+1).map(e=>(0,kt.jsx)(Lc.button,{className:"calendar-date ".concat(6===e?"today":""," ").concat(12===e||25===e?"selected":""),whileHover:{scale:1.1,backgroundColor:"#4a90e2",color:"white"},whileTap:{scale:.9},onClick:()=>t(new Date(2025,5,e)),children:e},e))})]}),(0,kt.jsx)(Lc.div,{className:"calendar-footer",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:(0,kt.jsx)("p",{children:"Select a date"})})]})]})]})},rI=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)("All"),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)([]),{chatId:f}=ge(),{userProfile:p}=uA(),{sendMessage:m,joinChat:g,assignChat:y,transferChat:v}=tI(),b=me(),[w]=(0,i.useState)([{id:"red",name:"@Red",status:"Offline"},{id:"blue",name:"@Blue",status:"Online"},{id:"green",name:"@Green",status:"Assigned"}]),[E]=(0,i.useState)([{id:1,name:"User 1",hasNewMessage:!0},{id:2,name:"User 2",hasNewMessage:!1},{id:3,name:"User 3",hasNewMessage:!1}]);(0,i.useEffect)(()=>{f&&g(f)},[f,g]);return(0,kt.jsxs)("section",{className:"chat-interface-wrapper",children:[(0,kt.jsxs)("aside",{className:"chat-sidebar",children:[(0,kt.jsxs)("div",{className:"chat-filters",children:[(0,kt.jsx)("h3",{children:"Chats"}),(0,kt.jsx)("div",{className:"filter-tabs",children:["All","Assigned","Closed","Unassigned"].map(e=>(0,kt.jsx)("button",{className:"filter-tab ".concat(o===e?"active":""),onClick:()=>l(e),children:e},e))})]}),(0,kt.jsx)("div",{className:"user-list",children:E.map(n=>(0,kt.jsxs)("div",{className:"user-item ".concat((null===e||void 0===e?void 0:e.id)===n.id?"selected":""),onClick:()=>(e=>{t(e)})(n),children:[(0,kt.jsxs)("span",{className:"user-name",children:["@",n.name]}),n.hasNewMessage&&(0,kt.jsx)("span",{className:"new-message-indicator",children:"\u25cf"})]},n.id))})]}),(0,kt.jsxs)("main",{className:"chat-main",children:[(0,kt.jsxs)("div",{className:"chat-header",children:[(0,kt.jsx)("span",{className:"selected-user",children:e?"@".concat(e.name):"@Select a user"}),(0,kt.jsx)("button",{className:"mark-reviewed-btn",onClick:()=>{e&&console.log("Marking chat as reviewed for user:",e.name)},disabled:!e,children:"Mark as Reviewed"}),(0,kt.jsx)("button",{className:"close-chat-btn",children:"\u2716"})]}),(0,kt.jsxs)("div",{className:"chat-messages",children:[c&&(0,kt.jsx)("div",{className:"typing-indicator",children:(0,kt.jsx)("span",{children:"Typing..."})}),!e&&(0,kt.jsx)("div",{className:"no-chat-selected",children:(0,kt.jsx)("p",{children:"No messages yet..."})}),e&&0===h.length&&(0,kt.jsx)("div",{className:"no-messages",children:(0,kt.jsx)("p",{children:"No messages yet..."})})]}),(0,kt.jsxs)("form",{className:"chat-input-form",onSubmit:t=>{t.preventDefault(),n.trim()&&e&&(m({chatId:e.id,message:n,type:"text"}),r(""))},children:[(0,kt.jsx)("input",{type:"text",className:"message-input",value:n,onChange:e=>r(e.target.value),placeholder:"Type your message...",disabled:!e}),(0,kt.jsx)("button",{type:"button",className:"emoji-btn",children:"\ud83d\ude0a"}),(0,kt.jsx)("button",{type:"submit",className:"send-btn",disabled:!e,children:"\u25b6"})]})]}),(0,kt.jsxs)("aside",{className:"agent-panel",children:[(0,kt.jsxs)("div",{className:"agent-controls",children:[(0,kt.jsx)("h3",{children:"Agent Panel"}),(0,kt.jsxs)("div",{className:"agent-selector",children:[(0,kt.jsx)("label",{htmlFor:"agent-select",children:"Select Agent"}),(0,kt.jsxs)("select",{id:"agent-select",value:s,onChange:e=>a(e.target.value),children:[(0,kt.jsx)("option",{value:"",children:"Choose agent..."}),w.map(e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,kt.jsxs)("div",{className:"agent-actions",children:[(0,kt.jsx)("button",{className:"assign-btn",onClick:()=>{s&&e&&y(e.id,s)},disabled:!s||!e,children:"Assign"}),(0,kt.jsx)("button",{className:"unassign-btn",onClick:()=>{e&&y(e.id,null)},disabled:!e,children:"Unassign"}),(0,kt.jsx)("button",{className:"transfer-btn",onClick:()=>{s&&e&&v(e.id,p.uid,s,"Manual transfer")},disabled:!s||!e,children:"Transfer"})]})]}),(0,kt.jsxs)("div",{className:"agents-list",children:[(0,kt.jsx)("h4",{children:"Agents"}),w.map(e=>(0,kt.jsxs)("div",{className:"agent-item",children:[(0,kt.jsx)("span",{className:"agent-name",children:e.name}),(0,kt.jsxs)("span",{className:"agent-status status-".concat(e.status.toLowerCase()),children:["\u25cf ",e.status]})]},e.id))]}),(0,kt.jsx)("div",{className:"manage-agents-link",children:(0,kt.jsx)("button",{className:"manage-agents-btn",onClick:()=>b("/admin/agents"),children:"Manage Agents"})})]})]})},iI=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)({name:"",age:"",dob:"",email:"",username:"",password:""}),{userProfile:s,updateProfile:a}=uA();(0,i.useEffect)(()=>{s&&r({name:"".concat(s.firstName||""," ").concat(s.lastName||"").trim()||"BS",age:s.age||"19 years old",dob:s.dateOfBirth||"01/01/2006",email:s.email||"bala@email.com",username:s.username||"",password:""})},[s]);const o=e=>{r(h(h({},n),{},{[e.target.name]:e.target.value}))};return(0,kt.jsxs)("section",{className:"profile-dashboard-wrapper",children:[(0,kt.jsxs)("header",{className:"profile-dashboard-header",children:[(0,kt.jsx)("h1",{children:"Profile Dashboard"}),(0,kt.jsx)(yt,{to:"/agent/dashboard",className:"btn btn-outline",children:"\u2190 Back to Dashboard"})]}),(0,kt.jsxs)("main",{className:"profile-dashboard-content",children:[(0,kt.jsxs)("div",{className:"profile-info-section",children:[(0,kt.jsx)("div",{className:"profile-avatar",children:(0,kt.jsx)("span",{className:"avatar-initials",children:n.name})}),(0,kt.jsxs)("form",{className:"profile-form",onSubmit:async e=>{e.preventDefault();const r=n.name.split(" "),i={firstName:r[0]||"",lastName:r.slice(1).join(" ")||"",age:n.age,dateOfBirth:n.dob,email:n.email};(await a(i)).success&&t(!1)},children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Age:"}),(0,kt.jsx)("input",{type:"text",name:"age",value:n.age,onChange:o,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"DOB:"}),(0,kt.jsx)("input",{type:"date",name:"dob",value:n.dob,onChange:o,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Email:"}),(0,kt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:o,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Username:"}),(0,kt.jsx)("input",{type:"text",name:"username",value:n.username,onChange:o,disabled:!0,title:"Username can only be changed by admin"})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Password:"}),(0,kt.jsx)("input",{type:"password",name:"password",value:n.password,onChange:o,disabled:!0,placeholder:"Password can only be changed by admin",title:"Password can only be changed by admin"})]}),(0,kt.jsxs)("div",{className:"form-actions",children:[!e&&(0,kt.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{t(!0)},children:"EDIT"}),e&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{t(!1),s&&r({name:"".concat(s.firstName||""," ").concat(s.lastName||"").trim()||"BS",age:s.age||"19 years old",dob:s.dateOfBirth||"01/01/2006",email:s.email||"bala@email.com",username:s.username||"",password:""})},children:"Cancel"}),(0,kt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})]})]}),(0,kt.jsxs)("div",{className:"agent-overview-section",children:[(0,kt.jsx)("h2",{children:"\ud83d\udc65 Agent Overview"}),(0,kt.jsxs)("div",{className:"overview-stats",children:[(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Chats Handled:"}),(0,kt.jsx)("span",{className:"stat-value",children:"24"})]}),(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Average Response Time:"}),(0,kt.jsx)("span",{className:"stat-value",children:"2.3 minutes"})]}),(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Customer Rating:"}),(0,kt.jsx)("span",{className:"stat-value",children:"4.8/5"})]})]})]}),(0,kt.jsxs)("div",{className:"analytics-section",children:[(0,kt.jsx)("h2",{children:"\ud83d\udcc8 Activity Analytics"}),(0,kt.jsx)("div",{className:"analytics-placeholder",children:(0,kt.jsx)("p",{children:"(Graph Placeholder)"})}),(0,kt.jsxs)("div",{className:"analytics-summary",children:[(0,kt.jsxs)("div",{className:"summary-item",children:[(0,kt.jsx)("span",{className:"summary-label",children:"Today's Activity:"}),(0,kt.jsx)("span",{className:"summary-value",children:"5 chats"})]}),(0,kt.jsxs)("div",{className:"summary-item",children:[(0,kt.jsx)("span",{className:"summary-label",children:"This Week:"}),(0,kt.jsx)("span",{className:"summary-value",children:"28 chats"})]}),(0,kt.jsxs)("div",{className:"summary-item",children:[(0,kt.jsx)("span",{className:"summary-label",children:"This Month:"}),(0,kt.jsx)("span",{className:"summary-value",children:"112 chats"})]})]})]})]})]})},sI=()=>{const{notifications:e,markNotificationAsRead:t}=tI(),[n,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{e.length?r(e):r([{id:1,icon:"\ud83e\uddd1\ud83d\udcbb",label:"Chana",tag:"New User",meta1:"Agent assigned",meta2:"@Blue-User \u27a1 @John",meta3:"Agent transfer",meta4:"@Cool to @Blue-User \u27a1 @John"}])},[e]),(0,kt.jsxs)("section",{className:"notifications-wrapper agent-notifications",children:[(0,kt.jsxs)("header",{className:"notifications-header",children:[(0,kt.jsx)("h2",{children:"\ud83d\udd14 Notifications"}),(0,kt.jsx)(yt,{to:"/agent/dashboard",className:"btn btn-outline",children:"\u2190 Back to Dashboard"})]}),(0,kt.jsxs)("main",{className:"notifications-content",children:[n.map(e=>(0,kt.jsxs)("div",{className:"notification-item ".concat(e.read?"read":"unread"),onClick:()=>t(e.id),children:[(0,kt.jsx)("span",{className:"notif-icon",children:e.icon}),(0,kt.jsxs)("div",{className:"notif-body",children:[(0,kt.jsx)("strong",{children:e.label})," \u2013 ",e.tag,(0,kt.jsx)("div",{className:"notif-meta",children:e.meta1}),(0,kt.jsx)("div",{className:"notif-meta",children:e.meta2}),e.meta3&&(0,kt.jsx)("div",{className:"notif-meta",children:e.meta3}),e.meta4&&(0,kt.jsx)("div",{className:"notif-meta",children:e.meta4})]})]},e.id)),!n.length&&(0,kt.jsx)("div",{className:"no-notifications",children:"No notifications right now."})]})]})},aI=()=>{const[e,t]=(0,i.useState)({username:"",password:""}),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),{login:c}=uA(),u=me(),d=i=>{t(h(h({},e),{},{[i.target.name]:i.target.value})),n&&r("")};return(0,kt.jsxs)("div",{className:"login-page-wrapper admin-wrapper",children:[(0,kt.jsxs)("div",{className:"login-background admin-bg",children:[(0,kt.jsx)(Lc.div,{className:"crown-float",animate:{y:[0,-20,0],rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0},children:"\ud83d\udc51"}),(0,kt.jsx)(Lc.div,{className:"bg-circle admin-circle-1",animate:{x:[0,120,0],y:[0,-60,0],scale:[1,1.3,1]},transition:{duration:25,repeat:1/0}}),(0,kt.jsx)(Lc.div,{className:"bg-circle admin-circle-2",animate:{x:[0,-100,0],y:[0,80,0],scale:[1.3,1,1.3]},transition:{duration:18,repeat:1/0}})]}),(0,kt.jsx)(Lc.section,{className:"login-wrapper admin-login",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,type:"spring"},children:(0,kt.jsxs)(Lc.div,{className:"login-card admin-card",whileHover:{boxShadow:"0 25px 50px rgba(220, 20, 60, 0.2)",y:-10},transition:{type:"spring",stiffness:300},children:[(0,kt.jsxs)(Lc.header,{className:"login-header admin-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[(0,kt.jsx)(Lc.h1,{className:"login-title admin-title",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:4,repeat:1/0},children:"ADMIN"}),(0,kt.jsx)("p",{className:"login-subtitle",children:"Chat App - Admin Login"}),(0,kt.jsxs)("div",{className:"login-toggle",children:[(0,kt.jsx)("span",{children:"Agent Login?"}),(0,kt.jsx)(yt,{to:"/agent-login",className:"toggle-link agent-toggle",children:(0,kt.jsx)(Lc.span,{whileHover:{scale:1.05,color:"#dc143c"},whileTap:{scale:.95},children:"AGENT"})})]})]}),(0,kt.jsxs)(Lc.form,{className:"login-form admin-form",onSubmit:async t=>{t.preventDefault(),a(!0);const{success:n,error:i}=await c(e.username.trim(),e.password.trim(),"admin");if(a(!1),!n)return r(i);u("/admin/dashboard")},initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.6},children:[(0,kt.jsxs)(Lc.div,{className:"form-group",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7,duration:.5},children:[(0,kt.jsx)("label",{htmlFor:"username",children:"Username"}),(0,kt.jsx)(Lc.input,{id:"username",name:"username",type:"text",placeholder:"Enter your username",value:e.username,onChange:d,onFocus:()=>l("username"),onBlur:()=>l(null),required:!0,whileFocus:{scale:1.02,boxShadow:"0 0 0 3px rgba(220, 20, 60, 0.2)",borderColor:"#dc143c"},animate:{borderColor:"username"===o?"#dc143c":"#ddd"},transition:{duration:.2}}),(0,kt.jsx)(Lc.small,{className:"form-help",animate:{color:"username"===o?"#dc143c":"#666"},children:"Please enter your username."})]}),(0,kt.jsxs)(Lc.div,{className:"form-group",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.9,duration:.5},children:[(0,kt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,kt.jsx)(Lc.input,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:d,onFocus:()=>l("password"),onBlur:()=>l(null),required:!0,minLength:6,whileFocus:{scale:1.02,boxShadow:"0 0 0 3px rgba(220, 20, 60, 0.2)",borderColor:"#dc143c"},animate:{borderColor:"password"===o?"#dc143c":"#ddd"},transition:{duration:.2}}),(0,kt.jsx)(Lc.small,{className:"form-help",animate:{color:"password"===o?"#dc143c":"#666"},children:"Password must be at least 6 characters."})]}),(0,kt.jsx)(Bt,{children:n&&(0,kt.jsxs)(Lc.div,{className:"error-message admin-error",initial:{opacity:0,y:-10,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.8},transition:{duration:.3},children:[(0,kt.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),n]})}),(0,kt.jsx)(Lc.button,{type:"submit",className:"login-btn admin-btn",disabled:s,whileHover:{scale:1.02,boxShadow:"0 8px 25px rgba(220, 20, 60, 0.3)"},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.5},children:(0,kt.jsx)(Bt,{mode:"wait",children:s?(0,kt.jsxs)(Lc.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"loading-content",children:[(0,kt.jsx)(Lc.div,{className:"loading-spinner admin-spinner",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"Logging in..."]},"loading"):(0,kt.jsx)(Lc.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:"LOGIN"},"login")})})]})]})})]})},oI=()=>{const[e,t]=(0,i.useState)({totalChats:0,activeAgents:0,unreadMessages:0,resolvedToday:0}),[n,r]=(0,i.useState)([]),{logout:s}=uA(),{activeChats:a,notifications:o}=tI(),l=me();(0,i.useEffect)(()=>{t({totalChats:42,activeAgents:8,unreadMessages:15,resolvedToday:23}),r([{id:1,icon:"\ud83d\udc51",text:"System Performance Report Generated",detail:"Daily analytics ready for review",timestamp:"2 minutes ago",type:"system"},{id:2,icon:"\ud83d\udc68\u200d\ud83d\udcbc",text:"New Agent Registration",detail:"Agent @Storm added to support team",timestamp:"15 minutes ago",type:"agent"},{id:3,icon:"\u26a0\ufe0f",text:"High Volume Alert",detail:"12 unassigned chats require attention",timestamp:"30 minutes ago",type:"alert"},{id:4,icon:"\ud83d\udcca",text:"Customer Satisfaction Score Updated",detail:"Current rating: 4.7/5 stars (\u21910.2)",timestamp:"1 hour ago",type:"metric"}])},[]);return(0,kt.jsxs)("div",{className:"admin-dashboard-container",children:[(0,kt.jsxs)(Lc.header,{className:"admin-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,kt.jsx)("div",{className:"admin-header-left",children:(0,kt.jsx)(Lc.h1,{className:"admin-logo",whileHover:{scale:1.05},children:"\ud83d\udc51 Admin Dashboard"})}),(0,kt.jsxs)("nav",{className:"admin-navigation",children:[(0,kt.jsx)(Lc.button,{className:"admin-nav-btn active",whileHover:{scale:1.05,backgroundColor:"#dc143c"},children:"Dashboard"}),(0,kt.jsx)(Lc.button,{className:"admin-nav-btn",whileHover:{scale:1.05,backgroundColor:"#dc143c"},onClick:()=>l("/admin/profile"),children:"Profile"}),(0,kt.jsx)(Lc.button,{className:"admin-nav-btn",whileHover:{scale:1.05,backgroundColor:"#dc143c"},onClick:()=>l("/admin/agents"),children:"Profile Dashboard"}),(0,kt.jsx)(Lc.button,{className:"admin-nav-btn",whileHover:{scale:1.05,backgroundColor:"#dc143c"},onClick:()=>l("/admin/notifications"),children:"Notifications"}),(0,kt.jsx)(Lc.button,{className:"admin-nav-btn",whileHover:{scale:1.05,backgroundColor:"#dc143c"},onClick:()=>l("/admin/chat"),children:"Chat"}),(0,kt.jsx)(Lc.button,{className:"admin-nav-btn admin-logout",whileHover:{scale:1.05,backgroundColor:"#dc3545"},onClick:async()=>{await s(),l("/admin-login")},children:"Logout"})]})]}),(0,kt.jsx)(Lc.section,{className:"admin-stats-section",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:(0,kt.jsxs)("div",{className:"stats-grid",children:[(0,kt.jsxs)(Lc.div,{className:"stat-card",whileHover:{scale:1.05,y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,kt.jsx)(Lc.div,{className:"stat-icon",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},children:"\ud83d\udcac"}),(0,kt.jsxs)("div",{className:"stat-info",children:[(0,kt.jsx)(Lc.h3,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:e.totalChats}),(0,kt.jsx)("p",{children:"Total Chats"})]})]}),(0,kt.jsxs)(Lc.div,{className:"stat-card",whileHover:{scale:1.05,y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,kt.jsx)(Lc.div,{className:"stat-icon",animate:{scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},children:"\ud83d\udc65"}),(0,kt.jsxs)("div",{className:"stat-info",children:[(0,kt.jsx)("h3",{children:e.activeAgents}),(0,kt.jsx)("p",{children:"Active Agents"})]})]}),(0,kt.jsxs)(Lc.div,{className:"stat-card",whileHover:{scale:1.05,y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[(0,kt.jsx)(Lc.div,{className:"stat-icon",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2.5,repeat:1/0},children:"\ud83d\udce8"}),(0,kt.jsxs)("div",{className:"stat-info",children:[(0,kt.jsx)("h3",{children:e.unreadMessages}),(0,kt.jsx)("p",{children:"Unread Messages"})]})]}),(0,kt.jsxs)(Lc.div,{className:"stat-card",whileHover:{scale:1.05,y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,kt.jsx)(Lc.div,{className:"stat-icon",animate:{scale:[1,1.2,1]},transition:{duration:3.5,repeat:1/0},children:"\u2705"}),(0,kt.jsxs)("div",{className:"stat-info",children:[(0,kt.jsx)("h3",{children:e.resolvedToday}),(0,kt.jsx)("p",{children:"Resolved Today"})]})]})]})}),(0,kt.jsxs)("div",{className:"admin-content-layout",children:[(0,kt.jsxs)(Lc.section,{className:"quick-actions-panel",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.7,duration:.6},children:[(0,kt.jsx)("h2",{children:"\ud83d\ude80 Quick Actions"}),(0,kt.jsxs)("div",{className:"actions-grid",children:[(0,kt.jsxs)(Lc.button,{className:"action-button",whileHover:{scale:1.05,backgroundColor:"#4a90e2",boxShadow:"0 8px 20px rgba(74, 144, 226, 0.3)"},whileTap:{scale:.95},onClick:()=>l("/admin/agents"),children:[(0,kt.jsx)("span",{className:"action-icon",children:"\ud83d\udc65"}),(0,kt.jsx)("span",{className:"action-text",children:"Manage Agents"})]}),(0,kt.jsxs)(Lc.button,{className:"action-button",whileHover:{scale:1.05,backgroundColor:"#28a745",boxShadow:"0 8px 20px rgba(40, 167, 69, 0.3)"},whileTap:{scale:.95},onClick:()=>l("/admin/chat"),children:[(0,kt.jsx)("span",{className:"action-icon",children:"\ud83d\udcac"}),(0,kt.jsx)("span",{className:"action-text",children:"Monitor Chats"})]}),(0,kt.jsxs)(Lc.button,{className:"action-button",whileHover:{scale:1.05,backgroundColor:"#ffc107",boxShadow:"0 8px 20px rgba(255, 193, 7, 0.3)"},whileTap:{scale:.95},onClick:()=>l("/admin/analytics"),children:[(0,kt.jsx)("span",{className:"action-icon",children:"\ud83d\udcca"}),(0,kt.jsx)("span",{className:"action-text",children:"View Analytics"})]}),(0,kt.jsxs)(Lc.button,{className:"action-button",whileHover:{scale:1.05,backgroundColor:"#17a2b8",boxShadow:"0 8px 20px rgba(23, 162, 184, 0.3)"},whileTap:{scale:.95},onClick:()=>l("/admin/settings"),children:[(0,kt.jsx)("span",{className:"action-icon",children:"\u2699\ufe0f"}),(0,kt.jsx)("span",{className:"action-text",children:"System Settings"})]})]})]}),(0,kt.jsxs)(Lc.section,{className:"system-activity-panel",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:[(0,kt.jsx)("h2",{children:"\ud83d\udccb System Activity"}),(0,kt.jsx)("div",{className:"activity-feed",children:n.map((e,t)=>(0,kt.jsxs)(Lc.div,{className:"system-activity-item ".concat(e.type),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9+.1*t},whileHover:{scale:1.02,backgroundColor:"#f8f9fa",boxShadow:"0 6px 15px rgba(0,0,0,0.1)"},children:[(0,kt.jsx)(Lc.span,{className:"system-activity-icon",whileHover:{scale:1.3,rotate:15},children:e.icon}),(0,kt.jsxs)("div",{className:"system-activity-content",children:[(0,kt.jsx)("p",{className:"system-activity-text",children:e.text}),(0,kt.jsx)("p",{className:"system-activity-detail",children:e.detail}),(0,kt.jsx)("div",{className:"system-activity-timestamp",children:e.timestamp})]}),(0,kt.jsx)(Lc.div,{className:"activity-type-indicator ".concat(e.type),animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0}})]},e.id))})]})]})]})},lI=(0,i.createContext)(),cI={chats:[],activeChats:[],assignedChats:[],unassignedChats:[],closedChats:[],currentChat:null,messages:{},unreadCounts:{},totalUnreadCount:0,chatFilters:{status:"all",agent:"all",priority:"all"},isLoading:!1,error:null,lastActivity:{},typingUsers:{}},uI="SET_LOADING",hI="SET_ERROR",dI="CLEAR_ERROR",fI="SET_CHATS",pI="ADD_CHAT",mI="UPDATE_CHAT",gI="REMOVE_CHAT",yI="SET_CURRENT_CHAT",vI="SET_MESSAGES",bI="ADD_MESSAGE",wI="UPDATE_MESSAGE",EI="SET_UNREAD_COUNT",xI="UPDATE_UNREAD_COUNTS",SI="SET_CHAT_FILTERS",_I="SET_LAST_ACTIVITY",kI="SET_TYPING_USERS",TI="RESET_CHAT_STATE",CI=(e,t)=>{var n,r;switch(t.type){case uI:return h(h({},e),{},{isLoading:t.payload});case hI:return h(h({},e),{},{error:t.payload,isLoading:!1});case dI:return h(h({},e),{},{error:null});case fI:const i=t.payload;return h(h({},e),{},{chats:i,activeChats:i.filter(e=>"active"===e.status),assignedChats:i.filter(e=>"assigned"===e.status),unassignedChats:i.filter(e=>"unassigned"===e.status),closedChats:i.filter(e=>"closed"===e.status),isLoading:!1});case pI:const s=t.payload,a=[...e.chats,s];return h(h({},e),{},{chats:a,activeChats:a.filter(e=>"active"===e.status),assignedChats:a.filter(e=>"assigned"===e.status),unassignedChats:a.filter(e=>"unassigned"===e.status),closedChats:a.filter(e=>"closed"===e.status)});case mI:const o=e.chats.map(e=>e.id===t.payload.id?h(h({},e),t.payload):e);return h(h({},e),{},{chats:o,activeChats:o.filter(e=>"active"===e.status),assignedChats:o.filter(e=>"assigned"===e.status),unassignedChats:o.filter(e=>"unassigned"===e.status),closedChats:o.filter(e=>"closed"===e.status),currentChat:(null===(n=e.currentChat)||void 0===n?void 0:n.id)===t.payload.id?h(h({},e.currentChat),t.payload):e.currentChat});case gI:const l=e.chats.filter(e=>e.id!==t.payload);return h(h({},e),{},{chats:l,activeChats:l.filter(e=>"active"===e.status),assignedChats:l.filter(e=>"assigned"===e.status),unassignedChats:l.filter(e=>"unassigned"===e.status),closedChats:l.filter(e=>"closed"===e.status),currentChat:(null===(r=e.currentChat)||void 0===r?void 0:r.id)===t.payload?null:e.currentChat});case yI:return h(h({},e),{},{currentChat:t.payload});case vI:return h(h({},e),{},{messages:h(h({},e.messages),{},{[t.payload.chatId]:t.payload.messages})});case bI:const{chatId:c,message:u}=t.payload,d=e.messages[c]||[];return h(h({},e),{},{messages:h(h({},e.messages),{},{[c]:[...d,u]})});case wI:const{chatId:f,messageId:p,updates:m}=t.payload,g=e.messages[f]||[];return h(h({},e),{},{messages:h(h({},e.messages),{},{[f]:g.map(e=>e.id===p?h(h({},e),m):e)})});case EI:const{chatId:y,count:v}=t.payload,b=h(h({},e.unreadCounts),{},{[y]:v});return h(h({},e),{},{unreadCounts:b,totalUnreadCount:Object.values(b).reduce((e,t)=>e+t,0)});case xI:const w=Object.values(t.payload).reduce((e,t)=>e+t,0);return h(h({},e),{},{unreadCounts:t.payload,totalUnreadCount:w});case SI:return h(h({},e),{},{chatFilters:h(h({},e.chatFilters),t.payload)});case _I:return h(h({},e),{},{lastActivity:h(h({},e.lastActivity),{},{[t.payload.chatId]:t.payload.timestamp})});case kI:return h(h({},e),{},{typingUsers:h(h({},e.typingUsers),{},{[t.payload.chatId]:t.payload.users})});case TI:return cI;default:return e}},AI=e=>{let{children:t}=e;const[n,r]=(0,i.useReducer)(CI,cI),{user:s,userProfile:a,isAuthenticated:o}=uA(),{socket:l,isConnected:c}=tI();(0,i.useEffect)(()=>{if(!o||!s)return;let e;r({type:uI,payload:!0});try{const t=O_(QC,"chats");let n;"admin"===(null===a||void 0===a?void 0:a.role)?n=xk(t,Tk("updatedAt","desc"),Ak(100)):"agent"===(null===a||void 0===a?void 0:a.role)&&(n=xk(t,function(e,t,n){const r=t,i=vk("where",e);return Sk._create(i,r,n)}("assignedAgent","in",[s.uid,null,""]),Tk("updatedAt","desc"),Ak(50))),n&&(e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=qu(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||U_(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(U_(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof R_)h=__(e.firestore,V_),d=hb(e._key.path),u={next:t=>{n[l]&&n[l](zk(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=__(e,P_);h=__(t.firestore,V_),d=t._query;const r=new Uk(h);u={next:e=>{n[l]&&n[l](new Mk(h,r,t,e))},error:n[l+1],complete:n[l+2]},bk(e._query)}return function(e,t,n,r){const i=new o_(r),s=new CS(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>wS(await m_(e),s)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>ES(await m_(e),s))}}(B_(h),d,c,u)}(n,e=>{const t=[];e.forEach(e=>{var n,r;t.push(h(h({id:e.id},e.data()),{},{createdAt:null===(n=e.data().createdAt)||void 0===n?void 0:n.toDate(),updatedAt:null===(r=e.data().updatedAt)||void 0===r?void 0:r.toDate()}))}),r({type:fI,payload:t})},e=>{console.error("Error fetching chats:",e),r({type:hI,payload:e.message})}))}catch(t){console.error("Error setting up chat subscription:",t),r({type:hI,payload:t.message})}return()=>{e&&e()}},[o,s,a]),(0,i.useEffect)(()=>{if(!l||!c)return;const e=e=>{var t;if(r({type:bI,payload:{chatId:e.chatId,message:e}}),(null===(t=n.currentChat)||void 0===t?void 0:t.id)!==e.chatId){const t=n.unreadCounts[e.chatId]||0;r({type:EI,payload:{chatId:e.chatId,count:t+1}})}r({type:_I,payload:{chatId:e.chatId,timestamp:new Date}})},t=e=>{r({type:mI,payload:e})},i=e=>{const t=[...(n.typingUsers[e.chatId]||[]).filter(t=>t.userId!==e.userId),e];r({type:kI,payload:{chatId:e.chatId,users:t}})},s=e=>{const t=(n.typingUsers[e.chatId]||[]).filter(t=>t.userId!==e.userId);r({type:kI,payload:{chatId:e.chatId,users:t}})};return window.addEventListener("messageReceived",t=>e(t.detail)),l.on("chat_updated",t),l.on("user_typing",i),l.on("user_stopped_typing",s),()=>{window.removeEventListener("messageReceived",e),l.off("chat_updated",t),l.off("user_typing",i),l.off("user_stopped_typing",s)}},[l,c,n.currentChat,n.unreadCounts,n.typingUsers]);const u=(0,i.useCallback)(async e=>{try{r({type:uI,payload:!0});const t=h(h({},e),{},{status:"unassigned",createdAt:Hk(),updatedAt:Hk(),createdBy:s.uid}),n=await function(e,t){const n=__(e.firestore,V_),r=j_(e),i=Dk(e.converter,t);return Bk(n,[tk(ek(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rw.exists(!1))]).then(()=>r)}(O_(QC,"chats"),t),i=h(h({id:n.id},t),{},{createdAt:new Date,updatedAt:new Date});return r({type:pI,payload:i}),r({type:uI,payload:!1}),{success:!0,chatId:n.id}}catch(t){return console.error("Error creating chat:",t),r({type:hI,payload:t.message}),{success:!1,error:t.message}}},[s]),d=(0,i.useCallback)(async(e,t)=>{try{const n=j_(QC,"chats",e);return await Vk(n,h(h({},t),{},{updatedAt:Hk()})),r({type:mI,payload:h(h({id:e},t),{},{updatedAt:new Date})}),{success:!0}}catch(n){return console.error("Error updating chat:",n),r({type:hI,payload:n.message}),{success:!1,error:n.message}}},[]),f=(0,i.useCallback)(async(e,t)=>await d(e,{assignedAgent:t,status:"assigned",assignedAt:Hk(),assignedBy:s.uid}),[d,s]),p=(0,i.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return await d(e,{status:"closed",closedAt:Hk(),closedBy:s.uid,closeReason:t})},[d,s]),m=(0,i.useCallback)(e=>{r({type:EI,payload:{chatId:e,count:0}})},[]),g=(0,i.useCallback)(e=>{r({type:yI,payload:e}),e&&m(e.id)},[m]),y=(0,i.useCallback)(e=>{r({type:SI,payload:e})},[]),v=(0,i.useCallback)(()=>{let e=n.chats;return"all"!==n.chatFilters.status&&(e=e.filter(e=>e.status===n.chatFilters.status)),"all"!==n.chatFilters.agent&&(e=e.filter(e=>e.assignedAgent===n.chatFilters.agent)),"all"!==n.chatFilters.priority&&(e=e.filter(e=>e.priority===n.chatFilters.priority)),e},[n.chats,n.chatFilters]),b=(0,i.useCallback)(async e=>{try{const t=n.messages[e];if(t)return t;const i=xk(O_(QC,"chats",e,"messages"),Tk("timestamp","asc")),s=await function(e){e=__(e,P_);const t=__(e.firestore,V_),n=B_(t),r=new Uk(t);return bk(e._query),y_(n,e._query).then(n=>new Mk(t,r,e,n))}(i),a=[];return s.forEach(e=>{var t;a.push(h(h({id:e.id},e.data()),{},{timestamp:null===(t=e.data().timestamp)||void 0===t?void 0:t.toDate()}))}),r({type:vI,payload:{chatId:e,messages:a}}),a}catch(t){return console.error("Error fetching messages:",t),r({type:hI,payload:t.message}),[]}},[n.messages]),w=(0,i.useCallback)(()=>{r({type:dI})},[]),E=h(h({},n),{},{createChat:u,updateChat:d,assignChat:f,closeChat:p,setCurrentChat:g,getChatMessages:b,markChatAsRead:m,setChatFilters:y,getFilteredChats:v,clearError:w,hasUnreadChats:n.totalUnreadCount>0,getUnreadCount:e=>n.unreadCounts[e]||0,isUserTyping:(e,t)=>(n.typingUsers[e]||[]).some(e=>e.userId===t),getChatById:e=>n.chats.find(t=>t.id===e),getRecentChats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return n.chats.sort((e,t)=>(t.updatedAt||0)-(e.updatedAt||0)).slice(0,e)}});return(0,kt.jsx)(lI.Provider,{value:E,children:t})},NI=()=>{const e=(0,i.useContext)(lI);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},II=()=>{var e,t;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("All"),[d,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)([]),[g,y]=(0,i.useState)(!1),{chatId:v}=ge(),{userProfile:b}=uA(),{sendMessage:w,joinChat:E,assignChat:x,transferChat:S}=tI(),{chats:_,currentChat:k,setCurrentChat:T,getChatMessages:C,markChatAsRead:A}=NI(),N=me(),[I]=(0,i.useState)([{id:"agent1",name:"@Red",status:"Offline",email:"red@agent.com"},{id:"agent2",name:"@Blue",status:"Online",email:"blue@agent.com"},{id:"agent3",name:"@Green",status:"Assigned",email:"green@agent.com"},{id:"agent4",name:"@Yellow",status:"Online",email:"yellow@agent.com"},{id:"agent5",name:"@Purple",status:"Busy",email:"purple@agent.com"}]),P=_.filter(e=>{switch(c){case"Assigned":return"assigned"===e.status;case"Closed":return"closed"===e.status;case"Unassigned":return"unassigned"===e.status;default:return!0}});(0,i.useEffect)(()=>{if(v){E(v);const e=_.find(e=>e.id===v);e&&(T(e),r(e),R(v))}},[v,_,E,T]);const R=async e=>{try{const t=await C(e);m(t||[])}catch(t){console.error("Error loading messages:",t)}},D=e=>{const t=I.find(t=>t.id===e);return t?t.name:"Unassigned"},O=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"online":return"#28a745";case"offline":default:return"#6c757d";case"assigned":return"#ffc107";case"busy":return"#dc3545"}};return(0,kt.jsxs)("section",{className:"chat-interface-wrapper admin-chat-panel ".concat(g?"fullscreen":""),children:[(0,kt.jsxs)("aside",{className:"chat-sidebar",children:[(0,kt.jsxs)("div",{className:"chat-filters",children:[(0,kt.jsx)("h3",{children:"All Chats (Admin View)"}),(0,kt.jsx)("div",{className:"filter-tabs",children:["All","Assigned","Closed","Unassigned"].map(e=>(0,kt.jsxs)("button",{className:"filter-tab ".concat(c===e?"active":""),onClick:()=>u(e),children:[e,(0,kt.jsxs)("span",{className:"chat-count",children:["(","All"===e?_.length:_.filter(t=>{switch(e){case"Assigned":return"assigned"===t.status;case"Closed":return"closed"===t.status;case"Unassigned":return"unassigned"===t.status;default:return!0}}).length,")"]})]},e))})]}),(0,kt.jsxs)("div",{className:"user-list",children:[P.map(e=>(0,kt.jsxs)("div",{className:"user-item ".concat((null===n||void 0===n?void 0:n.id)===e.id?"selected":""),onClick:()=>(async e=>{r(e),T(e),A(e.id),await R(e.id),N("/admin/chat/".concat(e.id))})(e),children:[(0,kt.jsxs)("div",{className:"user-info",children:[(0,kt.jsxs)("span",{className:"user-name",children:["@",e.customerName||"User ".concat(e.id.slice(-4))]}),(0,kt.jsx)("span",{className:"chat-status",children:e.status})]}),(0,kt.jsxs)("div",{className:"chat-meta",children:[(0,kt.jsx)("span",{className:"assigned-agent",children:e.assignedAgent?D(e.assignedAgent):"Unassigned"}),e.unreadCount>0&&(0,kt.jsx)("span",{className:"unread-count",children:e.unreadCount})]})]},e.id)),0===P.length&&(0,kt.jsx)("div",{className:"no-chats",children:(0,kt.jsxs)("p",{children:["No ",c.toLowerCase()," chats found."]})})]})]}),(0,kt.jsxs)("main",{className:"chat-main",children:[(0,kt.jsxs)("div",{className:"chat-header",children:[(0,kt.jsxs)("div",{className:"chat-info",children:[(0,kt.jsx)("span",{className:"selected-user",children:n?"@".concat(n.customerName||"Customer"):"@Select a chat"}),n&&(0,kt.jsxs)("span",{className:"chat-id",children:["ID: ",n.id.slice(-8)]})]}),(0,kt.jsxs)("div",{className:"chat-actions",children:[(0,kt.jsx)("button",{className:"mark-reviewed-btn",onClick:async()=>{n&&console.log("Marking chat as reviewed for user:",n.customerName)},disabled:!n,title:"Mark as Reviewed",children:"\u2713 Mark as Reviewed"}),(0,kt.jsx)("button",{className:"fullscreen-btn",onClick:()=>{y(!g)},title:"Toggle Fullscreen",children:g?"\u22a1":"\u229e"}),(0,kt.jsx)("button",{className:"close-chat-btn",onClick:async()=>{n&&window.confirm("Are you sure you want to close this chat?")&&console.log("Closing chat:",n.id)},disabled:!n,title:"Close Chat",children:"\u2716"})]})]}),(0,kt.jsxs)("div",{className:"chat-messages",children:[d&&(0,kt.jsx)("div",{className:"typing-indicator",children:(0,kt.jsx)("span",{children:"Customer is typing..."})}),!n&&(0,kt.jsxs)("div",{className:"no-chat-selected",children:[(0,kt.jsx)("h3",{children:"\ud83d\udcac Admin Chat Management"}),(0,kt.jsx)("p",{children:"Select a chat from the sidebar to begin managing customer conversations."}),(0,kt.jsxs)("div",{className:"admin-stats",children:[(0,kt.jsxs)("div",{className:"stat",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Total Chats:"}),(0,kt.jsx)("span",{className:"stat-value",children:_.length})]}),(0,kt.jsxs)("div",{className:"stat",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Unassigned:"}),(0,kt.jsx)("span",{className:"stat-value",children:_.filter(e=>"unassigned"===e.status).length})]}),(0,kt.jsxs)("div",{className:"stat",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Active:"}),(0,kt.jsx)("span",{className:"stat-value",children:_.filter(e=>"assigned"===e.status).length})]})]})]}),n&&0===p.length&&(0,kt.jsxs)("div",{className:"no-messages",children:[(0,kt.jsx)("p",{children:"No messages in this conversation yet..."}),(0,kt.jsxs)("small",{children:["Chat created: ",null===(e=n.createdAt)||void 0===e?void 0:e.toLocaleString()]})]}),n&&p.length>0&&(0,kt.jsx)("div",{className:"message-history",children:p.map((e,t)=>{var n;return(0,kt.jsxs)("div",{className:"message ".concat("customer"===e.senderRole?"customer":"agent"),children:[(0,kt.jsx)("div",{className:"message-avatar",children:"customer"===e.senderRole?"\ud83d\udc64":"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,kt.jsxs)("div",{className:"message-content",children:[(0,kt.jsxs)("div",{className:"message-header",children:[(0,kt.jsx)("span",{className:"sender-name",children:e.senderName||("customer"===e.senderRole?"Customer":"Agent")}),(0,kt.jsx)("span",{className:"message-time",children:null===(n=e.timestamp)||void 0===n?void 0:n.toLocaleTimeString()})]}),(0,kt.jsx)("div",{className:"message-text",children:e.content||e.text})]})]},e.id||t)})})]}),(0,kt.jsxs)("form",{className:"chat-input-form",onSubmit:e=>{if(e.preventDefault(),!s.trim()||!n)return;w({chatId:n.id,message:s,type:"text"}).success&&a("")},children:[(0,kt.jsx)("input",{type:"text",className:"message-input",value:s,onChange:e=>a(e.target.value),placeholder:n?"Type your admin message...":"Select a chat to send messages",disabled:!n}),(0,kt.jsx)("button",{type:"button",className:"emoji-btn",disabled:!n,children:"\ud83d\ude0a"}),(0,kt.jsx)("button",{type:"submit",className:"send-btn",disabled:!n||!s.trim(),children:"\u25b6"})]})]}),(0,kt.jsxs)("aside",{className:"agent-panel admin-panel",children:[(0,kt.jsxs)("div",{className:"agent-controls",children:[(0,kt.jsx)("h3",{children:"\ud83d\udc51 Admin Controls"}),n&&(0,kt.jsxs)("div",{className:"chat-details",children:[(0,kt.jsxs)("div",{className:"detail-item",children:[(0,kt.jsx)("label",{children:"Customer:"}),(0,kt.jsx)("span",{children:n.customerName||"Anonymous"})]}),(0,kt.jsxs)("div",{className:"detail-item",children:[(0,kt.jsx)("label",{children:"Status:"}),(0,kt.jsx)("span",{className:"status-badge ".concat(n.status),children:n.status})]}),(0,kt.jsxs)("div",{className:"detail-item",children:[(0,kt.jsx)("label",{children:"Current Agent:"}),(0,kt.jsx)("span",{children:n.assignedAgent?D(n.assignedAgent):"Unassigned"})]}),(0,kt.jsxs)("div",{className:"detail-item",children:[(0,kt.jsx)("label",{children:"Created:"}),(0,kt.jsx)("span",{children:null===(t=n.createdAt)||void 0===t?void 0:t.toLocaleDateString()})]})]}),(0,kt.jsxs)("div",{className:"agent-selector",children:[(0,kt.jsx)("label",{htmlFor:"agent-select",children:"Assign to Agent:"}),(0,kt.jsxs)("select",{id:"agent-select",value:o,onChange:e=>l(e.target.value),children:[(0,kt.jsx)("option",{value:"",children:"Choose agent..."}),I.map(e=>(0,kt.jsxs)("option",{value:e.id,disabled:"Offline"===e.status,children:[e.name," (",e.status,")"]},e.id))]})]}),(0,kt.jsxs)("div",{className:"agent-actions",children:[(0,kt.jsx)("button",{className:"assign-btn",onClick:async()=>{if(o&&n){(await x(n.id,o)).success&&r(h(h({},n),{},{assignedAgent:o,status:"assigned"}))}},disabled:!o||!n,title:"Assign chat to selected agent",children:"\ud83d\udccb Assign"}),(0,kt.jsx)("button",{className:"unassign-btn",onClick:async()=>{if(n){(await x(n.id,null)).success&&r(h(h({},n),{},{assignedAgent:null,status:"unassigned"}))}},disabled:!n||!n.assignedAgent,title:"Remove agent assignment",children:"\u274c Unassign"}),(0,kt.jsx)("button",{className:"transfer-btn",onClick:async()=>{if(o&&n&&n.assignedAgent){(await S(n.id,n.assignedAgent,o,"Admin transfer")).success&&r(h(h({},n),{},{assignedAgent:o}))}},disabled:!o||!n||!n.assignedAgent,title:"Transfer to selected agent",children:"\ud83d\udd04 Transfer"})]})]}),(0,kt.jsxs)("div",{className:"agents-list",children:[(0,kt.jsx)("h4",{children:"\ud83c\udfa7 All Agents"}),(0,kt.jsx)("div",{className:"agents-grid",children:I.map(e=>(0,kt.jsxs)("div",{className:"agent-item",children:[(0,kt.jsxs)("div",{className:"agent-info",children:[(0,kt.jsx)("span",{className:"agent-name",children:e.name}),(0,kt.jsx)("span",{className:"agent-email",children:e.email})]}),(0,kt.jsxs)("span",{className:"agent-status",style:{color:O(e.status)},children:["\u25cf ",e.status]})]},e.id))})]}),(0,kt.jsxs)("div",{className:"admin-tools",children:[(0,kt.jsx)("h4",{children:"\ud83d\udee0 Admin Tools"}),(0,kt.jsxs)("div",{className:"tool-buttons",children:[(0,kt.jsx)("button",{className:"manage-agents-btn",onClick:()=>N("/admin/agents"),children:"\ud83d\udc65 Manage Agents"}),(0,kt.jsx)("button",{className:"analytics-btn",onClick:()=>N("/admin/analytics"),children:"\ud83d\udcca View Analytics"}),(0,kt.jsx)("button",{className:"export-btn",disabled:!n,onClick:()=>console.log("Export chat:",null===n||void 0===n?void 0:n.id),children:"\ud83d\udcbe Export Chat"})]})]})]})]})},PI=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)("Online"),[o,l]=(0,i.useState)({name:"",age:"",dob:"",email:"",phone:""}),{userProfile:c,updateProfile:u,updateStatus:d,logout:f}=uA(),p=me();(0,i.useEffect)(()=>{c&&(l({name:"".concat(c.firstName||""," ").concat(c.lastName||"").trim()||"Admin",age:c.age||"35 years old",dob:c.dateOfBirth||"01/01/1990",email:c.email||"admin@chatapp.com",phone:c.phoneNumber||"+91 9876543210"}),a(c.status||"Online"))},[c]);const m=e=>{l(h(h({},o),{},{[e.target.name]:e.target.value}))},g=async e=>{e.preventDefault();const n=o.name.split(" "),r={firstName:n[0]||"",lastName:n.slice(1).join(" ")||"",age:o.age,dateOfBirth:o.dob,email:o.email,phoneNumber:o.phone};(await u(r)).success&&t(!1)};return(0,kt.jsxs)("section",{className:"profile-wrapper admin-profile",children:[(0,kt.jsx)("header",{className:"profile-header",children:(0,kt.jsx)(yt,{to:"/admin/dashboard",className:"btn btn-outline",children:"\u2190 Back to Dashboard"})}),(0,kt.jsxs)("main",{className:"profile-content",children:[(0,kt.jsxs)("div",{className:"profile-info",children:[(0,kt.jsxs)("div",{className:"profile-avatar admin-avatar",children:[(0,kt.jsx)("span",{className:"avatar-text",children:o.name}),(0,kt.jsx)("div",{className:"admin-badge",children:"\ud83d\udc51"})]}),(0,kt.jsxs)("form",{className:"profile-form",onSubmit:g,children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Age:"}),(0,kt.jsx)("input",{type:"text",name:"age",value:o.age,onChange:m,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"DOB:"}),(0,kt.jsx)("input",{type:"date",name:"dob",value:o.dob,onChange:m,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Email:"}),(0,kt.jsx)("input",{type:"email",name:"email",value:o.email,onChange:m,disabled:!e})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{children:"Phone:"}),(0,kt.jsx)("input",{type:"tel",name:"phone",value:o.phone,onChange:m,disabled:!e})]}),!e&&(0,kt.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{t(!0)},children:"Edit"})]})]}),(0,kt.jsxs)("div",{className:"status-section admin-status",children:[(0,kt.jsx)("h3",{children:"\ud83d\udc51 Admin Status"}),(0,kt.jsx)("div",{className:"status-options",children:["Online","Idle","Offline"].map(e=>(0,kt.jsx)("button",{className:"status-btn ".concat(s===e?"active":""),onClick:()=>(async e=>{a(e),await d(e.toLowerCase())})(e),children:e},e))}),(0,kt.jsxs)("div",{className:"admin-privileges",children:[(0,kt.jsx)("p",{children:"\u2713 Full system access"}),(0,kt.jsx)("p",{children:"\u2713 Agent management"}),(0,kt.jsx)("p",{children:"\u2713 Analytics & reports"}),(0,kt.jsx)("p",{children:"\u2713 System configuration"})]})]}),(0,kt.jsxs)("div",{className:"admin-tools-section",children:[(0,kt.jsx)("h3",{children:"\ud83d\udee0 Quick Admin Tools"}),(0,kt.jsxs)("div",{className:"tool-grid",children:[(0,kt.jsxs)(yt,{to:"/admin/agents",className:"tool-card",children:[(0,kt.jsx)("span",{className:"tool-icon",children:"\ud83d\udc65"}),(0,kt.jsx)("span",{className:"tool-name",children:"Manage Agents"})]}),(0,kt.jsxs)(yt,{to:"/admin/chat",className:"tool-card",children:[(0,kt.jsx)("span",{className:"tool-icon",children:"\ud83d\udcac"}),(0,kt.jsx)("span",{className:"tool-name",children:"Monitor Chats"})]}),(0,kt.jsxs)(yt,{to:"/admin/analytics",className:"tool-card",children:[(0,kt.jsx)("span",{className:"tool-icon",children:"\ud83d\udcca"}),(0,kt.jsx)("span",{className:"tool-name",children:"View Analytics"})]}),(0,kt.jsxs)(yt,{to:"/admin/settings",className:"tool-card",children:[(0,kt.jsx)("span",{className:"tool-icon",children:"\u2699\ufe0f"}),(0,kt.jsx)("span",{className:"tool-name",children:"System Settings"})]})]})]}),(0,kt.jsxs)("div",{className:"auth-section",children:[(0,kt.jsx)("button",{className:"btn btn-primary",children:"Login"}),(0,kt.jsx)("button",{className:"btn btn-danger",onClick:()=>{r(!0)},children:"Log Out"})]}),e&&(0,kt.jsxs)("div",{className:"edit-profile-section",children:[(0,kt.jsx)("h3",{children:"Edit Profile Details"}),(0,kt.jsxs)("div",{className:"edit-actions",children:[(0,kt.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{t(!1),c&&l({name:"".concat(c.firstName||""," ").concat(c.lastName||"").trim()||"Admin",age:c.age||"35 years old",dob:c.dateOfBirth||"01/01/1990",email:c.email||"admin@chatapp.com",phone:c.phoneNumber||"+91 9876543210"})},children:"Cancel"}),(0,kt.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:g,children:"Save"})]})]})]}),n&&(0,kt.jsx)("div",{className:"modal-overlay",children:(0,kt.jsxs)("div",{className:"modal",children:[(0,kt.jsx)("div",{className:"modal-header",children:(0,kt.jsx)("h3",{children:"Confirm Admin Logout"})}),(0,kt.jsxs)("div",{className:"modal-body",children:[(0,kt.jsx)("p",{children:"Are you sure you want to log out of the admin panel?"}),(0,kt.jsx)("p",{children:(0,kt.jsx)("small",{children:"All active admin sessions will be terminated."})})]}),(0,kt.jsxs)("div",{className:"modal-footer",children:[(0,kt.jsx)("button",{className:"btn btn-outline",onClick:()=>{r(!1)},children:"Cancel"}),(0,kt.jsx)("button",{className:"btn btn-danger",onClick:async()=>{await f(),p("/admin-login")},children:"Logout"})]})]})})]})},RI=()=>{const{notifications:e,markNotificationAsRead:t,clearAllNotifications:n}=tI(),{userProfile:r}=uA(),[s,a]=(0,i.useState)([]),[o,l]=(0,i.useState)("all");(0,i.useEffect)(()=>{if(e.length){const t=e.map(e=>h(h({},e),{},{isSystemNotification:"system"===e.type||"admin"===e.type}));a(t)}else a([{id:1,icon:"\ud83e\uddd1\ud83d\udcbb",label:"Chana",tag:"New User",meta1:"Agent assigned",meta2:"@Blue-User \u27a1 @John",meta3:"Agent transfer",meta4:"@Cool to @Blue-User \u27a1 @John",type:"assignment",timestamp:new Date,read:!1},{id:2,icon:"\u26a0\ufe0f",label:"System",tag:"Alert",meta1:"High chat volume detected",meta2:"15 unassigned chats",meta3:"Consider adding more agents",meta4:"",type:"system",timestamp:new Date(Date.now()-3e5),read:!1},{id:3,icon:"\ud83d\udc68\u200d\ud83d\udcbc",label:"Agent Storm",tag:"Status Change",meta1:"Agent went offline",meta2:"3 chats transferred to @Blue",meta3:"Automatic reassignment",meta4:"",type:"agent",timestamp:new Date(Date.now()-6e5),read:!0},{id:4,icon:"\ud83d\udcca",label:"Analytics",tag:"Report Ready",meta1:"Daily performance report generated",meta2:"Response time: 2.1 minutes avg",meta3:"Customer satisfaction: 4.7/5",meta4:"View full report in dashboard",type:"system",timestamp:new Date(Date.now()-9e5),read:!1}])},[e]);const c=s.filter(e=>{switch(o){case"unread":return!e.read;case"system":return"system"===e.type||"admin"===e.type;case"agent":return"agent"===e.type||"assignment"===e.type;case"chat":return"message"===e.type||"transfer"===e.type;default:return!0}}),u=c.filter(e=>!e.read).length;return(0,kt.jsxs)("section",{className:"notifications-wrapper admin-notifications",children:[(0,kt.jsxs)("header",{className:"notifications-header",children:[(0,kt.jsx)("h2",{children:"\ud83d\udd14 Admin Notifications"}),(0,kt.jsxs)("div",{className:"notification-controls",children:[(0,kt.jsxs)("div",{className:"notification-stats",children:[(0,kt.jsxs)("span",{className:"total-count",children:["Total: ",c.length]}),(0,kt.jsxs)("span",{className:"unread-count",children:["Unread: ",u]})]}),(0,kt.jsx)("div",{className:"notification-filters",children:["all","unread","system","agent","chat"].map(e=>(0,kt.jsx)("button",{className:"filter-btn ".concat(o===e?"active":""),onClick:()=>l(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,kt.jsxs)("div",{className:"notification-actions",children:[(0,kt.jsx)("button",{className:"btn btn-outline clear-all-btn",onClick:()=>{window.confirm("Are you sure you want to clear all notifications?")&&(n(),a([]))},disabled:0===s.length,children:"Clear All"}),(0,kt.jsx)(yt,{to:"/admin/dashboard",className:"btn btn-primary",children:"\u2190 Back to Dashboard"})]})]})]}),(0,kt.jsxs)("main",{className:"notifications-content",children:[0===c.length&&(0,kt.jsxs)("div",{className:"no-notifications",children:[(0,kt.jsx)("div",{className:"no-notifications-icon",children:"\ud83d\udced"}),(0,kt.jsxs)("h3",{children:["No ","all"!==o?o:""," notifications"]}),(0,kt.jsx)("p",{children:"all"===o?"All caught up! No notifications right now.":"No ".concat(o," notifications at the moment.")})]}),c.map(e=>(0,kt.jsxs)("div",{className:"notification-item ".concat(e.read?"read":"unread"," ").concat(e.type||""),onClick:()=>(e=>{e.read||(t(e.id),a(s.map(t=>t.id===e.id?h(h({},t),{},{read:!0}):t)))})(e),children:[(0,kt.jsx)("span",{className:"notif-icon",children:e.icon}),(0,kt.jsxs)("div",{className:"notif-body",children:[(0,kt.jsxs)("div",{className:"notif-header",children:[(0,kt.jsx)("strong",{children:e.label})," \u2013 ",e.tag,(0,kt.jsx)("span",{className:"notif-timestamp",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"Just now"})]}),(0,kt.jsxs)("div",{className:"notif-content",children:[e.meta1&&(0,kt.jsx)("div",{className:"notif-meta primary",children:e.meta1}),e.meta2&&(0,kt.jsx)("div",{className:"notif-meta secondary",children:e.meta2}),e.meta3&&(0,kt.jsx)("div",{className:"notif-meta tertiary",children:e.meta3}),e.meta4&&(0,kt.jsx)("div",{className:"notif-meta quaternary",children:e.meta4})]}),e.type&&(0,kt.jsx)("div",{className:"notif-type-badge",children:(0,kt.jsx)("span",{className:"type-badge ".concat(e.type),children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})})]}),!e.read&&(0,kt.jsx)("div",{className:"unread-indicator",children:"\u25cf"})]},e.id))]}),c.length>0&&(0,kt.jsx)("footer",{className:"notifications-summary",children:(0,kt.jsxs)("div",{className:"summary-stats",children:[(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"System Alerts:"}),(0,kt.jsx)("span",{className:"stat-value",children:s.filter(e=>"system"===e.type).length})]}),(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Agent Activities:"}),(0,kt.jsx)("span",{className:"stat-value",children:s.filter(e=>"agent"===e.type||"assignment"===e.type).length})]}),(0,kt.jsxs)("div",{className:"stat-item",children:[(0,kt.jsx)("span",{className:"stat-label",children:"Chat Events:"}),(0,kt.jsx)("span",{className:"stat-value",children:s.filter(e=>"message"===e.type||"transfer"===e.type).length})]})]})})]})},DI=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)({name:"",age:"",dob:"",email:"",username:"",password:""}),{registerAgent:d,user:f}=uA();(0,i.useEffect)(()=>{t([{id:1,name:"John Doe",age:"25",dob:"01/15/1999",email:"john@email.com",username:"john_agent",status:"Active"},{id:2,name:"Jane Smith",age:"28",dob:"03/22/1996",email:"jane@email.com",username:"jane_agent",status:"Active"}])},[]);const p=e=>{u(h(h({},c),{},{[e.target.name]:e.target.value}))};return(0,kt.jsxs)("section",{className:"manage-agents-wrapper",children:[(0,kt.jsxs)("header",{className:"manage-agents-header",children:[(0,kt.jsx)("h1",{children:"\ud83d\udc65 Agents"}),(0,kt.jsx)(yt,{to:"/admin/dashboard",className:"btn btn-outline",children:"\u2190 Back to Dashboard"})]}),(0,kt.jsxs)("main",{className:"manage-agents-content",children:[(0,kt.jsx)("div",{className:"agents-sidebar",children:(0,kt.jsx)("div",{className:"agents-list",children:e.map(e=>(0,kt.jsxs)("div",{className:"agent-list-item ".concat((null===n||void 0===n?void 0:n.id)===e.id?"selected":""),onClick:()=>(e=>{r(e),u({name:e.name,age:e.age,dob:e.dob,email:e.email,username:e.username,password:""}),a(!1),l(!1)})(e),children:[(0,kt.jsx)("span",{className:"agent-name",children:e.name}),(0,kt.jsx)("span",{className:"agent-status",children:e.status})]},e.id))})}),(0,kt.jsxs)("div",{className:"agent-details-panel",children:[(0,kt.jsx)("h2",{children:"Agent Details"}),(0,kt.jsxs)("form",{className:"agent-form",onSubmit:async i=>{if(i.preventDefault(),o){if((await d({firstName:c.name.split(" ")[0],lastName:c.name.split(" ")[1]||"",email:c.email,password:c.password,phoneNumber:"",department:"Support"},f)).success){const n={id:Date.now(),name:c.name,age:c.age,dob:c.dob,email:c.email,username:c.username,status:"Active"};t([...e,n]),l(!1),u({name:"",age:"",dob:"",email:"",username:"",password:""})}}else if(s&&n){const i=e.map(e=>e.id===n.id?h(h({},e),c):e);t(i),r(h(h({},n),c)),a(!1)}},children:[(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,kt.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:p,disabled:!s&&!o,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"age",children:"Age:"}),(0,kt.jsx)("input",{type:"number",id:"age",name:"age",value:c.age,onChange:p,disabled:!s&&!o})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"dob",children:"DOB:"}),(0,kt.jsx)("input",{type:"date",id:"dob",name:"dob",value:c.dob,onChange:p,disabled:!s&&!o})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,kt.jsx)("input",{type:"email",id:"email",name:"email",value:c.email,onChange:p,disabled:!s&&!o,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,kt.jsx)("input",{type:"text",id:"username",name:"username",value:c.username,onChange:p,disabled:!s&&!o,required:!0})]}),(0,kt.jsxs)("div",{className:"form-group",children:[(0,kt.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,kt.jsx)("input",{type:"password",id:"password",name:"password",value:c.password,onChange:p,disabled:!s&&!o,placeholder:s?"Leave blank to keep current password":"",required:o})]}),(0,kt.jsxs)("div",{className:"form-actions",children:[!s&&!o&&n&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>{n&&window.confirm("Are you sure you want to remove this agent?")&&(t(e.filter(e=>e.id!==n.id)),r(null),u({name:"",age:"",dob:"",email:"",username:"",password:""}))},children:"Remove"}),(0,kt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{n&&a(!0)},children:"Edit"})]}),(s||o)&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{a(!1),l(!1),u(n?{name:n.name,age:n.age,dob:n.dob,email:n.email,username:n.username,password:""}:{name:"",age:"",dob:"",email:"",username:"",password:""})},children:"Cancel"}),(0,kt.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?"ADD":"Save"})]})]})]}),!s&&!o&&(0,kt.jsx)("div",{className:"add-agent-section",children:(0,kt.jsx)("button",{className:"btn btn-primary",onClick:()=>{l(!0),a(!1),r(null),u({name:"",age:"",dob:"",email:"",username:"",password:""})},children:"Add New Agent"})})]})]})]})},OI=e=>{let{children:t,requiredRole:n=null,fallbackPath:r="/agent-login"}=e;const{user:i,userProfile:s,isAuthenticated:a,isLoading:o}=uA(),l=de();return o?(0,kt.jsxs)(Lc.div,{className:"loading-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,kt.jsx)("div",{className:"loading-spinner"}),(0,kt.jsx)(Lc.div,{className:"loading-text",animate:{color:["#DC143C","#FFD700","#FF6347","#DC143C"]},transition:{duration:2,repeat:1/0},children:"Verifying authentication..."})]}):a&&i?n&&(null===s||void 0===s?void 0:s.role)!==n?(0,kt.jsxs)(Lc.div,{className:"error-boundary",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,kt.jsx)(Lc.div,{className:"error-icon",animate:{scale:[1,1.1,1],color:["#DC143C","#FFD700","#DC143C"]},transition:{duration:2,repeat:1/0},children:"\ud83d\udd10"}),(0,kt.jsx)("div",{className:"error-title",children:"Access Denied"}),(0,kt.jsxs)("div",{className:"error-message",children:["You don't have permission to access this area. Required role: ",n]}),(0,kt.jsx)("div",{className:"error-actions",children:(0,kt.jsx)(Lc.button,{className:"btn btn-primary",onClick:()=>window.history.back(),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Go Back"})})]}):s&&!s.isActive?(0,kt.jsxs)(Lc.div,{className:"error-boundary",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},children:[(0,kt.jsx)(Lc.div,{className:"error-icon",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:"\u26a0\ufe0f"}),(0,kt.jsx)("div",{className:"error-title",children:"Account Deactivated"}),(0,kt.jsx)("div",{className:"error-message",children:"Your account has been deactivated. Please contact your administrator for assistance."}),(0,kt.jsx)("div",{className:"error-actions",children:(0,kt.jsx)(Lc.button,{className:"btn btn-secondary",onClick:()=>window.location.href="mailto:admin@yourdomain.com",whileHover:{scale:1.05},children:"Contact Admin"})})]}):(0,kt.jsx)(Lc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:t}):(0,kt.jsx)(Pe,{to:r,state:{from:l.pathname},replace:!0})},jI=e=>{let{children:t,fallbackPath:n="/agent/dashboard"}=e;const{user:r,userProfile:i,isAuthenticated:s,isLoading:a,isAdmin:o}=uA(),l=de();return a?(0,kt.jsxs)(Lc.div,{className:"loading-container",initial:{opacity:0},animate:{opacity:1},children:[(0,kt.jsx)("div",{className:"loading-spinner"}),(0,kt.jsx)(Lc.div,{className:"loading-text",animate:{background:["linear-gradient(45deg, #DC143C, #FFD700)","linear-gradient(45deg, #FFD700, #FF6347)","linear-gradient(45deg, #FF6347, #DC143C)","linear-gradient(45deg, #DC143C, #FFD700)"]},style:{WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},transition:{duration:3,repeat:1/0},children:"Checking admin permissions..."})]}):s&&r?o()?(0,kt.jsx)(Lc.div,{initial:{opacity:0,rotateX:-15},animate:{opacity:1,rotateX:0},transition:{duration:.6,type:"spring",stiffness:100},children:t}):(0,kt.jsxs)(Lc.div,{className:"error-boundary",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,kt.jsx)(Lc.div,{className:"error-icon",animate:{rotateY:[0,360],color:["#DC143C","#FFD700","#FF6347","#DC143C"]},transition:{rotateY:{duration:2,repeat:1/0},color:{duration:3,repeat:1/0}},children:"\ud83d\udc51"}),(0,kt.jsx)("div",{className:"error-title",children:"Administrator Access Required"}),(0,kt.jsx)("div",{className:"error-message",children:"This area is restricted to administrators only. You are currently logged in as an agent."}),(0,kt.jsxs)("div",{className:"error-actions",children:[(0,kt.jsx)(Lc.button,{className:"btn btn-primary",onClick:()=>window.location.href="/agent/dashboard",whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(220, 20, 60, 0.3)"},whileTap:{scale:.95},children:"Go to Agent Dashboard"}),(0,kt.jsx)(Lc.button,{className:"btn btn-secondary",onClick:()=>window.location.href="/admin-login",whileHover:{scale:1.05},children:"Admin Login"})]})]}):(0,kt.jsx)(Pe,{to:"/admin-login",state:{from:l.pathname},replace:!0})},LI=e=>{let{children:t,allowAdmin:n=!0,fallbackPath:r="/agent-login"}=e;const{user:i,userProfile:s,isAuthenticated:a,isLoading:o,isAgent:l,isAdmin:c}=uA(),u=de();if(o)return(0,kt.jsxs)(Lc.div,{className:"loading-container",initial:{opacity:0},animate:{opacity:1},children:[(0,kt.jsx)(Lc.div,{className:"loading-spinner",animate:{borderLeftColor:["#DC143C","#FFD700","#FF6347","#DC143C"]},transition:{duration:2,repeat:1/0}}),(0,kt.jsx)("div",{className:"loading-text",children:"Verifying agent access..."})]});if(!a||!i)return(0,kt.jsx)(Pe,{to:r,state:{from:u.pathname},replace:!0});return l()||n&&c()?(0,kt.jsxs)(Lc.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4},children:[c()&&n&&(0,kt.jsxs)(Lc.div,{className:"admin-badge",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.3},style:{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #FFD700, #FF6347)",color:"#000",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",zIndex:1e3,boxShadow:"0 4px 12px rgba(255, 215, 0, 0.3)"},children:[(0,kt.jsx)(Lc.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},style:{marginRight:"4px"},children:"\ud83d\udc51"}),"Admin View"]}),t]}):(0,kt.jsxs)(Lc.div,{className:"error-boundary",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,kt.jsx)(Lc.div,{className:"error-icon",animate:{scale:[1,1.2,1],color:["#FF6347","#FFD700","#DC143C","#FF6347"]},transition:{duration:2.5,repeat:1/0},children:"\ud83c\udfa7"}),(0,kt.jsx)("div",{className:"error-title",children:"Agent Access Required"}),(0,kt.jsx)("div",{className:"error-message",children:"This area is restricted to support agents. Please log in with an agent account."}),(0,kt.jsx)("div",{className:"error-actions",children:(0,kt.jsx)(Lc.button,{className:"btn btn-primary",onClick:()=>window.location.href="/agent-login",whileHover:{scale:1.05,background:"linear-gradient(135deg, #DC143C, #FFD700)"},whileTap:{scale:.95},children:"Agent Login"})})]})};const MI=()=>(0,kt.jsxs)(Oe,{children:[(0,kt.jsx)(Re,{index:!0,element:(0,kt.jsx)(nI,{})}),(0,kt.jsx)(Re,{path:"dashboard",element:(0,kt.jsx)(nI,{})}),(0,kt.jsx)(Re,{path:"chat",element:(0,kt.jsx)(rI,{})}),(0,kt.jsx)(Re,{path:"chat/:chatId",element:(0,kt.jsx)(rI,{})}),(0,kt.jsx)(Re,{path:"profile",element:(0,kt.jsx)(iI,{})}),(0,kt.jsx)(Re,{path:"notifications",element:(0,kt.jsx)(sI,{})}),(0,kt.jsx)(Re,{path:"*",element:(0,kt.jsx)(Pe,{to:"/agent/dashboard",replace:!0})})]}),FI=()=>(0,kt.jsxs)(Oe,{children:[(0,kt.jsx)(Re,{index:!0,element:(0,kt.jsx)(oI,{})}),(0,kt.jsx)(Re,{path:"dashboard",element:(0,kt.jsx)(oI,{})}),(0,kt.jsx)(Re,{path:"chat",element:(0,kt.jsx)(II,{})}),(0,kt.jsx)(Re,{path:"chat/:chatId",element:(0,kt.jsx)(II,{})}),(0,kt.jsx)(Re,{path:"agents",element:(0,kt.jsx)(DI,{})}),(0,kt.jsx)(Re,{path:"agents/manage",element:(0,kt.jsx)(DI,{})}),(0,kt.jsx)(Re,{path:"profile",element:(0,kt.jsx)(PI,{})}),(0,kt.jsx)(Re,{path:"notifications",element:(0,kt.jsx)(RI,{})}),(0,kt.jsx)(Re,{path:"*",element:(0,kt.jsx)(Pe,{to:"/admin/dashboard",replace:!0})})]}),UI=function(){return(0,kt.jsx)(Fc,{children:(0,kt.jsx)(cA,{children:(0,kt.jsx)(eI,{children:(0,kt.jsx)(AI,{children:(0,kt.jsx)(mt,{children:(0,kt.jsx)("div",{className:"app",children:(0,kt.jsx)(Bt,{mode:"wait",children:(0,kt.jsxs)(Oe,{children:[(0,kt.jsx)(Re,{path:"/",element:(0,kt.jsx)(Bc,{})}),(0,kt.jsx)(Re,{path:"/agent-login",element:(0,kt.jsx)(hA,{})}),(0,kt.jsx)(Re,{path:"/admin-login",element:(0,kt.jsx)(aI,{})}),(0,kt.jsx)(Re,{path:"/agent/*",element:(0,kt.jsx)(OI,{children:(0,kt.jsx)(LI,{children:(0,kt.jsx)(MI,{})})})}),(0,kt.jsx)(Re,{path:"/admin/*",element:(0,kt.jsx)(OI,{children:(0,kt.jsx)(jI,{children:(0,kt.jsx)(FI,{})})})}),(0,kt.jsx)(Re,{path:"/loading",element:(0,kt.jsx)(Vc,{})}),(0,kt.jsx)(Re,{path:"*",element:(0,kt.jsx)(Pe,{to:"/",replace:!0})})]})})})})})})})})};s.createRoot(document.getElementById("root")).render((0,kt.jsx)(i.StrictMode,{children:(0,kt.jsx)(UI,{})}))})();
//# sourceMappingURL=main.f9329291.js.map